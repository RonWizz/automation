/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/index"],{

/***/ "./node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.esm.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.esm.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth0Client: function() { return /* binding */ te; },\n/* harmony export */   AuthenticationError: function() { return /* binding */ u; },\n/* harmony export */   CacheKey: function() { return /* binding */ C; },\n/* harmony export */   GenericError: function() { return /* binding */ d; },\n/* harmony export */   InMemoryCache: function() { return /* binding */ P; },\n/* harmony export */   LocalStorageCache: function() { return /* binding */ z; },\n/* harmony export */   MfaRequiredError: function() { return /* binding */ m; },\n/* harmony export */   MissingRefreshTokenError: function() { return /* binding */ f; },\n/* harmony export */   PopupCancelledError: function() { return /* binding */ p; },\n/* harmony export */   PopupTimeoutError: function() { return /* binding */ h; },\n/* harmony export */   TimeoutError: function() { return /* binding */ l; },\n/* harmony export */   User: function() { return /* binding */ ie; },\n/* harmony export */   createAuth0Client: function() { return /* binding */ oe; }\n/* harmony export */ });\nfunction e(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}\"function\"==typeof SuppressedError&&SuppressedError;var t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof __webpack_require__.g?__webpack_require__.g:\"undefined\"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var n=o((function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,i){var o=e.locked.get(t);void 0===o?void 0===i?e.locked.set(t,[]):e.locked.set(t,[i]):void 0!==i&&(o.unshift(i),e.locked.set(t,o))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(i,o){e.isLocked(t)?e.addToLocked(t,i):(e.addToLocked(t),i())}))},this.unlock=function(t){var i=e.locked.get(t);if(void 0!==i&&0!==i.length){var o=i.pop();e.locked.set(t,i),void 0!==o&&setTimeout(o,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return i.getInstance()}}));i(n);var a=i(o((function(e,i){var o=t&&t.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(n,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):new i((function(t){t(e.value)})).then(r,s)}c((o=o.apply(e,t||[])).next())}))},a=t&&t.__generator||function(e,t){var i,o,n,a,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(i)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(i=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(n=r.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){r.label=a[1];break}if(6===a[0]&&r.label<n[1]){r.label=n[1],n=a;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(a);break}n[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],o=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},r=t;Object.defineProperty(i,\"__esModule\",{value:!0});var s=\"browser-tabs-lock-key\",c={key:function(e){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},getItem:function(e){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},clear:function(){return o(r,void 0,void 0,(function(){return a(this,(function(e){return[2,window.localStorage.clear()]}))}))},removeItem:function(e){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},setItem:function(e,t){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},keySync:function(e){return window.localStorage.key(e)},getItemSync:function(e){return window.localStorage.getItem(e)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(e){return window.localStorage.removeItem(e)},setItemSync:function(e,t){return window.localStorage.setItem(e,t)}};function d(e){return new Promise((function(t){return setTimeout(t,e)}))}function u(e){for(var t=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\",i=\"\",o=0;o<e;o++){i+=t[Math.floor(Math.random()*t.length)]}return i}var l=function(){function e(t){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+u(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=t,void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,i){return void 0===i&&(i=5e3),o(this,void 0,void 0,(function(){var o,n,r,l,h,p,m;return a(this,(function(a){switch(a.label){case 0:o=Date.now()+u(4),n=Date.now()+i,r=s+\"-\"+t,l=void 0===this.storageHandler?c:this.storageHandler,a.label=1;case 1:return Date.now()<n?[4,d(30)]:[3,8];case 2:return a.sent(),null!==l.getItemSync(r)?[3,5]:(h=this.id+\"-\"+t+\"-\"+o,[4,d(Math.floor(25*Math.random()))]);case 3:return a.sent(),l.setItemSync(r,JSON.stringify({id:this.id,iat:o,timeoutKey:h,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,d(30)];case 4:return a.sent(),null!==(p=l.getItemSync(r))&&(m=JSON.parse(p)).id===this.id&&m.iat===o?(this.acquiredIatSet.add(o),this.refreshLockWhileAcquired(r,o),[2,!0]):[3,7];case 5:return e.lockCorrector(void 0===this.storageHandler?c:this.storageHandler),[4,this.waitForSomethingToChange(n)];case 6:a.sent(),a.label=7;case 7:return o=Date.now()+u(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return o(this,void 0,void 0,(function(){var i=this;return a(this,(function(r){return setTimeout((function(){return o(i,void 0,void 0,(function(){var i,o,r;return a(this,(function(a){switch(a.label){case 0:return[4,n.default().lock(t)];case 1:return a.sent(),this.acquiredIatSet.has(t)?(i=void 0===this.storageHandler?c:this.storageHandler,null===(o=i.getItemSync(e))?(n.default().unlock(t),[2]):((r=JSON.parse(o)).timeRefreshed=Date.now(),i.setItemSync(e,JSON.stringify(r)),n.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(n.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(i){var o=!1,n=Date.now(),a=!1;function r(){if(a||(window.removeEventListener(\"storage\",r),e.removeFromWaiting(r),clearTimeout(s),a=!0),!o){o=!0;var t=50-(Date.now()-n);t>0?setTimeout(i,t):i(null)}}window.addEventListener(\"storage\",r),e.addToWaiting(r);var s=setTimeout(r,Math.max(0,t-Date.now()))}))];case 1:return i.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return o(this,void 0,void 0,(function(){var i,o,r,d;return a(this,(function(a){switch(a.label){case 0:return i=void 0===this.storageHandler?c:this.storageHandler,o=s+\"-\"+t,null===(r=i.getItemSync(o))?[2]:(d=JSON.parse(r)).id!==this.id?[3,2]:[4,n.default().lock(d.iat)];case 1:a.sent(),this.acquiredIatSet.delete(d.iat),i.removeItemSync(o),n.default().unlock(d.iat),e.notifyWaiters(),a.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(t){for(var i=Date.now()-5e3,o=t,n=[],a=0;;){var r=o.keySync(a);if(null===r)break;n.push(r),a++}for(var c=!1,d=0;d<n.length;d++){var u=n[d];if(u.includes(s)){var l=o.getItemSync(u);if(null!==l){var h=JSON.parse(l);(void 0===h.timeRefreshed&&h.timeAcquired<i||void 0!==h.timeRefreshed&&h.timeRefreshed<i)&&(o.removeItemSync(u),c=!0)}}}c&&e.notifyWaiters()},e.waiters=void 0,e}();i.default=l})));const r={timeoutInSeconds:60},s={name:\"auth0-spa-js\",version:\"2.1.3\"},c=()=>Date.now();class d extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,d.prototype)}static fromPayload({error:e,error_description:t}){return new d(e,t)}}class u extends d{constructor(e,t,i,o=null){super(e,t),this.state=i,this.appState=o,Object.setPrototypeOf(this,u.prototype)}}class l extends d{constructor(){super(\"timeout\",\"Timeout\"),Object.setPrototypeOf(this,l.prototype)}}class h extends l{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,h.prototype)}}class p extends d{constructor(e){super(\"cancelled\",\"Popup closed\"),this.popup=e,Object.setPrototypeOf(this,p.prototype)}}class m extends d{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,m.prototype)}}class f extends d{constructor(e,t){super(\"missing_refresh_token\",`Missing Refresh Token (audience: '${g(e,[\"default\"])}', scope: '${g(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,f.prototype)}}function g(e,t=[]){return e&&!t.includes(e)?e:\"\"}const w=()=>window.crypto,y=()=>{const e=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.\";let t=\"\";return Array.from(w().getRandomValues(new Uint8Array(43))).forEach((i=>t+=e[i%e.length])),t},k=e=>btoa(e),v=t=>{var{clientId:i}=t,o=e(t,[\"clientId\"]);return new URLSearchParams((e=>Object.keys(e).filter((t=>void 0!==e[t])).reduce(((t,i)=>Object.assign(Object.assign({},t),{[i]:e[i]})),{}))(Object.assign({client_id:i},o))).toString()},b=e=>(e=>decodeURIComponent(atob(e).split(\"\").map((e=>\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))(e.replace(/_/g,\"/\").replace(/-/g,\"+\")),_=async(e,t)=>{const i=await fetch(e,t);return{ok:i.ok,json:await i.json()}},I=async(e,t,i)=>{const o=new AbortController;let n;return t.signal=o.signal,Promise.race([_(e,t),new Promise(((e,t)=>{n=setTimeout((()=>{o.abort(),t(new Error(\"Timeout when executing 'fetch'\"))}),i)}))]).finally((()=>{clearTimeout(n)}))},S=async(e,t,i,o,n,a,r)=>{return s={auth:{audience:t,scope:i},timeout:n,fetchUrl:e,fetchOptions:o,useFormData:r},c=a,new Promise((function(e,t){const i=new MessageChannel;i.port1.onmessage=function(o){o.data.error?t(new Error(o.data.error)):e(o.data),i.port1.close()},c.postMessage(s,[i.port2])}));var s,c},O=async(e,t,i,o,n,a,r=1e4)=>n?S(e,t,i,o,r,n,a):I(e,o,r);async function T(t,i){var{baseUrl:o,timeout:n,audience:a,scope:r,auth0Client:c,useFormData:u}=t,l=e(t,[\"baseUrl\",\"timeout\",\"audience\",\"scope\",\"auth0Client\",\"useFormData\"]);const h=u?v(l):JSON.stringify(l);return await async function(t,i,o,n,a,r,s){let c,u=null;for(let e=0;e<3;e++)try{c=await O(t,o,n,a,r,s,i),u=null;break}catch(e){u=e}if(u)throw u;const l=c.json,{error:h,error_description:p}=l,g=e(l,[\"error\",\"error_description\"]),{ok:w}=c;if(!w){const e=p||`HTTP error. Unable to fetch ${t}`;if(\"mfa_required\"===h)throw new m(h,e,g.mfa_token);if(\"missing_refresh_token\"===h)throw new f(o,n);throw new d(h||\"request_error\",e)}return g}(`${o}/oauth/token`,n,a||\"default\",r,{method:\"POST\",body:h,headers:{\"Content-Type\":u?\"application/x-www-form-urlencoded\":\"application/json\",\"Auth0-Client\":btoa(JSON.stringify(c||s))}},i,u)}const j=(...e)=>{return(t=e.filter(Boolean).join(\" \").trim().split(/\\s+/),Array.from(new Set(t))).join(\" \");var t};class C{constructor(e,t=\"@@auth0spajs@@\",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join(\"::\")}static fromKey(e){const[t,i,o,n]=e.split(\"::\");return new C({clientId:i,scope:n,audience:o},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:o}=e;return new C({scope:t,audience:i,clientId:o})}}class z{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith(\"@@auth0spajs@@\")))}}class P{constructor(){this.enclosedCache=function(){let e={};return{set(t,i){e[t]=i},get(t){const i=e[t];if(i)return i},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class x{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||c}async setIdToken(e,t,i){var o;const n=this.getIdTokenCacheKey(e);await this.cache.set(n,{id_token:t,decodedToken:i}),await(null===(o=this.keyManifest)||void 0===o?void 0:o.add(n))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const t=await this.get(e);if(!t)return;if(!t.id_token||!t.decodedToken)return;return{id_token:t.id_token,decodedToken:t.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var i;let o=await this.cache.get(e.toKey());if(!o){const t=await this.getCacheKeys();if(!t)return;const i=this.matchExistingCacheKey(e,t);i&&(o=await this.cache.get(i))}if(!o)return;const n=await this.nowProvider(),a=Math.floor(n/1e3);return o.expiresAt-t<a?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},await this.cache.set(e.toKey(),o),o.body):(await this.cache.remove(e.toKey()),void await(null===(i=this.keyManifest)||void 0===i?void 0:i.remove(e.toKey()))):o.body}async set(e){var t;const i=new C({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),o),await(null===(t=this.keyManifest)||void 0===t?void 0:t.add(i.toKey()))}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter((t=>!e||t.includes(e))).reduce((async(e,t)=>{await e,await this.cache.remove(t)}),Promise.resolve()),await(null===(t=this.keyManifest)||void 0===t?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?null===(e=await this.keyManifest.get())||void 0===e?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new C({clientId:e},\"@@auth0spajs@@\",\"@@user@@\").toKey()}matchExistingCacheKey(e,t){return t.filter((t=>{var i;const o=C.fromKey(t),n=new Set(o.scope&&o.scope.split(\" \")),a=(null===(i=e.scope)||void 0===i?void 0:i.split(\" \"))||[],r=o.scope&&a.reduce(((e,t)=>e&&n.has(t)),!0);return\"@@auth0spajs@@\"===o.prefix&&o.clientId===e.clientId&&o.audience===e.audience&&r}))[0]}}class Z{constructor(e,t,i){this.storage=e,this.clientId=t,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const K=e=>\"number\"==typeof e,W=[\"iss\",\"aud\",\"exp\",\"nbf\",\"iat\",\"jti\",\"azp\",\"nonce\",\"auth_time\",\"at_hash\",\"c_hash\",\"acr\",\"amr\",\"sub_jwk\",\"cnf\",\"sip_from_tag\",\"sip_date\",\"sip_callid\",\"sip_cseq_num\",\"sip_via_branch\",\"orig\",\"dest\",\"mky\",\"events\",\"toe\",\"txn\",\"rph\",\"sid\",\"vot\",\"vtm\"],E=e=>{if(!e.id_token)throw new Error(\"ID token is required but missing\");const t=(e=>{const t=e.split(\".\"),[i,o,n]=t;if(3!==t.length||!i||!o||!n)throw new Error(\"ID token could not be decoded\");const a=JSON.parse(b(o)),r={__raw:e},s={};return Object.keys(a).forEach((e=>{r[e]=a[e],W.includes(e)||(s[e]=a[e])})),{encoded:{header:i,payload:o,signature:n},header:JSON.parse(b(i)),claims:r,user:s}})(e.id_token);if(!t.claims.iss)throw new Error(\"Issuer (iss) claim must be a string present in the ID token\");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected \"${e.iss}\", found \"${t.claims.iss}\"`);if(!t.user.sub)throw new Error(\"Subject (sub) claim must be a string present in the ID token\");if(\"RS256\"!==t.header.alg)throw new Error(`Signature algorithm of \"${t.header.alg}\" is not supported. Expected the ID token to be signed with \"RS256\".`);if(!t.claims.aud||\"string\"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error(\"Audience (aud) claim must be a string or array of strings present in the ID token\");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but was not one of \"${t.claims.aud.join(\", \")}\"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error(\"Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values\");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected \"${e.aud}\", found \"${t.claims.azp}\"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but found \"${t.claims.aud}\"`);if(e.nonce){if(!t.claims.nonce)throw new Error(\"Nonce (nonce) claim must be a string present in the ID token\");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected \"${e.nonce}\", found \"${t.claims.nonce}\"`)}if(e.max_age&&!K(t.claims.auth_time))throw new Error(\"Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified\");if(null==t.claims.exp||!K(t.claims.exp))throw new Error(\"Expiration Time (exp) claim must be a number present in the ID token\");if(!K(t.claims.iat))throw new Error(\"Issued At (iat) claim must be a number present in the ID token\");const i=e.leeway||60,o=new Date(e.now||Date.now()),n=new Date(0);if(n.setUTCSeconds(t.claims.exp+i),o>n)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${o}) is after expiration time (${n})`);if(null!=t.claims.nbf&&K(t.claims.nbf)){const e=new Date(0);if(e.setUTCSeconds(t.claims.nbf-i),o<e)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${o}) is before ${e}`)}if(null!=t.claims.auth_time&&K(t.claims.auth_time)){const n=new Date(0);if(n.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+i),o>n)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${o}) is after last auth at ${n}`)}if(e.organization){const i=e.organization.trim();if(i.startsWith(\"org_\")){const e=i;if(!t.claims.org_id)throw new Error(\"Organization ID (org_id) claim must be a string present in the ID token\");if(e!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected \"${e}\", found \"${t.claims.org_id}\"`)}else{const e=i.toLowerCase();if(!t.claims.org_name)throw new Error(\"Organization Name (org_name) claim must be a string present in the ID token\");if(e!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected \"${e}\", found \"${t.claims.org_name}\"`)}}return t};var R=o((function(e,i){var o=t&&t.__assign||function(){return o=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};function n(e,t){if(!t)return\"\";var i=\"; \"+e;return!0===t?i:i+\"=\"+t}function a(e,t,i){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")+\"=\"+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if(\"number\"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return n(\"Expires\",e.expires?e.expires.toUTCString():\"\")+n(\"Domain\",e.domain)+n(\"Path\",e.path)+n(\"Secure\",e.secure)+n(\"SameSite\",e.sameSite)}(i)}function r(e){for(var t={},i=e?e.split(\"; \"):[],o=/(%[\\dA-F]{2})+/gi,n=0;n<i.length;n++){var a=i[n].split(\"=\"),r=a.slice(1).join(\"=\");'\"'===r.charAt(0)&&(r=r.slice(1,-1));try{t[a[0].replace(o,decodeURIComponent)]=r.replace(o,decodeURIComponent)}catch(e){}}return t}function s(){return r(document.cookie)}function c(e,t,i){document.cookie=a(e,t,o({path:\"/\"},i))}i.__esModule=!0,i.encode=a,i.parse=r,i.getAll=s,i.get=function(e){return s()[e]},i.set=c,i.remove=function(e,t){c(e,\"\",o(o({},t),{expires:-1}))}}));i(R),R.encode,R.parse,R.getAll;var U=R.get,L=R.set,D=R.remove;const X={get(e){const t=U(e);if(void 0!==t)return JSON.parse(t)},save(e,t,i){let o={};\"https:\"===window.location.protocol&&(o={secure:!0,sameSite:\"none\"}),(null==i?void 0:i.daysUntilExpire)&&(o.expires=i.daysUntilExpire),(null==i?void 0:i.cookieDomain)&&(o.domain=i.cookieDomain),L(e,JSON.stringify(t),o)},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),D(e,i)}},N={get(e){const t=X.get(e);return t||X.get(`_legacy_${e}`)},save(e,t,i){let o={};\"https:\"===window.location.protocol&&(o={secure:!0}),(null==i?void 0:i.daysUntilExpire)&&(o.expires=i.daysUntilExpire),(null==i?void 0:i.cookieDomain)&&(o.domain=i.cookieDomain),L(`_legacy_${e}`,JSON.stringify(t),o),X.save(e,t,i)},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),D(e,i),X.remove(e,t),X.remove(`_legacy_${e}`,t)}},J={get(e){if(\"undefined\"==typeof sessionStorage)return;const t=sessionStorage.getItem(e);return null!=t?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};function F(e,t,i){var o=void 0===t?null:t,n=function(e,t){var i=atob(e);if(t){for(var o=new Uint8Array(i.length),n=0,a=i.length;n<a;++n)o[n]=i.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return i}(e,void 0!==i&&i),a=n.indexOf(\"\\n\",10)+1,r=n.substring(a)+(o?\"//# sourceMappingURL=\"+o:\"\"),s=new Blob([r],{type:\"application/javascript\"});return URL.createObjectURL(s)}var H,Y,G,V,M=(H=\"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=\",Y=null,G=!1,function(e){return V=V||F(H,Y,G),new Worker(V,e)});const A={};class B{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const i=new Set((null===(t=await this.cache.get(this.manifestKey))||void 0===t?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const $={memory:()=>(new P).enclosedCache,localstorage:()=>new z},q=e=>$[e],Q=t=>{const{openUrl:i,onRedirect:o}=t,n=e(t,[\"openUrl\",\"onRedirect\"]);return Object.assign(Object.assign({},n),{openUrl:!1===i||i?i:o})},ee=new a;class te{constructor(e){let t,i;if(this.userCache=(new P).enclosedCache,this.defaultOptions={authorizationParams:{scope:\"openid profile email\"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await ee.releaseLock(\"auth0.lock.getTokenSilently\"),window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),\"undefined\"!=typeof window&&(()=>{if(!w())throw new Error(\"For security reasons, `window.crypto` is required to run `auth0-spa-js`.\");if(void 0===w().subtle)throw new Error(\"\\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\\n    \")})(),e.cache&&e.cacheLocation&&console.warn(\"Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`.\"),e.cache)i=e.cache;else{if(t=e.cacheLocation||\"memory\",!q(t))throw new Error(`Invalid cache location \"${t}\"`);i=q(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?X:N,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(e=>`auth0.${e}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const o=e.useCookiesForTransactions?this.cookieStorage:J;var n;this.scope=j(\"openid\",this.options.authorizationParams.scope,this.options.useRefreshTokens?\"offline_access\":\"\"),this.transactionManager=new Z(o,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||c,this.cacheManager=new x(i,i.allKeys?void 0:new B(i,this.options.clientId),this.nowProvider),this.domainUrl=(n=this.options.domain,/^https?:\\/\\//.test(n)?n:`https://${n}`),this.tokenIssuer=((e,t)=>e?e.startsWith(\"https://\")?e:`https://${e}/`:`${t}/`)(this.options.issuer,this.domainUrl),\"undefined\"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&\"memory\"===t&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new M)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||s)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${v(e)}`)}async _verifyIdToken(e,t,i){const o=await this.nowProvider();return E({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:i,leeway:this.options.leeway,max_age:(n=this.options.authorizationParams.max_age,\"string\"!=typeof n?n:parseInt(n,10)||void 0),now:o});var n}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,i){const o=k(y()),n=k(y()),a=y(),r=(e=>{const t=new Uint8Array(e);return(e=>{const t={\"+\":\"-\",\"/\":\"_\",\"=\":\"\"};return e.replace(/[+/=]/g,(e=>t[e]))})(window.btoa(String.fromCharCode(...Array.from(t))))})(await(async e=>{const t=w().subtle.digest({name:\"SHA-256\"},(new TextEncoder).encode(e));return await t})(a)),s=((e,t,i,o,n,a,r,s)=>Object.assign(Object.assign(Object.assign({client_id:e.clientId},e.authorizationParams),i),{scope:j(t,i.scope),response_type:\"code\",response_mode:s||\"query\",state:o,nonce:n,redirect_uri:r||e.authorizationParams.redirect_uri,code_challenge:a,code_challenge_method:\"S256\"}))(this.options,this.scope,e,o,n,r,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,null==t?void 0:t.response_mode),c=this._authorizeUrl(s);return{nonce:n,code_verifier:a,scope:s.scope,audience:s.audience||\"default\",redirect_uri:s.redirect_uri,state:o,url:c}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(e=>{const t=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open(e,\"auth0:authorize:popup\",`left=${t},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)})(\"\"),!t.popup))throw new Error(\"Unable to open a popup for loginWithPopup - window.open returned `null`\");const o=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:\"web_message\"},window.location.origin);t.popup.location.href=o.url;const n=await(e=>new Promise(((t,i)=>{let o;const n=setInterval((()=>{e.popup&&e.popup.closed&&(clearInterval(n),clearTimeout(a),window.removeEventListener(\"message\",o,!1),i(new p(e.popup)))}),1e3),a=setTimeout((()=>{clearInterval(n),i(new h(e.popup)),window.removeEventListener(\"message\",o,!1)}),1e3*(e.timeoutInSeconds||60));o=function(r){if(r.data&&\"authorization_response\"===r.data.type){if(clearTimeout(a),clearInterval(n),window.removeEventListener(\"message\",o,!1),e.popup.close(),r.data.response.error)return i(d.fromPayload(r.data.response));t(r.data.response)}},window.addEventListener(\"message\",o)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==n.state)throw new d(\"state_mismatch\",\"Invalid state\");const a=(null===(i=e.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:\"authorization_code\",code:n.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:a})}async getUser(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.claims}async loginWithRedirect(t={}){var i;const o=Q(t),{openUrl:n,fragment:a,appState:r}=o,s=e(o,[\"openUrl\",\"fragment\",\"appState\"]),c=(null===(i=s.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization,d=await this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:u}=d,l=e(d,[\"url\"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},l),{appState:r}),c&&{organization:c}));const h=a?`${u}#${a}`:u;n?await n(h):window.location.assign(h)}async handleRedirectCallback(e=window.location.href){const t=e.split(\"?\").slice(1);if(0===t.length)throw new Error(\"There are no query params available for parsing.\");const{state:i,code:o,error:n,error_description:a}=(e=>{e.indexOf(\"#\")>-1&&(e=e.substring(0,e.indexOf(\"#\")));const t=new URLSearchParams(e);return{state:t.get(\"state\"),code:t.get(\"code\")||void 0,error:t.get(\"error\")||void 0,error_description:t.get(\"error_description\")||void 0}})(t.join(\"\")),r=this.transactionManager.get();if(!r)throw new d(\"missing_transaction\",\"Invalid state\");if(this.transactionManager.remove(),n)throw new u(n,a||n,i,r.appState);if(!r.code_verifier||r.state&&r.state!==i)throw new d(\"state_mismatch\",\"Invalid state\");const s=r.organization,c=r.nonce,l=r.redirect_uri;return await this._requestToken(Object.assign({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:\"authorization_code\",code:o},l?{redirect_uri:l}:{}),{nonceIn:c,organization:s}),{appState:r.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get(\"auth0.is.authenticated\"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(\"auth0.is.authenticated\")}try{await this.getTokenSilently(e)}catch(e){}}async getTokenSilently(e={}){var t;const i=Object.assign(Object.assign({cacheMode:\"on\"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:j(this.scope,null===(t=e.authorizationParams)||void 0===t?void 0:t.scope)})}),o=await((e,t)=>{let i=A[t];return i||(i=e().finally((()=>{delete A[t],i=null})),A[t]=i),i})((()=>this._getTokenSilently(i)),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return e.detailedResponse?o:null==o?void 0:o.access_token}async _getTokenSilently(t){const{cacheMode:i}=t,o=e(t,[\"cacheMode\"]);if(\"off\"!==i){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId});if(e)return e}if(\"cache-only\"!==i){if(!await(async(e,t=3)=>{for(let i=0;i<t;i++)if(await e())return!0;return!1})((()=>ee.acquireLock(\"auth0.lock.getTokenSilently\",5e3)),10))throw new l;try{if(window.addEventListener(\"pagehide\",this._releaseLockOnPageHide),\"off\"!==i){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId});if(e)return e}const e=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(o):await this._getTokenFromIFrame(o),{id_token:t,access_token:n,oauthTokenScope:a,expires_in:r}=e;return Object.assign(Object.assign({id_token:t,access_token:n},a?{scope:a}:null),{expires_in:r})}finally{await ee.releaseLock(\"auth0.lock.getTokenSilently\"),window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var i;const o=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:j(this.scope,null===(i=e.authorizationParams)||void 0===i?void 0:i.scope)})});t=Object.assign(Object.assign({},r),t),await this.loginWithPopup(o,t);return(await this.cacheManager.get(new C({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){null!==t.clientId?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const i=t.logoutParams||{},{federated:o}=i,n=e(i,[\"federated\"]),a=o?\"&federated\":\"\";return this._url(`/v2/logout?${v(Object.assign({clientId:t.clientId},n))}`)+a}async logout(t={}){const i=Q(t),{openUrl:o}=i,n=e(i,[\"openUrl\"]);null===t.clientId?await this.cacheManager.clear():await this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove(\"@@user@@\");const a=this._buildLogoutUrl(n);o?await o(a):!1!==o&&window.location.assign(a)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:\"none\"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:o,state:n,nonce:a,code_verifier:r,redirect_uri:s,scope:c,audience:u}=await this._prepareAuthorizeUrl(t,{response_mode:\"web_message\"},window.location.origin);try{if(window.crossOriginIsolated)throw new d(\"login_required\",\"The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.\");const i=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,h=await((e,t,i=60)=>new Promise(((o,n)=>{const a=window.document.createElement(\"iframe\");a.setAttribute(\"width\",\"0\"),a.setAttribute(\"height\",\"0\"),a.style.display=\"none\";const r=()=>{window.document.body.contains(a)&&(window.document.body.removeChild(a),window.removeEventListener(\"message\",s,!1))};let s;const c=setTimeout((()=>{n(new l),r()}),1e3*i);s=function(e){if(e.origin!=t)return;if(!e.data||\"authorization_response\"!==e.data.type)return;const i=e.source;i&&i.close(),e.data.response.error?n(d.fromPayload(e.data.response)):o(e.data.response),clearTimeout(c),window.removeEventListener(\"message\",s,!1),setTimeout(r,2e3)},window.addEventListener(\"message\",s,!1),window.document.body.appendChild(a),a.setAttribute(\"src\",e)})))(o,this.domainUrl,i);if(n!==h.state)throw new d(\"state_mismatch\",\"Invalid state\");const p=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:r,code:h.code,grant_type:\"authorization_code\",redirect_uri:s,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},p),{scope:c,oauthTokenScope:p.scope,audience:u})}catch(e){throw\"login_required\"===e.error&&this.logout({openUrl:!1}),e}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new C({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||\"default\",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new f(e.authorizationParams.audience||\"default\",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=\"number\"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null;try{const n=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:\"refresh_token\",refresh_token:t&&t.refresh_token,redirect_uri:i}),o&&{timeout:o}));return Object.assign(Object.assign({},n),{scope:e.authorizationParams.scope,oauthTokenScope:n.scope,audience:e.authorizationParams.audience||\"default\"})}catch(t){if((t.message.indexOf(\"Missing Refresh Token\")>-1||t.message&&t.message.indexOf(\"invalid refresh token\")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw t}}async _saveEntryInCache(t){const{id_token:i,decodedToken:o}=t,n=e(t,[\"id_token\",\"decodedToken\"]);this.userCache.set(\"@@user@@\",{id_token:i,decodedToken:o}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(n)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||\"default\",t=await this.cacheManager.getIdToken(new C({clientId:this.options.clientId,audience:e,scope:this.scope})),i=this.userCache.get(\"@@user@@\");return t&&t.id_token===(null==i?void 0:i.id_token)?i:(this.userCache.set(\"@@user@@\",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:i}){const o=await this.cacheManager.get(new C({scope:e,audience:t,clientId:i}),60);if(o&&o.access_token){const{access_token:e,oauthTokenScope:t,expires_in:i}=o,n=await this._getIdTokenFromCache();return n&&Object.assign(Object.assign({id_token:n.id_token,access_token:e},t?{scope:t}:null),{expires_in:i})}}async _requestToken(e,t){const{nonceIn:i,organization:o}=t||{},n=await T(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),a=await this._verifyIdToken(n.id_token,i,o);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},n),{decodedToken:a,scope:e.scope,audience:e.audience||\"default\"}),n.scope?{oauthTokenScope:n.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(o||a.claims.org_id),Object.assign(Object.assign({},n),{decodedToken:a})}}class ie{}async function oe(e){const t=new te(e);return await t.checkSession(),t}\n//# sourceMappingURL=auth0-spa-js.production.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1dGgwL2F1dGgwLXNwYS1qcy9kaXN0L2F1dGgwLXNwYS1qcy5wcm9kdWN0aW9uLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0JBQWdCLFNBQVMsc0ZBQXNGLDZEQUE2RCxRQUFRLHNDQUFzQyxXQUFXLDZGQUE2RixTQUFTLG9EQUFvRCxzR0FBc0cscUJBQU0sQ0FBQyxxQkFBTSxrQ0FBa0MsY0FBYyxzRkFBc0YsZ0JBQWdCLFlBQVksV0FBVyxzQkFBc0IsdUJBQXVCLHNDQUFzQyxTQUFTLEVBQUUsaUJBQWlCLGFBQWEsV0FBVyxtREFBbUQsc0JBQXNCLDBHQUEwRywyQkFBMkIsdUJBQXVCLHVCQUF1QixrQ0FBa0Msd0RBQXdELEdBQUcseUJBQXlCLHNCQUFzQiw2QkFBNkIsY0FBYyw4Q0FBOEMseUJBQXlCLGdDQUFnQywwREFBMEQsR0FBRyxHQUFHLHFCQUFxQix3QkFBd0IsR0FBRyxLQUFLLHlCQUF5Qix3Q0FBd0MsMENBQTBDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxxQ0FBcUMsV0FBVyxhQUFhLCtCQUErQixHQUFHLG1DQUFtQyxlQUFlLHdCQUF3QixxQkFBcUIsWUFBWSxpQkFBaUIsVUFBVSxpQ0FBaUMsMkRBQTJELFlBQVksSUFBSSxjQUFjLG1CQUFtQixtQkFBbUIsNERBQTRELEtBQUssRUFBRSxLQUFLLGtIQUFrSCx5Q0FBeUMsa0JBQWtCLE1BQU0seUJBQXlCLG9CQUFvQiw4QkFBOEIsU0FBUyxrQ0FBa0MsU0FBUywwRUFBMEUsSUFBSSxTQUFTLHlDQUF5QyxhQUFhLE1BQU0sMkJBQTJCLGlCQUFpQixNQUFNLG9CQUFvQiwyQkFBMkIsTUFBTSwrQkFBK0IsU0FBUyxjQUFjLFNBQVMsWUFBWSxRQUFRLE1BQU0scUJBQXFCLE9BQU8sZ0NBQWdDLFVBQVUsS0FBSyxzQ0FBc0MsU0FBUyxFQUFFLGlDQUFpQyxnQkFBZ0IscUNBQXFDLDJCQUEyQiwrQkFBK0IsR0FBRyxHQUFHLHFCQUFxQixxQ0FBcUMsMkJBQTJCLCtCQUErQixHQUFHLEdBQUcsa0JBQWtCLHFDQUFxQywyQkFBMkIsc0NBQXNDLEdBQUcsR0FBRyx3QkFBd0IscUNBQXFDLDJCQUEyQiwrQkFBK0IsR0FBRyxHQUFHLHVCQUF1QixxQ0FBcUMsMkJBQTJCLCtCQUErQixHQUFHLEdBQUcscUJBQXFCLGtDQUFrQyx5QkFBeUIsc0NBQXNDLHNCQUFzQixtQ0FBbUMsNEJBQTRCLHlDQUF5QywyQkFBMkIsMENBQTBDLGNBQWMsZ0NBQWdDLHVCQUF1QixHQUFHLGNBQWMsbUZBQW1GLElBQUksS0FBSyx5Q0FBeUMsU0FBUyxpQkFBaUIsY0FBYywrYkFBK2IsNkNBQTZDLDREQUE0RCxrQkFBa0IsMkJBQTJCLGdCQUFnQixpSEFBaUgsMkNBQTJDLGlIQUFpSCx1REFBdUQsK0VBQStFLGFBQWEsMktBQTJLLHVIQUF1SCwwQkFBMEIsc0NBQXNDLHFCQUFxQixHQUFHLEdBQUcsb0RBQW9ELHdDQUF3QyxXQUFXLDJCQUEyQiw4QkFBOEIscUNBQXFDLFVBQVUsMkJBQTJCLGdCQUFnQixxQ0FBcUMsMlVBQTJVLEdBQUcsR0FBRyxXQUFXLEdBQUcsR0FBRyxrREFBa0Qsd0NBQXdDLDJCQUEyQixnQkFBZ0IseUNBQXlDLDJCQUEyQixhQUFhLGdHQUFnRyxLQUFLLHdCQUF3Qiw2QkFBNkIsdURBQXVELDZDQUE2QyxJQUFJLDRCQUE0QixHQUFHLEdBQUcsNEJBQTRCLGdFQUFnRSxpQ0FBaUMsNkRBQTZELGFBQWEsSUFBSSw0QkFBNEIsMkRBQTJELFdBQVcsR0FBRyxxQ0FBcUMsd0NBQXdDLDJCQUEyQixnQkFBZ0IsZ0RBQWdELDJCQUEyQixHQUFHLEdBQUcsZ0RBQWdELHdDQUF3QyxZQUFZLDJCQUEyQixnQkFBZ0IsOEtBQThLLDRIQUE0SCxrQkFBa0IsR0FBRyxHQUFHLDZCQUE2Qix1Q0FBdUMsRUFBRSxtQkFBbUIsa0JBQWtCLGNBQWMsaUJBQWlCLFdBQVcsS0FBSyxXQUFXLGtCQUFrQix1QkFBdUIsYUFBYSxvQkFBb0Isd0hBQXdILHFCQUFxQixvQkFBb0IsR0FBRyxZQUFZLElBQUksU0FBUyxvQkFBb0IsSUFBSSxvQ0FBb0Msa0JBQWtCLHNCQUFzQixpQkFBaUIsdUZBQXVGLG9CQUFvQiw0QkFBNEIsRUFBRSxtQkFBbUIsa0JBQWtCLDBCQUEwQixpRkFBaUYsa0JBQWtCLGNBQWMsb0VBQW9FLGtCQUFrQixlQUFlLDhEQUE4RCxrQkFBa0IsZUFBZSx3RkFBd0Ysa0JBQWtCLG1CQUFtQixxRUFBcUUsa0JBQWtCLGlCQUFpQixtRUFBbUUsaUJBQWlCLGFBQWEsS0FBSywyRUFBMkUsbUJBQW1CLDhCQUE4QixpQ0FBaUMsNkVBQTZFLFNBQVMsNEZBQTRGLG9CQUFvQixJQUFJLFdBQVcsdUJBQXVCLHNIQUFzSCxLQUFLLFNBQVMsS0FBSyxrQkFBa0IsWUFBWSxpQkFBaUIsNEtBQTRLLHlCQUF5QixPQUFPLDZCQUE2QixrQkFBa0IsNEJBQTRCLE1BQU0sbUVBQW1FLG1CQUFtQix5REFBeUQsS0FBSyxtQkFBbUIsZ0JBQWdCLEdBQUcsMEJBQTBCLFVBQVUsTUFBTSxtQkFBbUIsbURBQW1ELGdDQUFnQywyQkFBMkIsOEJBQThCLGtFQUFrRSw0QkFBNEIsR0FBRyxRQUFRLHlEQUF5RCxzQkFBc0IsSUFBSSxtRUFBbUUsK0VBQStFLGlDQUFpQywyQ0FBMkMsYUFBYSxZQUFZLElBQUksUUFBUSxnQ0FBZ0MsTUFBTSxTQUFTLElBQUksYUFBYSxnQkFBZ0IsNEJBQTRCLHlDQUF5QyxLQUFLLEdBQUcsT0FBTywwQ0FBMEMsRUFBRSxFQUFFLG1EQUFtRCxnREFBZ0Qsa0NBQWtDLFNBQVMsSUFBSSxFQUFFLGdDQUFnQyw4QkFBOEIsbUhBQW1ILE1BQU0saUJBQWlCLDJGQUEyRixPQUFPLFFBQVEsb0NBQW9DLGlHQUFpRyxRQUFRLGtHQUFrRyxrQkFBa0IsNkJBQTZCLGNBQWMsOEJBQThCLElBQUkseUJBQXlCLE1BQU0sK0JBQStCLEdBQUcsY0FBYyw4QkFBOEIsR0FBRyxRQUFRLFNBQVMsMENBQTBDLE9BQU8sdUNBQXVDLFNBQVMscUJBQXFCLFNBQVMsUUFBUSxVQUFVLDJCQUEyQixVQUFVLHFGQUFxRixRQUFRLGNBQWMsOEJBQThCLFNBQVMsT0FBTyxTQUFTLE9BQU8sUUFBUSxhQUFhLGNBQWMsV0FBVyxZQUFZLDZCQUE2QixJQUFJLFFBQVEsbUJBQW1CLHNEQUFzRCx3QkFBd0IsTUFBTSxtQ0FBbUMsd0JBQXdCLDBCQUEwQixpRUFBaUUsb0JBQW9CLGtFQUFrRSw0QkFBNEIsMEJBQTBCLGFBQWEsdUNBQXVDLE9BQU8saURBQWlELFlBQVksaURBQWlELGlCQUFpQixNQUFNLHNDQUFzQyxPQUFPLGtDQUFrQyxhQUFhLHdDQUF3QywrQkFBK0IsYUFBYSxxREFBcUQscURBQXFELG1DQUFtQyxzS0FBc0ssYUFBYSxNQUFNLGVBQWUsdURBQXVELGlDQUFpQyx5R0FBeUcsZUFBZSxNQUFNLGtDQUFrQyxnRUFBZ0UsbUNBQW1DLHNGQUFzRix3QkFBd0IsaUNBQWlDLE9BQU8saURBQWlELHFCQUFxQixNQUFNLHlJQUF5SSxzQkFBc0IsY0FBYyxXQUFXLHNDQUFzQywyQkFBMkIscUJBQXFCLE1BQU0sb0tBQW9LLHVGQUF1RixPQUFPLFFBQVEsbUJBQW1CLG1GQUFtRixjQUFjLEVBQUUsVUFBVSxxQ0FBcUMsaURBQWlELEVBQUUsTUFBTSx5Q0FBeUMsU0FBUyxxQ0FBcUMsK0JBQStCLEdBQUcsNlJBQTZSLG1FQUFtRSxhQUFhLCtCQUErQiw2RUFBNkUsNEJBQTRCLFFBQVEsTUFBTSxtQ0FBbUMscUNBQXFDLElBQUksU0FBUywrQkFBK0IsMENBQTBDLGNBQWMsZ0dBQWdHLHNGQUFzRixZQUFZLE1BQU0sWUFBWSxhQUFhLElBQUksK0ZBQStGLHFFQUFxRSxhQUFhLHVFQUF1RSxtTEFBbUwsZ0NBQWdDLGlHQUFpRyxZQUFZLE1BQU0sd0JBQXdCLHdCQUF3QixJQUFJLDBCQUEwQix3SkFBd0osZ0dBQWdHLFlBQVksTUFBTSxZQUFZLGFBQWEsS0FBSyw2RkFBNkYsWUFBWSxNQUFNLGVBQWUsYUFBYSxJQUFJLFlBQVksbUdBQW1HLDJGQUEyRixZQUFZLFFBQVEsWUFBWSxlQUFlLElBQUksMktBQTJLLGdJQUFnSSxzR0FBc0csaUVBQWlFLDJHQUEyRyxnQkFBZ0IsRUFBRSw4QkFBOEIsRUFBRSxJQUFJLHdDQUF3QyxvQkFBb0Isc0tBQXNLLEVBQUUsY0FBYyxFQUFFLEdBQUcsb0RBQW9ELG9CQUFvQix3T0FBd08sRUFBRSwwQkFBMEIsRUFBRSxHQUFHLG1CQUFtQiw4QkFBOEIseUJBQXlCLFVBQVUsK0dBQStHLGlHQUFpRyxZQUFZLEVBQUUsWUFBWSxnQkFBZ0IsSUFBSSxLQUFLLHdCQUF3QixxSEFBcUgsdUdBQXVHLFlBQVksRUFBRSxZQUFZLGtCQUFrQixLQUFLLFVBQVUsdUJBQXVCLGdDQUFnQyxvQ0FBb0MsaUNBQWlDLElBQUksdUZBQXVGLFNBQVMsMEJBQTBCLGdCQUFnQixlQUFlLFNBQVMsSUFBSSx1QkFBdUIsa0JBQWtCLDRQQUE0UCwrQkFBK0IsZUFBZSxtRUFBbUUsNklBQTZJLElBQUksY0FBYyxZQUFZLGdCQUFnQixtQkFBbUIsRUFBRSxVQUFVLFdBQVcsS0FBSyw2Q0FBNkMscUNBQXFDLElBQUksc0VBQXNFLFdBQVcsU0FBUyxhQUFhLDBCQUEwQixrQkFBa0IseUJBQXlCLFNBQVMsS0FBSyxrRUFBa0UsY0FBYyxnQ0FBZ0MsYUFBYSxLQUFLLFdBQVcsSUFBSSxHQUFHLCtCQUErQiwrQkFBK0IsU0FBUyxPQUFPLGFBQWEsbUNBQW1DLGFBQWEsU0FBUyx5Q0FBeUMsMEJBQTBCLHdKQUF3SixhQUFhLFNBQVMsbUVBQW1FLElBQUksT0FBTyxpQkFBaUIsMkJBQTJCLEVBQUUsR0FBRyxhQUFhLFNBQVMseUNBQXlDLFVBQVUsNElBQTRJLEVBQUUscUNBQXFDLGFBQWEsU0FBUyxvR0FBb0csRUFBRSxNQUFNLElBQUksT0FBTyw2Q0FBNkMsa0NBQWtDLG9DQUFvQyxXQUFXLDRDQUE0QyxXQUFXLCtCQUErQixrQkFBa0Isd0NBQXdDLGNBQWMsTUFBTSxrREFBa0QsSUFBSSx5QkFBeUIsaUVBQWlFLFNBQVMsMkdBQTJHLDhCQUE4QixFQUFFLDhCQUE4QixvZ0dBQW9nRyxxQ0FBcUMsRUFBRSxXQUFXLFFBQVEsaUJBQWlCLHdGQUF3RixhQUFhLE1BQU0sbUdBQW1HLGdEQUFnRCxZQUFZLEVBQUUsZ0JBQWdCLCtDQUErQyxNQUFNLHdCQUF3QixtRUFBbUUsWUFBWSw2Q0FBNkMsTUFBTSx3Q0FBd0MsUUFBUSwyQ0FBMkMseUJBQXlCLHlCQUF5QixFQUFFLEdBQUcsU0FBUyx3REFBd0QsaUJBQWlCLE1BQU0sdUJBQXVCLG1DQUFtQyxxQ0FBcUMsS0FBSyxzQkFBc0IsRUFBRSxVQUFVLFNBQVMsZUFBZSxRQUFRLDZEQUE2RCxxQkFBcUIsNkJBQTZCLDRDQUE0Qyx1Q0FBdUMsdUhBQXVILDBEQUEwRCwwQkFBMEIsa0RBQWtELGlFQUFpRSxvQ0FBb0Msb0dBQW9HLHlPQUF5TywySUFBMkksZ0VBQWdFLEtBQUssZ0ZBQWdGLEVBQUUsSUFBSSxTQUFTLDRKQUE0SixzQkFBc0IsZ0VBQWdFLEVBQUUsbUdBQW1HLHlEQUF5RCxNQUFNLG9aQUFvWixFQUFFLG9FQUFvRSxFQUFFLE1BQU0sRUFBRSwwTkFBME4sUUFBUSw4RUFBOEUsU0FBUyxlQUFlLEVBQUUsRUFBRSxlQUFlLEVBQUUsRUFBRSxpQkFBaUIsK0JBQStCLEtBQUssR0FBRyw0QkFBNEIsaUNBQWlDLFVBQVUsbU5BQW1OLEVBQUUsTUFBTSxtQkFBbUIsb0RBQW9ELG1GQUFtRixvREFBb0QsdUNBQXVDLEVBQUUsa0NBQWtDLHFDQUFxQywwQkFBMEIsV0FBVyxTQUFTLHdCQUF3QixxQ0FBcUMsc0RBQXNELGtCQUFrQiwyQkFBMkIsZUFBZSw4QkFBOEIsZUFBZSx1RUFBdUUscUJBQXFCLDRCQUE0QixrTEFBa0wsNEpBQTRKLE9BQU8sZ0hBQWdILDBCQUEwQixNQUFNLFVBQVUsVUFBVSx1QkFBdUIsNkZBQTZGLHFEQUFxRCxFQUFFLE9BQU8sRUFBRSwwREFBMEQsMkdBQTJHLGlFQUFpRSxFQUFFLDRCQUE0Qix5QkFBeUIsNEJBQTRCLHNDQUFzQyxNQUFNLDBCQUEwQix5SEFBeUgsMEJBQTBCLDhFQUE4RSxnQ0FBZ0MsY0FBYyxtREFBbUQsOEpBQThKLG9CQUFvQixzQ0FBc0Msa0NBQWtDLEtBQUssZ0ZBQWdGLEdBQUcsbUVBQW1FLDRIQUE0SCwwQkFBMEIsd0lBQXdJLEVBQUUsK0JBQStCLEVBQUUsZ0JBQWdCLE1BQU0sMENBQTBDLDBFQUEwRSx5QkFBeUIsTUFBTSwwQ0FBMEMsNEVBQTRFLDRCQUE0QixFQUFFLE1BQU0sY0FBYyxnQ0FBZ0MsNk5BQTZOLEdBQUcsTUFBTSxrQkFBa0IsMkVBQTJFLEtBQUssV0FBVyxNQUFNLGVBQWUsR0FBRyxhQUFhLEVBQUUsR0FBRyxFQUFFLElBQUksdUNBQXVDLHFEQUFxRCw4QkFBOEIsb0ZBQW9GLE1BQU0sMkNBQTJDLE1BQU0scURBQXFELCtCQUErQixPQUFPLG1JQUFtSSw4Q0FBOEMseURBQXlELHVFQUF1RSx3RkFBd0Ysa0RBQWtELCtDQUErQyx1R0FBdUcsSUFBSSxlQUFlLEdBQUcsR0FBRyx5QkFBeUIsR0FBRyxxQkFBcUIsc0JBQXNCLDREQUE0RCw0REFBNEQsMkRBQTJELG1GQUFtRixzREFBc0QsSUFBSSwrQkFBK0IsV0FBVywyQkFBMkIsRUFBRSxNQUFNLHFDQUFxQyxlQUFlLEtBQUssZ0VBQWdFLDJEQUEyRCxnRkFBZ0YsRUFBRSxrQkFBa0IsV0FBVywrQkFBK0IsbUJBQW1CLGFBQWEscUNBQXFDLHNCQUFzQixJQUFJLCtCQUErQixJQUFJLDRCQUE0QixHQUFHLDBEQUEwRCwyQkFBMkIsTUFBTSxZQUFZLHdCQUF3QixjQUFjLHVDQUF1QyxvSEFBb0gsRUFBRSxjQUFjLHFCQUFxQix5QkFBeUIsWUFBWSxJQUFJLDBCQUEwQixTQUFTLDBFQUEwRSxJQUFJLDhFQUE4RSx1Q0FBdUMsb0hBQW9ILEVBQUUsY0FBYyxrSEFBa0gseURBQXlELEdBQUcsb0NBQW9DLDBCQUEwQixJQUFJLFFBQVEsUUFBUSxhQUFhLEVBQUUsUUFBUSx5SEFBeUgsNEJBQTRCLEtBQUssRUFBRSxNQUFNLHNDQUFzQyxLQUFLLGdFQUFnRSwyREFBMkQsZ0ZBQWdGLEVBQUUsRUFBRSxnQ0FBZ0Msc0NBQXNDLDBDQUEwQyxvSEFBb0gsaUJBQWlCLHdCQUF3Qiw2QkFBNkIsbUJBQW1CLGlGQUFpRiwwQkFBMEIsRUFBRSxZQUFZLDRDQUE0QywrQkFBK0IsaUJBQWlCLG9CQUFvQixLQUFLLEtBQUssaUJBQWlCLEVBQUUsY0FBYyxVQUFVLHNCQUFzQixxS0FBcUssdUNBQXVDLDREQUE0RCx1Q0FBdUMsb0NBQW9DLGdDQUFnQywrQ0FBK0MsNkJBQTZCLHNDQUFzQyx5QkFBeUIsY0FBYyxtREFBbUQsdUNBQXVDLE1BQU0sd0VBQXdFLG9DQUFvQyw0QkFBNEIseUJBQXlCLElBQUksZ01BQWdNLDRHQUE0RyxnREFBZ0QsZ0ZBQWdGLGFBQWEsb0hBQW9ILE1BQU0seUJBQXlCLGFBQWEsU0FBUyxjQUFjLHNCQUFzQiwwREFBMEQsaUJBQWlCLHFLQUFxSyxxR0FBcUcsd0JBQXdCLDZEQUE2RCwrREFBK0QseUJBQXlCLHFJQUFxSSxHQUFHLHNDQUFzQyxFQUFFLHFDQUFxQyxLQUFLLDJDQUEyQyxFQUFFLFNBQVMsOENBQThDLFdBQVcsS0FBSyxvQ0FBb0MsMkNBQTJDLG9IQUFvSCxHQUFHLHVDQUF1QyxrRkFBa0YsbUZBQW1GLG9MQUFvTCxJQUFJLDZFQUE2RSx5QkFBeUIsMkVBQTJFLE1BQU0sVUFBVSxHQUFHLHFDQUFxQyxLQUFLLDZHQUE2RyxFQUFFLFNBQVMsNkxBQTZMLFNBQVMsMkJBQTJCLE1BQU0sMEJBQTBCLHNDQUFzQywrQkFBK0IsMEJBQTBCLHFIQUFxSCw2QkFBNkIseUdBQXlHLDJEQUEyRCxvQ0FBb0MsMEZBQTBGLDBCQUEwQiw4QkFBOEIsRUFBRSwyQ0FBMkMsOEJBQThCLE1BQU0sc0JBQXNCLE1BQU0sOENBQThDLHVDQUF1Qyx1Q0FBdUMsbUNBQW1DLElBQUksUUFBUSxRQUFRLGFBQWEsR0FBRyx5QkFBeUIsTUFBTSx5QkFBeUIsTUFBTSwwQkFBMEIsNEpBQTRKLDZEQUE2RCw4RkFBOEYsS0FBSyw0REFBNEQsV0FBVyx3QkFBd0IsUUFBUSxnQ0FBZ0MsOERBQThELG1GQUFtRix5RUFBeUUsS0FBSyxlQUFlLEdBQUcsVUFBVSxxQkFBcUIsa0JBQWtCLGdDQUFzVDtBQUNyd3hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AYXV0aDAvYXV0aDAtc3BhLWpzL2Rpc3QvYXV0aDAtc3BhLWpzLnByb2R1Y3Rpb24uZXNtLmpzPzBjYmQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZShlLHQpe3ZhciBpPXt9O2Zvcih2YXIgbyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiZ0LmluZGV4T2Yobyk8MCYmKGlbb109ZVtvXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49MDtmb3Iobz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO248by5sZW5ndGg7bisrKXQuaW5kZXhPZihvW25dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxvW25dKSYmKGlbb1tuXV09ZVtvW25dXSl9cmV0dXJuIGl9XCJmdW5jdGlvblwiPT10eXBlb2YgU3VwcHJlc3NlZEVycm9yJiZTdXBwcmVzc2VkRXJyb3I7dmFyIHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0XCIpP2UuZGVmYXVsdDplfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZSh0PXtleHBvcnRzOnt9fSx0LmV4cG9ydHMpLHQuZXhwb3J0c312YXIgbj1vKChmdW5jdGlvbihlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXRoaXM7dGhpcy5sb2NrZWQ9bmV3IE1hcCx0aGlzLmFkZFRvTG9ja2VkPWZ1bmN0aW9uKHQsaSl7dmFyIG89ZS5sb2NrZWQuZ2V0KHQpO3ZvaWQgMD09PW8/dm9pZCAwPT09aT9lLmxvY2tlZC5zZXQodCxbXSk6ZS5sb2NrZWQuc2V0KHQsW2ldKTp2b2lkIDAhPT1pJiYoby51bnNoaWZ0KGkpLGUubG9ja2VkLnNldCh0LG8pKX0sdGhpcy5pc0xvY2tlZD1mdW5jdGlvbih0KXtyZXR1cm4gZS5sb2NrZWQuaGFzKHQpfSx0aGlzLmxvY2s9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLG8pe2UuaXNMb2NrZWQodCk/ZS5hZGRUb0xvY2tlZCh0LGkpOihlLmFkZFRvTG9ja2VkKHQpLGkoKSl9KSl9LHRoaXMudW5sb2NrPWZ1bmN0aW9uKHQpe3ZhciBpPWUubG9ja2VkLmdldCh0KTtpZih2b2lkIDAhPT1pJiYwIT09aS5sZW5ndGgpe3ZhciBvPWkucG9wKCk7ZS5sb2NrZWQuc2V0KHQsaSksdm9pZCAwIT09byYmc2V0VGltZW91dChvLDApfWVsc2UgZS5sb2NrZWQuZGVsZXRlKHQpfX1yZXR1cm4gZS5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1lLmluc3RhbmNlJiYoZS5pbnN0YW5jZT1uZXcgZSksZS5pbnN0YW5jZX0sZX0oKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5nZXRJbnN0YW5jZSgpfX0pKTtpKG4pO3ZhciBhPWkobygoZnVuY3Rpb24oZSxpKXt2YXIgbz10JiZ0Ll9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LGksbyl7cmV0dXJuIG5ldyhpfHwoaT1Qcm9taXNlKSkoKGZ1bmN0aW9uKG4sYSl7ZnVuY3Rpb24gcihlKXt0cnl7YyhvLm5leHQoZSkpfWNhdGNoKGUpe2EoZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moby50aHJvdyhlKSl9Y2F0Y2goZSl7YShlKX19ZnVuY3Rpb24gYyhlKXtlLmRvbmU/bihlLnZhbHVlKTpuZXcgaSgoZnVuY3Rpb24odCl7dChlLnZhbHVlKX0pKS50aGVuKHIscyl9Yygobz1vLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxhPXQmJnQuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIGksbyxuLGEscj17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZuWzBdKXRocm93IG5bMV07cmV0dXJuIG5bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gYT17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGFbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksYTtmdW5jdGlvbiBzKGEpe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24oYSl7aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3I7KXRyeXtpZihpPTEsbyYmKG49MiZhWzBdP28ucmV0dXJuOmFbMF0/by50aHJvd3x8KChuPW8ucmV0dXJuKSYmbi5jYWxsKG8pLDApOm8ubmV4dCkmJiEobj1uLmNhbGwobyxhWzFdKSkuZG9uZSlyZXR1cm4gbjtzd2l0Y2gobz0wLG4mJihhPVsyJmFbMF0sbi52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6bj1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gci5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTpyLmxhYmVsKyssbz1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPXIub3BzLnBvcCgpLHIudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobj1yLnRyeXMsKG49bi5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXSl8fDYhPT1hWzBdJiYyIT09YVswXSkpe3I9MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFufHxhWzFdPm5bMF0mJmFbMV08blszXSkpe3IubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmci5sYWJlbDxuWzFdKXtyLmxhYmVsPW5bMV0sbj1hO2JyZWFrfWlmKG4mJnIubGFiZWw8blsyXSl7ci5sYWJlbD1uWzJdLHIub3BzLnB1c2goYSk7YnJlYWt9blsyXSYmci5vcHMucG9wKCksci50cnlzLnBvcCgpO2NvbnRpbnVlfWE9dC5jYWxsKGUscil9Y2F0Y2goZSl7YT1bNixlXSxvPTB9ZmluYWxseXtpPW49MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2Esc10pfX19LHI9dDtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1cImJyb3dzZXItdGFicy1sb2NrLWtleVwiLGM9e2tleTpmdW5jdGlvbihlKXtyZXR1cm4gbyhyLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWRcIil9KSl9KSl9LGdldEl0ZW06ZnVuY3Rpb24oZSl7cmV0dXJuIG8ocix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkXCIpfSkpfSkpfSxjbGVhcjpmdW5jdGlvbigpe3JldHVybiBvKHIsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihlKXtyZXR1cm5bMix3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCldfSkpfSkpfSxyZW1vdmVJdGVtOmZ1bmN0aW9uKGUpe3JldHVybiBvKHIsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZFwiKX0pKX0pKX0sc2V0SXRlbTpmdW5jdGlvbihlLHQpe3JldHVybiBvKHIsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZFwiKX0pKX0pKX0sa2V5U3luYzpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5rZXkoZSl9LGdldEl0ZW1TeW5jOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSl9LGNsZWFyU3luYzpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCl9LHJlbW92ZUl0ZW1TeW5jOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9LHNldEl0ZW1TeW5jOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLHQpfX07ZnVuY3Rpb24gZChlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe3JldHVybiBzZXRUaW1lb3V0KHQsZSl9KSl9ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYVFphYmNkZWZnaGlrbG1ub3BxcnN0dXZ3eHl6XCIsaT1cIlwiLG89MDtvPGU7bysrKXtpKz10W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0Lmxlbmd0aCldfXJldHVybiBpfXZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt0aGlzLmFjcXVpcmVkSWF0U2V0PW5ldyBTZXQsdGhpcy5zdG9yYWdlSGFuZGxlcj12b2lkIDAsdGhpcy5pZD1EYXRlLm5vdygpLnRvU3RyaW5nKCkrdSgxNSksdGhpcy5hY3F1aXJlTG9jaz10aGlzLmFjcXVpcmVMb2NrLmJpbmQodGhpcyksdGhpcy5yZWxlYXNlTG9jaz10aGlzLnJlbGVhc2VMb2NrLmJpbmQodGhpcyksdGhpcy5yZWxlYXNlTG9ja19fcHJpdmF0ZV9fPXRoaXMucmVsZWFzZUxvY2tfX3ByaXZhdGVfXy5iaW5kKHRoaXMpLHRoaXMud2FpdEZvclNvbWV0aGluZ1RvQ2hhbmdlPXRoaXMud2FpdEZvclNvbWV0aGluZ1RvQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5yZWZyZXNoTG9ja1doaWxlQWNxdWlyZWQ9dGhpcy5yZWZyZXNoTG9ja1doaWxlQWNxdWlyZWQuYmluZCh0aGlzKSx0aGlzLnN0b3JhZ2VIYW5kbGVyPXQsdm9pZCAwPT09ZS53YWl0ZXJzJiYoZS53YWl0ZXJzPVtdKX1yZXR1cm4gZS5wcm90b3R5cGUuYWNxdWlyZUxvY2s9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9NWUzKSxvKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbyxuLHIsbCxoLHAsbTtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOm89RGF0ZS5ub3coKSt1KDQpLG49RGF0ZS5ub3coKStpLHI9cytcIi1cIit0LGw9dm9pZCAwPT09dGhpcy5zdG9yYWdlSGFuZGxlcj9jOnRoaXMuc3RvcmFnZUhhbmRsZXIsYS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gRGF0ZS5ub3coKTxuP1s0LGQoMzApXTpbMyw4XTtjYXNlIDI6cmV0dXJuIGEuc2VudCgpLG51bGwhPT1sLmdldEl0ZW1TeW5jKHIpP1szLDVdOihoPXRoaXMuaWQrXCItXCIrdCtcIi1cIitvLFs0LGQoTWF0aC5mbG9vcigyNSpNYXRoLnJhbmRvbSgpKSldKTtjYXNlIDM6cmV0dXJuIGEuc2VudCgpLGwuc2V0SXRlbVN5bmMocixKU09OLnN0cmluZ2lmeSh7aWQ6dGhpcy5pZCxpYXQ6byx0aW1lb3V0S2V5OmgsdGltZUFjcXVpcmVkOkRhdGUubm93KCksdGltZVJlZnJlc2hlZDpEYXRlLm5vdygpfSkpLFs0LGQoMzApXTtjYXNlIDQ6cmV0dXJuIGEuc2VudCgpLG51bGwhPT0ocD1sLmdldEl0ZW1TeW5jKHIpKSYmKG09SlNPTi5wYXJzZShwKSkuaWQ9PT10aGlzLmlkJiZtLmlhdD09PW8/KHRoaXMuYWNxdWlyZWRJYXRTZXQuYWRkKG8pLHRoaXMucmVmcmVzaExvY2tXaGlsZUFjcXVpcmVkKHIsbyksWzIsITBdKTpbMyw3XTtjYXNlIDU6cmV0dXJuIGUubG9ja0NvcnJlY3Rvcih2b2lkIDA9PT10aGlzLnN0b3JhZ2VIYW5kbGVyP2M6dGhpcy5zdG9yYWdlSGFuZGxlciksWzQsdGhpcy53YWl0Rm9yU29tZXRoaW5nVG9DaGFuZ2UobildO2Nhc2UgNjphLnNlbnQoKSxhLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBvPURhdGUubm93KCkrdSg0KSxbMywxXTtjYXNlIDg6cmV0dXJuWzIsITFdfX0pKX0pKX0sZS5wcm90b3R5cGUucmVmcmVzaExvY2tXaGlsZUFjcXVpcmVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpPXRoaXM7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24ocil7cmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIG8oaSx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLG8scjtyZXR1cm4gYSh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG4uZGVmYXVsdCgpLmxvY2sodCldO2Nhc2UgMTpyZXR1cm4gYS5zZW50KCksdGhpcy5hY3F1aXJlZElhdFNldC5oYXModCk/KGk9dm9pZCAwPT09dGhpcy5zdG9yYWdlSGFuZGxlcj9jOnRoaXMuc3RvcmFnZUhhbmRsZXIsbnVsbD09PShvPWkuZ2V0SXRlbVN5bmMoZSkpPyhuLmRlZmF1bHQoKS51bmxvY2sodCksWzJdKTooKHI9SlNPTi5wYXJzZShvKSkudGltZVJlZnJlc2hlZD1EYXRlLm5vdygpLGkuc2V0SXRlbVN5bmMoZSxKU09OLnN0cmluZ2lmeShyKSksbi5kZWZhdWx0KCkudW5sb2NrKHQpLHRoaXMucmVmcmVzaExvY2tXaGlsZUFjcXVpcmVkKGUsdCksWzJdKSk6KG4uZGVmYXVsdCgpLnVubG9jayh0KSxbMl0pfX0pKX0pKX0pLDFlMyksWzJdfSkpfSkpfSxlLnByb3RvdHlwZS53YWl0Rm9yU29tZXRoaW5nVG9DaGFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGkpe3ZhciBvPSExLG49RGF0ZS5ub3coKSxhPSExO2Z1bmN0aW9uIHIoKXtpZihhfHwod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsciksZS5yZW1vdmVGcm9tV2FpdGluZyhyKSxjbGVhclRpbWVvdXQocyksYT0hMCksIW8pe289ITA7dmFyIHQ9NTAtKERhdGUubm93KCktbik7dD4wP3NldFRpbWVvdXQoaSx0KTppKG51bGwpfX13aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIixyKSxlLmFkZFRvV2FpdGluZyhyKTt2YXIgcz1zZXRUaW1lb3V0KHIsTWF0aC5tYXgoMCx0LURhdGUubm93KCkpKX0pKV07Y2FzZSAxOnJldHVybiBpLnNlbnQoKSxbMl19fSkpfSkpfSxlLmFkZFRvV2FpdGluZz1mdW5jdGlvbih0KXt0aGlzLnJlbW92ZUZyb21XYWl0aW5nKHQpLHZvaWQgMCE9PWUud2FpdGVycyYmZS53YWl0ZXJzLnB1c2godCl9LGUucmVtb3ZlRnJvbVdhaXRpbmc9ZnVuY3Rpb24odCl7dm9pZCAwIT09ZS53YWl0ZXJzJiYoZS53YWl0ZXJzPWUud2FpdGVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKSl9LGUubm90aWZ5V2FpdGVycz1mdW5jdGlvbigpe3ZvaWQgMCE9PWUud2FpdGVycyYmZS53YWl0ZXJzLnNsaWNlKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pKX0sZS5wcm90b3R5cGUucmVsZWFzZUxvY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5yZWxlYXNlTG9ja19fcHJpdmF0ZV9fKGUpXTtjYXNlIDE6cmV0dXJuWzIsdC5zZW50KCldfX0pKX0pKX0sZS5wcm90b3R5cGUucmVsZWFzZUxvY2tfX3ByaXZhdGVfXz1mdW5jdGlvbih0KXtyZXR1cm4gbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksbyxyLGQ7cmV0dXJuIGEodGhpcywoZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm4gaT12b2lkIDA9PT10aGlzLnN0b3JhZ2VIYW5kbGVyP2M6dGhpcy5zdG9yYWdlSGFuZGxlcixvPXMrXCItXCIrdCxudWxsPT09KHI9aS5nZXRJdGVtU3luYyhvKSk/WzJdOihkPUpTT04ucGFyc2UocikpLmlkIT09dGhpcy5pZD9bMywyXTpbNCxuLmRlZmF1bHQoKS5sb2NrKGQuaWF0KV07Y2FzZSAxOmEuc2VudCgpLHRoaXMuYWNxdWlyZWRJYXRTZXQuZGVsZXRlKGQuaWF0KSxpLnJlbW92ZUl0ZW1TeW5jKG8pLG4uZGVmYXVsdCgpLnVubG9jayhkLmlhdCksZS5ub3RpZnlXYWl0ZXJzKCksYS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSkpfSkpfSxlLmxvY2tDb3JyZWN0b3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPURhdGUubm93KCktNWUzLG89dCxuPVtdLGE9MDs7KXt2YXIgcj1vLmtleVN5bmMoYSk7aWYobnVsbD09PXIpYnJlYWs7bi5wdXNoKHIpLGErK31mb3IodmFyIGM9ITEsZD0wO2Q8bi5sZW5ndGg7ZCsrKXt2YXIgdT1uW2RdO2lmKHUuaW5jbHVkZXMocykpe3ZhciBsPW8uZ2V0SXRlbVN5bmModSk7aWYobnVsbCE9PWwpe3ZhciBoPUpTT04ucGFyc2UobCk7KHZvaWQgMD09PWgudGltZVJlZnJlc2hlZCYmaC50aW1lQWNxdWlyZWQ8aXx8dm9pZCAwIT09aC50aW1lUmVmcmVzaGVkJiZoLnRpbWVSZWZyZXNoZWQ8aSkmJihvLnJlbW92ZUl0ZW1TeW5jKHUpLGM9ITApfX19YyYmZS5ub3RpZnlXYWl0ZXJzKCl9LGUud2FpdGVycz12b2lkIDAsZX0oKTtpLmRlZmF1bHQ9bH0pKSk7Y29uc3Qgcj17dGltZW91dEluU2Vjb25kczo2MH0scz17bmFtZTpcImF1dGgwLXNwYS1qc1wiLHZlcnNpb246XCIyLjEuM1wifSxjPSgpPT5EYXRlLm5vdygpO2NsYXNzIGQgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKHQpLHRoaXMuZXJyb3I9ZSx0aGlzLmVycm9yX2Rlc2NyaXB0aW9uPXQsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsZC5wcm90b3R5cGUpfXN0YXRpYyBmcm9tUGF5bG9hZCh7ZXJyb3I6ZSxlcnJvcl9kZXNjcmlwdGlvbjp0fSl7cmV0dXJuIG5ldyBkKGUsdCl9fWNsYXNzIHUgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKGUsdCxpLG89bnVsbCl7c3VwZXIoZSx0KSx0aGlzLnN0YXRlPWksdGhpcy5hcHBTdGF0ZT1vLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHUucHJvdG90eXBlKX19Y2xhc3MgbCBleHRlbmRzIGR7Y29uc3RydWN0b3IoKXtzdXBlcihcInRpbWVvdXRcIixcIlRpbWVvdXRcIiksT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsbC5wcm90b3R5cGUpfX1jbGFzcyBoIGV4dGVuZHMgbHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMucG9wdXA9ZSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxoLnByb3RvdHlwZSl9fWNsYXNzIHAgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKGUpe3N1cGVyKFwiY2FuY2VsbGVkXCIsXCJQb3B1cCBjbG9zZWRcIiksdGhpcy5wb3B1cD1lLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHAucHJvdG90eXBlKX19Y2xhc3MgbSBleHRlbmRzIGR7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsdCksdGhpcy5tZmFfdG9rZW49aSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxtLnByb3RvdHlwZSl9fWNsYXNzIGYgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoXCJtaXNzaW5nX3JlZnJlc2hfdG9rZW5cIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7ZyhlLFtcImRlZmF1bHRcIl0pfScsIHNjb3BlOiAnJHtnKHQpfScpYCksdGhpcy5hdWRpZW5jZT1lLHRoaXMuc2NvcGU9dCxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxmLnByb3RvdHlwZSl9fWZ1bmN0aW9uIGcoZSx0PVtdKXtyZXR1cm4gZSYmIXQuaW5jbHVkZXMoZSk/ZTpcIlwifWNvbnN0IHc9KCk9PndpbmRvdy5jcnlwdG8seT0oKT0+e2NvbnN0IGU9XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei1ffi5cIjtsZXQgdD1cIlwiO3JldHVybiBBcnJheS5mcm9tKHcoKS5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoNDMpKSkuZm9yRWFjaCgoaT0+dCs9ZVtpJWUubGVuZ3RoXSkpLHR9LGs9ZT0+YnRvYShlKSx2PXQ9Pnt2YXJ7Y2xpZW50SWQ6aX09dCxvPWUodCxbXCJjbGllbnRJZFwiXSk7cmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKGU9Pk9iamVjdC5rZXlzKGUpLmZpbHRlcigodD0+dm9pZCAwIT09ZVt0XSkpLnJlZHVjZSgoKHQsaSk9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W2ldOmVbaV19KSkse30pKShPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6aX0sbykpKS50b1N0cmluZygpfSxiPWU9PihlPT5kZWNvZGVVUklDb21wb25lbnQoYXRvYihlKS5zcGxpdChcIlwiKS5tYXAoKGU9PlwiJVwiKyhcIjAwXCIrZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpKSkuam9pbihcIlwiKSkpKGUucmVwbGFjZSgvXy9nLFwiL1wiKS5yZXBsYWNlKC8tL2csXCIrXCIpKSxfPWFzeW5jKGUsdCk9Pntjb25zdCBpPWF3YWl0IGZldGNoKGUsdCk7cmV0dXJue29rOmkub2ssanNvbjphd2FpdCBpLmpzb24oKX19LEk9YXN5bmMoZSx0LGkpPT57Y29uc3Qgbz1uZXcgQWJvcnRDb250cm9sbGVyO2xldCBuO3JldHVybiB0LnNpZ25hbD1vLnNpZ25hbCxQcm9taXNlLnJhY2UoW18oZSx0KSxuZXcgUHJvbWlzZSgoKGUsdCk9PntuPXNldFRpbWVvdXQoKCgpPT57by5hYm9ydCgpLHQobmV3IEVycm9yKFwiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnXCIpKX0pLGkpfSkpXSkuZmluYWxseSgoKCk9PntjbGVhclRpbWVvdXQobil9KSl9LFM9YXN5bmMoZSx0LGksbyxuLGEscik9PntyZXR1cm4gcz17YXV0aDp7YXVkaWVuY2U6dCxzY29wZTppfSx0aW1lb3V0Om4sZmV0Y2hVcmw6ZSxmZXRjaE9wdGlvbnM6byx1c2VGb3JtRGF0YTpyfSxjPWEsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1uZXcgTWVzc2FnZUNoYW5uZWw7aS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24obyl7by5kYXRhLmVycm9yP3QobmV3IEVycm9yKG8uZGF0YS5lcnJvcikpOmUoby5kYXRhKSxpLnBvcnQxLmNsb3NlKCl9LGMucG9zdE1lc3NhZ2UocyxbaS5wb3J0Ml0pfSkpO3ZhciBzLGN9LE89YXN5bmMoZSx0LGksbyxuLGEscj0xZTQpPT5uP1MoZSx0LGksbyxyLG4sYSk6SShlLG8scik7YXN5bmMgZnVuY3Rpb24gVCh0LGkpe3ZhcntiYXNlVXJsOm8sdGltZW91dDpuLGF1ZGllbmNlOmEsc2NvcGU6cixhdXRoMENsaWVudDpjLHVzZUZvcm1EYXRhOnV9PXQsbD1lKHQsW1wiYmFzZVVybFwiLFwidGltZW91dFwiLFwiYXVkaWVuY2VcIixcInNjb3BlXCIsXCJhdXRoMENsaWVudFwiLFwidXNlRm9ybURhdGFcIl0pO2NvbnN0IGg9dT92KGwpOkpTT04uc3RyaW5naWZ5KGwpO3JldHVybiBhd2FpdCBhc3luYyBmdW5jdGlvbih0LGksbyxuLGEscixzKXtsZXQgYyx1PW51bGw7Zm9yKGxldCBlPTA7ZTwzO2UrKyl0cnl7Yz1hd2FpdCBPKHQsbyxuLGEscixzLGkpLHU9bnVsbDticmVha31jYXRjaChlKXt1PWV9aWYodSl0aHJvdyB1O2NvbnN0IGw9Yy5qc29uLHtlcnJvcjpoLGVycm9yX2Rlc2NyaXB0aW9uOnB9PWwsZz1lKGwsW1wiZXJyb3JcIixcImVycm9yX2Rlc2NyaXB0aW9uXCJdKSx7b2s6d309YztpZighdyl7Y29uc3QgZT1wfHxgSFRUUCBlcnJvci4gVW5hYmxlIHRvIGZldGNoICR7dH1gO2lmKFwibWZhX3JlcXVpcmVkXCI9PT1oKXRocm93IG5ldyBtKGgsZSxnLm1mYV90b2tlbik7aWYoXCJtaXNzaW5nX3JlZnJlc2hfdG9rZW5cIj09PWgpdGhyb3cgbmV3IGYobyxuKTt0aHJvdyBuZXcgZChofHxcInJlcXVlc3RfZXJyb3JcIixlKX1yZXR1cm4gZ30oYCR7b30vb2F1dGgvdG9rZW5gLG4sYXx8XCJkZWZhdWx0XCIscix7bWV0aG9kOlwiUE9TVFwiLGJvZHk6aCxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOnU/XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjpcImFwcGxpY2F0aW9uL2pzb25cIixcIkF1dGgwLUNsaWVudFwiOmJ0b2EoSlNPTi5zdHJpbmdpZnkoY3x8cykpfX0saSx1KX1jb25zdCBqPSguLi5lKT0+e3JldHVybih0PWUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLnRyaW0oKS5zcGxpdCgvXFxzKy8pLEFycmF5LmZyb20obmV3IFNldCh0KSkpLmpvaW4oXCIgXCIpO3ZhciB0fTtjbGFzcyBDe2NvbnN0cnVjdG9yKGUsdD1cIkBAYXV0aDBzcGFqc0BAXCIsaSl7dGhpcy5wcmVmaXg9dCx0aGlzLnN1ZmZpeD1pLHRoaXMuY2xpZW50SWQ9ZS5jbGllbnRJZCx0aGlzLnNjb3BlPWUuc2NvcGUsdGhpcy5hdWRpZW5jZT1lLmF1ZGllbmNlfXRvS2V5KCl7cmV0dXJuW3RoaXMucHJlZml4LHRoaXMuY2xpZW50SWQsdGhpcy5hdWRpZW5jZSx0aGlzLnNjb3BlLHRoaXMuc3VmZml4XS5maWx0ZXIoQm9vbGVhbikuam9pbihcIjo6XCIpfXN0YXRpYyBmcm9tS2V5KGUpe2NvbnN0W3QsaSxvLG5dPWUuc3BsaXQoXCI6OlwiKTtyZXR1cm4gbmV3IEMoe2NsaWVudElkOmksc2NvcGU6bixhdWRpZW5jZTpvfSx0KX1zdGF0aWMgZnJvbUNhY2hlRW50cnkoZSl7Y29uc3R7c2NvcGU6dCxhdWRpZW5jZTppLGNsaWVudF9pZDpvfT1lO3JldHVybiBuZXcgQyh7c2NvcGU6dCxhdWRpZW5jZTppLGNsaWVudElkOm99KX19Y2xhc3MgentzZXQoZSx0KXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLEpTT04uc3RyaW5naWZ5KHQpKX1nZXQoZSl7Y29uc3QgdD13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk7aWYodCl0cnl7cmV0dXJuIEpTT04ucGFyc2UodCl9Y2F0Y2goZSl7cmV0dXJufX1yZW1vdmUoZSl7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9YWxsS2V5cygpe3JldHVybiBPYmplY3Qua2V5cyh3aW5kb3cubG9jYWxTdG9yYWdlKS5maWx0ZXIoKGU9PmUuc3RhcnRzV2l0aChcIkBAYXV0aDBzcGFqc0BAXCIpKSl9fWNsYXNzIFB7Y29uc3RydWN0b3IoKXt0aGlzLmVuY2xvc2VkQ2FjaGU9ZnVuY3Rpb24oKXtsZXQgZT17fTtyZXR1cm57c2V0KHQsaSl7ZVt0XT1pfSxnZXQodCl7Y29uc3QgaT1lW3RdO2lmKGkpcmV0dXJuIGl9LHJlbW92ZSh0KXtkZWxldGUgZVt0XX0sYWxsS2V5czooKT0+T2JqZWN0LmtleXMoZSl9fSgpfX1jbGFzcyB4e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmNhY2hlPWUsdGhpcy5rZXlNYW5pZmVzdD10LHRoaXMubm93UHJvdmlkZXI9aXx8Y31hc3luYyBzZXRJZFRva2VuKGUsdCxpKXt2YXIgbztjb25zdCBuPXRoaXMuZ2V0SWRUb2tlbkNhY2hlS2V5KGUpO2F3YWl0IHRoaXMuY2FjaGUuc2V0KG4se2lkX3Rva2VuOnQsZGVjb2RlZFRva2VuOml9KSxhd2FpdChudWxsPT09KG89dGhpcy5rZXlNYW5pZmVzdCl8fHZvaWQgMD09PW8/dm9pZCAwOm8uYWRkKG4pKX1hc3luYyBnZXRJZFRva2VuKGUpe2NvbnN0IHQ9YXdhaXQgdGhpcy5jYWNoZS5nZXQodGhpcy5nZXRJZFRva2VuQ2FjaGVLZXkoZS5jbGllbnRJZCkpO2lmKCF0JiZlLnNjb3BlJiZlLmF1ZGllbmNlKXtjb25zdCB0PWF3YWl0IHRoaXMuZ2V0KGUpO2lmKCF0KXJldHVybjtpZighdC5pZF90b2tlbnx8IXQuZGVjb2RlZFRva2VuKXJldHVybjtyZXR1cm57aWRfdG9rZW46dC5pZF90b2tlbixkZWNvZGVkVG9rZW46dC5kZWNvZGVkVG9rZW59fWlmKHQpcmV0dXJue2lkX3Rva2VuOnQuaWRfdG9rZW4sZGVjb2RlZFRva2VuOnQuZGVjb2RlZFRva2VufX1hc3luYyBnZXQoZSx0PTApe3ZhciBpO2xldCBvPWF3YWl0IHRoaXMuY2FjaGUuZ2V0KGUudG9LZXkoKSk7aWYoIW8pe2NvbnN0IHQ9YXdhaXQgdGhpcy5nZXRDYWNoZUtleXMoKTtpZighdClyZXR1cm47Y29uc3QgaT10aGlzLm1hdGNoRXhpc3RpbmdDYWNoZUtleShlLHQpO2kmJihvPWF3YWl0IHRoaXMuY2FjaGUuZ2V0KGkpKX1pZighbylyZXR1cm47Y29uc3Qgbj1hd2FpdCB0aGlzLm5vd1Byb3ZpZGVyKCksYT1NYXRoLmZsb29yKG4vMWUzKTtyZXR1cm4gby5leHBpcmVzQXQtdDxhP28uYm9keS5yZWZyZXNoX3Rva2VuPyhvLmJvZHk9e3JlZnJlc2hfdG9rZW46by5ib2R5LnJlZnJlc2hfdG9rZW59LGF3YWl0IHRoaXMuY2FjaGUuc2V0KGUudG9LZXkoKSxvKSxvLmJvZHkpOihhd2FpdCB0aGlzLmNhY2hlLnJlbW92ZShlLnRvS2V5KCkpLHZvaWQgYXdhaXQobnVsbD09PShpPXRoaXMua2V5TWFuaWZlc3QpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnJlbW92ZShlLnRvS2V5KCkpKSk6by5ib2R5fWFzeW5jIHNldChlKXt2YXIgdDtjb25zdCBpPW5ldyBDKHtjbGllbnRJZDplLmNsaWVudF9pZCxzY29wZTplLnNjb3BlLGF1ZGllbmNlOmUuYXVkaWVuY2V9KSxvPWF3YWl0IHRoaXMud3JhcENhY2hlRW50cnkoZSk7YXdhaXQgdGhpcy5jYWNoZS5zZXQoaS50b0tleSgpLG8pLGF3YWl0KG51bGw9PT0odD10aGlzLmtleU1hbmlmZXN0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5hZGQoaS50b0tleSgpKSl9YXN5bmMgY2xlYXIoZSl7dmFyIHQ7Y29uc3QgaT1hd2FpdCB0aGlzLmdldENhY2hlS2V5cygpO2kmJihhd2FpdCBpLmZpbHRlcigodD0+IWV8fHQuaW5jbHVkZXMoZSkpKS5yZWR1Y2UoKGFzeW5jKGUsdCk9Pnthd2FpdCBlLGF3YWl0IHRoaXMuY2FjaGUucmVtb3ZlKHQpfSksUHJvbWlzZS5yZXNvbHZlKCkpLGF3YWl0KG51bGw9PT0odD10aGlzLmtleU1hbmlmZXN0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5jbGVhcigpKSl9YXN5bmMgd3JhcENhY2hlRW50cnkoZSl7Y29uc3QgdD1hd2FpdCB0aGlzLm5vd1Byb3ZpZGVyKCk7cmV0dXJue2JvZHk6ZSxleHBpcmVzQXQ6TWF0aC5mbG9vcih0LzFlMykrZS5leHBpcmVzX2lufX1hc3luYyBnZXRDYWNoZUtleXMoKXt2YXIgZTtyZXR1cm4gdGhpcy5rZXlNYW5pZmVzdD9udWxsPT09KGU9YXdhaXQgdGhpcy5rZXlNYW5pZmVzdC5nZXQoKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUua2V5czp0aGlzLmNhY2hlLmFsbEtleXM/dGhpcy5jYWNoZS5hbGxLZXlzKCk6dm9pZCAwfWdldElkVG9rZW5DYWNoZUtleShlKXtyZXR1cm4gbmV3IEMoe2NsaWVudElkOmV9LFwiQEBhdXRoMHNwYWpzQEBcIixcIkBAdXNlckBAXCIpLnRvS2V5KCl9bWF0Y2hFeGlzdGluZ0NhY2hlS2V5KGUsdCl7cmV0dXJuIHQuZmlsdGVyKCh0PT57dmFyIGk7Y29uc3Qgbz1DLmZyb21LZXkodCksbj1uZXcgU2V0KG8uc2NvcGUmJm8uc2NvcGUuc3BsaXQoXCIgXCIpKSxhPShudWxsPT09KGk9ZS5zY29wZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc3BsaXQoXCIgXCIpKXx8W10scj1vLnNjb3BlJiZhLnJlZHVjZSgoKGUsdCk9PmUmJm4uaGFzKHQpKSwhMCk7cmV0dXJuXCJAQGF1dGgwc3BhanNAQFwiPT09by5wcmVmaXgmJm8uY2xpZW50SWQ9PT1lLmNsaWVudElkJiZvLmF1ZGllbmNlPT09ZS5hdWRpZW5jZSYmcn0pKVswXX19Y2xhc3MgWntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5zdG9yYWdlPWUsdGhpcy5jbGllbnRJZD10LHRoaXMuY29va2llRG9tYWluPWksdGhpcy5zdG9yYWdlS2V5PWBhMC5zcGFqcy50eHMuJHt0aGlzLmNsaWVudElkfWB9Y3JlYXRlKGUpe3RoaXMuc3RvcmFnZS5zYXZlKHRoaXMuc3RvcmFnZUtleSxlLHtkYXlzVW50aWxFeHBpcmU6MSxjb29raWVEb21haW46dGhpcy5jb29raWVEb21haW59KX1nZXQoKXtyZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JhZ2VLZXkpfXJlbW92ZSgpe3RoaXMuc3RvcmFnZS5yZW1vdmUodGhpcy5zdG9yYWdlS2V5LHtjb29raWVEb21haW46dGhpcy5jb29raWVEb21haW59KX19Y29uc3QgSz1lPT5cIm51bWJlclwiPT10eXBlb2YgZSxXPVtcImlzc1wiLFwiYXVkXCIsXCJleHBcIixcIm5iZlwiLFwiaWF0XCIsXCJqdGlcIixcImF6cFwiLFwibm9uY2VcIixcImF1dGhfdGltZVwiLFwiYXRfaGFzaFwiLFwiY19oYXNoXCIsXCJhY3JcIixcImFtclwiLFwic3ViX2p3a1wiLFwiY25mXCIsXCJzaXBfZnJvbV90YWdcIixcInNpcF9kYXRlXCIsXCJzaXBfY2FsbGlkXCIsXCJzaXBfY3NlcV9udW1cIixcInNpcF92aWFfYnJhbmNoXCIsXCJvcmlnXCIsXCJkZXN0XCIsXCJta3lcIixcImV2ZW50c1wiLFwidG9lXCIsXCJ0eG5cIixcInJwaFwiLFwic2lkXCIsXCJ2b3RcIixcInZ0bVwiXSxFPWU9PntpZighZS5pZF90b2tlbil0aHJvdyBuZXcgRXJyb3IoXCJJRCB0b2tlbiBpcyByZXF1aXJlZCBidXQgbWlzc2luZ1wiKTtjb25zdCB0PShlPT57Y29uc3QgdD1lLnNwbGl0KFwiLlwiKSxbaSxvLG5dPXQ7aWYoMyE9PXQubGVuZ3RofHwhaXx8IW98fCFuKXRocm93IG5ldyBFcnJvcihcIklEIHRva2VuIGNvdWxkIG5vdCBiZSBkZWNvZGVkXCIpO2NvbnN0IGE9SlNPTi5wYXJzZShiKG8pKSxyPXtfX3JhdzplfSxzPXt9O3JldHVybiBPYmplY3Qua2V5cyhhKS5mb3JFYWNoKChlPT57cltlXT1hW2VdLFcuaW5jbHVkZXMoZSl8fChzW2VdPWFbZV0pfSkpLHtlbmNvZGVkOntoZWFkZXI6aSxwYXlsb2FkOm8sc2lnbmF0dXJlOm59LGhlYWRlcjpKU09OLnBhcnNlKGIoaSkpLGNsYWltczpyLHVzZXI6c319KShlLmlkX3Rva2VuKTtpZighdC5jbGFpbXMuaXNzKXRocm93IG5ldyBFcnJvcihcIklzc3VlciAoaXNzKSBjbGFpbSBtdXN0IGJlIGEgc3RyaW5nIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKHQuY2xhaW1zLmlzcyE9PWUuaXNzKXRocm93IG5ldyBFcnJvcihgSXNzdWVyIChpc3MpIGNsYWltIG1pc21hdGNoIGluIHRoZSBJRCB0b2tlbjsgZXhwZWN0ZWQgXCIke2UuaXNzfVwiLCBmb3VuZCBcIiR7dC5jbGFpbXMuaXNzfVwiYCk7aWYoIXQudXNlci5zdWIpdGhyb3cgbmV3IEVycm9yKFwiU3ViamVjdCAoc3ViKSBjbGFpbSBtdXN0IGJlIGEgc3RyaW5nIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKFwiUlMyNTZcIiE9PXQuaGVhZGVyLmFsZyl0aHJvdyBuZXcgRXJyb3IoYFNpZ25hdHVyZSBhbGdvcml0aG0gb2YgXCIke3QuaGVhZGVyLmFsZ31cIiBpcyBub3Qgc3VwcG9ydGVkLiBFeHBlY3RlZCB0aGUgSUQgdG9rZW4gdG8gYmUgc2lnbmVkIHdpdGggXCJSUzI1NlwiLmApO2lmKCF0LmNsYWltcy5hdWR8fFwic3RyaW5nXCIhPXR5cGVvZiB0LmNsYWltcy5hdWQmJiFBcnJheS5pc0FycmF5KHQuY2xhaW1zLmF1ZCkpdGhyb3cgbmV3IEVycm9yKFwiQXVkaWVuY2UgKGF1ZCkgY2xhaW0gbXVzdCBiZSBhIHN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKEFycmF5LmlzQXJyYXkodC5jbGFpbXMuYXVkKSl7aWYoIXQuY2xhaW1zLmF1ZC5pbmNsdWRlcyhlLmF1ZCkpdGhyb3cgbmV3IEVycm9yKGBBdWRpZW5jZSAoYXVkKSBjbGFpbSBtaXNtYXRjaCBpbiB0aGUgSUQgdG9rZW47IGV4cGVjdGVkIFwiJHtlLmF1ZH1cIiBidXQgd2FzIG5vdCBvbmUgb2YgXCIke3QuY2xhaW1zLmF1ZC5qb2luKFwiLCBcIil9XCJgKTtpZih0LmNsYWltcy5hdWQubGVuZ3RoPjEpe2lmKCF0LmNsYWltcy5henApdGhyb3cgbmV3IEVycm9yKFwiQXV0aG9yaXplZCBQYXJ0eSAoYXpwKSBjbGFpbSBtdXN0IGJlIGEgc3RyaW5nIHByZXNlbnQgaW4gdGhlIElEIHRva2VuIHdoZW4gQXVkaWVuY2UgKGF1ZCkgY2xhaW0gaGFzIG11bHRpcGxlIHZhbHVlc1wiKTtpZih0LmNsYWltcy5henAhPT1lLmF1ZCl0aHJvdyBuZXcgRXJyb3IoYEF1dGhvcml6ZWQgUGFydHkgKGF6cCkgY2xhaW0gbWlzbWF0Y2ggaW4gdGhlIElEIHRva2VuOyBleHBlY3RlZCBcIiR7ZS5hdWR9XCIsIGZvdW5kIFwiJHt0LmNsYWltcy5henB9XCJgKX19ZWxzZSBpZih0LmNsYWltcy5hdWQhPT1lLmF1ZCl0aHJvdyBuZXcgRXJyb3IoYEF1ZGllbmNlIChhdWQpIGNsYWltIG1pc21hdGNoIGluIHRoZSBJRCB0b2tlbjsgZXhwZWN0ZWQgXCIke2UuYXVkfVwiIGJ1dCBmb3VuZCBcIiR7dC5jbGFpbXMuYXVkfVwiYCk7aWYoZS5ub25jZSl7aWYoIXQuY2xhaW1zLm5vbmNlKXRocm93IG5ldyBFcnJvcihcIk5vbmNlIChub25jZSkgY2xhaW0gbXVzdCBiZSBhIHN0cmluZyBwcmVzZW50IGluIHRoZSBJRCB0b2tlblwiKTtpZih0LmNsYWltcy5ub25jZSE9PWUubm9uY2UpdGhyb3cgbmV3IEVycm9yKGBOb25jZSAobm9uY2UpIGNsYWltIG1pc21hdGNoIGluIHRoZSBJRCB0b2tlbjsgZXhwZWN0ZWQgXCIke2Uubm9uY2V9XCIsIGZvdW5kIFwiJHt0LmNsYWltcy5ub25jZX1cImApfWlmKGUubWF4X2FnZSYmIUsodC5jbGFpbXMuYXV0aF90aW1lKSl0aHJvdyBuZXcgRXJyb3IoXCJBdXRoZW50aWNhdGlvbiBUaW1lIChhdXRoX3RpbWUpIGNsYWltIG11c3QgYmUgYSBudW1iZXIgcHJlc2VudCBpbiB0aGUgSUQgdG9rZW4gd2hlbiBNYXggQWdlIChtYXhfYWdlKSBpcyBzcGVjaWZpZWRcIik7aWYobnVsbD09dC5jbGFpbXMuZXhwfHwhSyh0LmNsYWltcy5leHApKXRocm93IG5ldyBFcnJvcihcIkV4cGlyYXRpb24gVGltZSAoZXhwKSBjbGFpbSBtdXN0IGJlIGEgbnVtYmVyIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKCFLKHQuY2xhaW1zLmlhdCkpdGhyb3cgbmV3IEVycm9yKFwiSXNzdWVkIEF0IChpYXQpIGNsYWltIG11c3QgYmUgYSBudW1iZXIgcHJlc2VudCBpbiB0aGUgSUQgdG9rZW5cIik7Y29uc3QgaT1lLmxlZXdheXx8NjAsbz1uZXcgRGF0ZShlLm5vd3x8RGF0ZS5ub3coKSksbj1uZXcgRGF0ZSgwKTtpZihuLnNldFVUQ1NlY29uZHModC5jbGFpbXMuZXhwK2kpLG8+bil0aHJvdyBuZXcgRXJyb3IoYEV4cGlyYXRpb24gVGltZSAoZXhwKSBjbGFpbSBlcnJvciBpbiB0aGUgSUQgdG9rZW47IGN1cnJlbnQgdGltZSAoJHtvfSkgaXMgYWZ0ZXIgZXhwaXJhdGlvbiB0aW1lICgke259KWApO2lmKG51bGwhPXQuY2xhaW1zLm5iZiYmSyh0LmNsYWltcy5uYmYpKXtjb25zdCBlPW5ldyBEYXRlKDApO2lmKGUuc2V0VVRDU2Vjb25kcyh0LmNsYWltcy5uYmYtaSksbzxlKXRocm93IG5ldyBFcnJvcihgTm90IEJlZm9yZSB0aW1lIChuYmYpIGNsYWltIGluIHRoZSBJRCB0b2tlbiBpbmRpY2F0ZXMgdGhhdCB0aGlzIHRva2VuIGNhbid0IGJlIHVzZWQganVzdCB5ZXQuIEN1cnJlbnQgdGltZSAoJHtvfSkgaXMgYmVmb3JlICR7ZX1gKX1pZihudWxsIT10LmNsYWltcy5hdXRoX3RpbWUmJksodC5jbGFpbXMuYXV0aF90aW1lKSl7Y29uc3Qgbj1uZXcgRGF0ZSgwKTtpZihuLnNldFVUQ1NlY29uZHMocGFyc2VJbnQodC5jbGFpbXMuYXV0aF90aW1lKStlLm1heF9hZ2UraSksbz5uKXRocm93IG5ldyBFcnJvcihgQXV0aGVudGljYXRpb24gVGltZSAoYXV0aF90aW1lKSBjbGFpbSBpbiB0aGUgSUQgdG9rZW4gaW5kaWNhdGVzIHRoYXQgdG9vIG11Y2ggdGltZSBoYXMgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGVuZC11c2VyIGF1dGhlbnRpY2F0aW9uLiBDdXJyZW50IHRpbWUgKCR7b30pIGlzIGFmdGVyIGxhc3QgYXV0aCBhdCAke259YCl9aWYoZS5vcmdhbml6YXRpb24pe2NvbnN0IGk9ZS5vcmdhbml6YXRpb24udHJpbSgpO2lmKGkuc3RhcnRzV2l0aChcIm9yZ19cIikpe2NvbnN0IGU9aTtpZighdC5jbGFpbXMub3JnX2lkKXRocm93IG5ldyBFcnJvcihcIk9yZ2FuaXphdGlvbiBJRCAob3JnX2lkKSBjbGFpbSBtdXN0IGJlIGEgc3RyaW5nIHByZXNlbnQgaW4gdGhlIElEIHRva2VuXCIpO2lmKGUhPT10LmNsYWltcy5vcmdfaWQpdGhyb3cgbmV3IEVycm9yKGBPcmdhbml6YXRpb24gSUQgKG9yZ19pZCkgY2xhaW0gbWlzbWF0Y2ggaW4gdGhlIElEIHRva2VuOyBleHBlY3RlZCBcIiR7ZX1cIiwgZm91bmQgXCIke3QuY2xhaW1zLm9yZ19pZH1cImApfWVsc2V7Y29uc3QgZT1pLnRvTG93ZXJDYXNlKCk7aWYoIXQuY2xhaW1zLm9yZ19uYW1lKXRocm93IG5ldyBFcnJvcihcIk9yZ2FuaXphdGlvbiBOYW1lIChvcmdfbmFtZSkgY2xhaW0gbXVzdCBiZSBhIHN0cmluZyBwcmVzZW50IGluIHRoZSBJRCB0b2tlblwiKTtpZihlIT09dC5jbGFpbXMub3JnX25hbWUpdGhyb3cgbmV3IEVycm9yKGBPcmdhbml6YXRpb24gTmFtZSAob3JnX25hbWUpIGNsYWltIG1pc21hdGNoIGluIHRoZSBJRCB0b2tlbjsgZXhwZWN0ZWQgXCIke2V9XCIsIGZvdW5kIFwiJHt0LmNsYWltcy5vcmdfbmFtZX1cImApfX1yZXR1cm4gdH07dmFyIFI9bygoZnVuY3Rpb24oZSxpKXt2YXIgbz10JiZ0Ll9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybiBvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPTEsbz1hcmd1bWVudHMubGVuZ3RoO2k8bztpKyspZm9yKHZhciBuIGluIHQ9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZX0sby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4oZSx0KXtpZighdClyZXR1cm5cIlwiO3ZhciBpPVwiOyBcIitlO3JldHVybiEwPT09dD9pOmkrXCI9XCIrdH1mdW5jdGlvbiBhKGUsdCxpKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csZGVjb2RlVVJJQ29tcG9uZW50KS5yZXBsYWNlKC9cXCgvZyxcIiUyOFwiKS5yZXBsYWNlKC9cXCkvZyxcIiUyOVwiKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZyxkZWNvZGVVUklDb21wb25lbnQpK2Z1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlLmV4cGlyZXMpe3ZhciB0PW5ldyBEYXRlO3Quc2V0TWlsbGlzZWNvbmRzKHQuZ2V0TWlsbGlzZWNvbmRzKCkrODY0ZTUqZS5leHBpcmVzKSxlLmV4cGlyZXM9dH1yZXR1cm4gbihcIkV4cGlyZXNcIixlLmV4cGlyZXM/ZS5leHBpcmVzLnRvVVRDU3RyaW5nKCk6XCJcIikrbihcIkRvbWFpblwiLGUuZG9tYWluKStuKFwiUGF0aFwiLGUucGF0aCkrbihcIlNlY3VyZVwiLGUuc2VjdXJlKStuKFwiU2FtZVNpdGVcIixlLnNhbWVTaXRlKX0oaSl9ZnVuY3Rpb24gcihlKXtmb3IodmFyIHQ9e30saT1lP2Uuc3BsaXQoXCI7IFwiKTpbXSxvPS8oJVtcXGRBLUZdezJ9KSsvZ2ksbj0wO248aS5sZW5ndGg7bisrKXt2YXIgYT1pW25dLnNwbGl0KFwiPVwiKSxyPWEuc2xpY2UoMSkuam9pbihcIj1cIik7J1wiJz09PXIuY2hhckF0KDApJiYocj1yLnNsaWNlKDEsLTEpKTt0cnl7dFthWzBdLnJlcGxhY2UobyxkZWNvZGVVUklDb21wb25lbnQpXT1yLnJlcGxhY2UobyxkZWNvZGVVUklDb21wb25lbnQpfWNhdGNoKGUpe319cmV0dXJuIHR9ZnVuY3Rpb24gcygpe3JldHVybiByKGRvY3VtZW50LmNvb2tpZSl9ZnVuY3Rpb24gYyhlLHQsaSl7ZG9jdW1lbnQuY29va2llPWEoZSx0LG8oe3BhdGg6XCIvXCJ9LGkpKX1pLl9fZXNNb2R1bGU9ITAsaS5lbmNvZGU9YSxpLnBhcnNlPXIsaS5nZXRBbGw9cyxpLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gcygpW2VdfSxpLnNldD1jLGkucmVtb3ZlPWZ1bmN0aW9uKGUsdCl7YyhlLFwiXCIsbyhvKHt9LHQpLHtleHBpcmVzOi0xfSkpfX0pKTtpKFIpLFIuZW5jb2RlLFIucGFyc2UsUi5nZXRBbGw7dmFyIFU9Ui5nZXQsTD1SLnNldCxEPVIucmVtb3ZlO2NvbnN0IFg9e2dldChlKXtjb25zdCB0PVUoZSk7aWYodm9pZCAwIT09dClyZXR1cm4gSlNPTi5wYXJzZSh0KX0sc2F2ZShlLHQsaSl7bGV0IG89e307XCJodHRwczpcIj09PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCYmKG89e3NlY3VyZTohMCxzYW1lU2l0ZTpcIm5vbmVcIn0pLChudWxsPT1pP3ZvaWQgMDppLmRheXNVbnRpbEV4cGlyZSkmJihvLmV4cGlyZXM9aS5kYXlzVW50aWxFeHBpcmUpLChudWxsPT1pP3ZvaWQgMDppLmNvb2tpZURvbWFpbikmJihvLmRvbWFpbj1pLmNvb2tpZURvbWFpbiksTChlLEpTT04uc3RyaW5naWZ5KHQpLG8pfSxyZW1vdmUoZSx0KXtsZXQgaT17fTsobnVsbD09dD92b2lkIDA6dC5jb29raWVEb21haW4pJiYoaS5kb21haW49dC5jb29raWVEb21haW4pLEQoZSxpKX19LE49e2dldChlKXtjb25zdCB0PVguZ2V0KGUpO3JldHVybiB0fHxYLmdldChgX2xlZ2FjeV8ke2V9YCl9LHNhdmUoZSx0LGkpe2xldCBvPXt9O1wiaHR0cHM6XCI9PT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wmJihvPXtzZWN1cmU6ITB9KSwobnVsbD09aT92b2lkIDA6aS5kYXlzVW50aWxFeHBpcmUpJiYoby5leHBpcmVzPWkuZGF5c1VudGlsRXhwaXJlKSwobnVsbD09aT92b2lkIDA6aS5jb29raWVEb21haW4pJiYoby5kb21haW49aS5jb29raWVEb21haW4pLEwoYF9sZWdhY3lfJHtlfWAsSlNPTi5zdHJpbmdpZnkodCksbyksWC5zYXZlKGUsdCxpKX0scmVtb3ZlKGUsdCl7bGV0IGk9e307KG51bGw9PXQ/dm9pZCAwOnQuY29va2llRG9tYWluKSYmKGkuZG9tYWluPXQuY29va2llRG9tYWluKSxEKGUsaSksWC5yZW1vdmUoZSx0KSxYLnJlbW92ZShgX2xlZ2FjeV8ke2V9YCx0KX19LEo9e2dldChlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2Vzc2lvblN0b3JhZ2UpcmV0dXJuO2NvbnN0IHQ9c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShlKTtyZXR1cm4gbnVsbCE9dD9KU09OLnBhcnNlKHQpOnZvaWQgMH0sc2F2ZShlLHQpe3Nlc3Npb25TdG9yYWdlLnNldEl0ZW0oZSxKU09OLnN0cmluZ2lmeSh0KSl9LHJlbW92ZShlKXtzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGUpfX07ZnVuY3Rpb24gRihlLHQsaSl7dmFyIG89dm9pZCAwPT09dD9udWxsOnQsbj1mdW5jdGlvbihlLHQpe3ZhciBpPWF0b2IoZSk7aWYodCl7Zm9yKHZhciBvPW5ldyBVaW50OEFycmF5KGkubGVuZ3RoKSxuPTAsYT1pLmxlbmd0aDtuPGE7KytuKW9bbl09aS5jaGFyQ29kZUF0KG4pO3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KG8uYnVmZmVyKSl9cmV0dXJuIGl9KGUsdm9pZCAwIT09aSYmaSksYT1uLmluZGV4T2YoXCJcXG5cIiwxMCkrMSxyPW4uc3Vic3RyaW5nKGEpKyhvP1wiLy8jIHNvdXJjZU1hcHBpbmdVUkw9XCIrbzpcIlwiKSxzPW5ldyBCbG9iKFtyXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIn0pO3JldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKHMpfXZhciBILFksRyxWLE09KEg9XCJMeW9nY205c2JIVndMWEJzZFdkcGJpMTNaV0l0ZDI5eWEyVnlMV3h2WVdSbGNpQXFMd29oWm5WdVkzUnBiMjRvS1hzaWRYTmxJSE4wY21samRDSTdZMnhoYzNNZ1pTQmxlSFJsYm1SeklFVnljbTl5ZTJOdmJuTjBjblZqZEc5eUtIUXNjaWw3YzNWd1pYSW9jaWtzZEdocGN5NWxjbkp2Y2oxMExIUm9hWE11WlhKeWIzSmZaR1Z6WTNKcGNIUnBiMjQ5Y2l4UFltcGxZM1F1YzJWMFVISnZkRzkwZVhCbFQyWW9kR2hwY3l4bExuQnliM1J2ZEhsd1pTbDljM1JoZEdsaklHWnliMjFRWVhsc2IyRmtLSHRsY25KdmNqcDBMR1Z5Y205eVgyUmxjMk55YVhCMGFXOXVPbko5S1h0eVpYUjFjbTRnYm1WM0lHVW9kQ3h5S1gxOVkyeGhjM01nZENCbGVIUmxibVJ6SUdWN1kyOXVjM1J5ZFdOMGIzSW9aU3h6S1h0emRYQmxjaWdpYldsemMybHVaMTl5WldaeVpYTm9YM1J2YTJWdUlpeGdUV2x6YzJsdVp5QlNaV1p5WlhOb0lGUnZhMlZ1SUNoaGRXUnBaVzVqWlRvZ0p5UjdjaWhsTEZzaVpHVm1ZWFZzZENKZEtYMG5MQ0J6WTI5d1pUb2dKeVI3Y2loektYMG5LV0FwTEhSb2FYTXVZWFZrYVdWdVkyVTlaU3gwYUdsekxuTmpiM0JsUFhNc1QySnFaV04wTG5ObGRGQnliM1J2ZEhsd1pVOW1LSFJvYVhNc2RDNXdjbTkwYjNSNWNHVXBmWDFtZFc1amRHbHZiaUJ5S0dVc2REMWJYU2w3Y21WMGRYSnVJR1VtSmlGMExtbHVZMngxWkdWektHVXBQMlU2SWlKOUltWjFibU4wYVc5dUlqMDlkSGx3Wlc5bUlGTjFjSEJ5WlhOelpXUkZjbkp2Y2lZbVUzVndjSEpsYzNObFpFVnljbTl5TzJOdmJuTjBJSE05WlQwK2UzWmhjbnRqYkdsbGJuUkpaRHAwZlQxbExISTlablZ1WTNScGIyNG9aU3gwS1h0MllYSWdjajE3ZlR0bWIzSW9kbUZ5SUhNZ2FXNGdaU2xQWW1wbFkzUXVjSEp2ZEc5MGVYQmxMbWhoYzA5M2JsQnliM0JsY25SNUxtTmhiR3dvWlN4ektTWW1kQzVwYm1SbGVFOW1LSE1wUERBbUppaHlXM05kUFdWYmMxMHBPMmxtS0c1MWJHd2hQV1VtSmlKbWRXNWpkR2x2YmlJOVBYUjVjR1Z2WmlCUFltcGxZM1F1WjJWMFQzZHVVSEp2Y0dWeWRIbFRlVzFpYjJ4ektYdDJZWElnYnowd08yWnZjaWh6UFU5aWFtVmpkQzVuWlhSUGQyNVFjbTl3WlhKMGVWTjViV0p2YkhNb1pTazdienh6TG14bGJtZDBhRHR2S3lzcGRDNXBibVJsZUU5bUtITmJiMTBwUERBbUprOWlhbVZqZEM1d2NtOTBiM1I1Y0dVdWNISnZjR1Z5ZEhsSmMwVnVkVzFsY21GaWJHVXVZMkZzYkNobExITmJiMTBwSmlZb2NsdHpXMjlkWFQxbFczTmJiMTFkS1gxeVpYUjFjbTRnY24wb1pTeGJJbU5zYVdWdWRFbGtJbDBwTzNKbGRIVnliaUJ1WlhjZ1ZWSk1VMlZoY21Ob1VHRnlZVzF6S0NobFBUNVBZbXBsWTNRdWEyVjVjeWhsS1M1bWFXeDBaWElvS0hROVBuWnZhV1FnTUNFOVBXVmJkRjBwS1M1eVpXUjFZMlVvS0NoMExISXBQVDVQWW1wbFkzUXVZWE56YVdkdUtFOWlhbVZqZEM1aGMzTnBaMjRvZTMwc2RDa3NlMXR5WFRwbFczSmRmU2twTEh0OUtTa29UMkpxWldOMExtRnpjMmxuYmloN1kyeHBaVzUwWDJsa09uUjlMSElwS1NrdWRHOVRkSEpwYm1jb0tYMDdiR1YwSUc4OWUzMDdZMjl1YzNRZ2JqMG9aU3gwS1QwK1lDUjdaWDE4Skh0MGZXQTdZV1JrUlhabGJuUk1hWE4wWlc1bGNpZ2liV1Z6YzJGblpTSXNLR0Z6ZVc1aktIdGtZWFJoT250MGFXMWxiM1YwT21Vc1lYVjBhRHB5TEdabGRHTm9WWEpzT21rc1ptVjBZMmhQY0hScGIyNXpPbU1zZFhObFJtOXliVVJoZEdFNllYMHNjRzl5ZEhNNlczQmRmU2s5UG50c1pYUWdaanRqYjI1emRIdGhkV1JwWlc1alpUcDFMSE5qYjNCbE9teDlQWEo4Zkh0OU8zUnllWHRqYjI1emRDQnlQV0UvS0dVOVBudGpiMjV6ZENCMFBXNWxkeUJWVWt4VFpXRnlZMmhRWVhKaGJYTW9aU2tzY2oxN2ZUdHlaWFIxY200Z2RDNW1iM0pGWVdOb0tDZ29aU3gwS1QwK2UzSmJkRjA5WlgwcEtTeHlmU2tvWXk1aWIyUjVLVHBLVTA5T0xuQmhjbk5sS0dNdVltOWtlU2s3YVdZb0lYSXVjbVZtY21WemFGOTBiMnRsYmlZbUluSmxabkpsYzJoZmRHOXJaVzRpUFQwOWNpNW5jbUZ1ZEY5MGVYQmxLWHRqYjI1emRDQmxQU2dvWlN4MEtUMCtiMXR1S0dVc2RDbGRLU2gxTEd3cE8ybG1LQ0ZsS1hSb2NtOTNJRzVsZHlCMEtIVXNiQ2s3WXk1aWIyUjVQV0UvY3loUFltcGxZM1F1WVhOemFXZHVLRTlpYW1WamRDNWhjM05wWjI0b2UzMHNjaWtzZTNKbFpuSmxjMmhmZEc5clpXNDZaWDBwS1RwS1UwOU9Mbk4wY21sdVoybG1lU2hQWW1wbFkzUXVZWE56YVdkdUtFOWlhbVZqZEM1aGMzTnBaMjRvZTMwc2Npa3NlM0psWm5KbGMyaGZkRzlyWlc0NlpYMHBLWDFzWlhRZ2FDeG5PeUptZFc1amRHbHZiaUk5UFhSNWNHVnZaaUJCWW05eWRFTnZiblJ5YjJ4c1pYSW1KaWhvUFc1bGR5QkJZbTl5ZEVOdmJuUnliMnhzWlhJc1l5NXphV2R1WVd3OWFDNXphV2R1WVd3cE8zUnllWHRuUFdGM1lXbDBJRkJ5YjIxcGMyVXVjbUZqWlNoYktHUTlaU3h1WlhjZ1VISnZiV2x6WlNnb1pUMCtjMlYwVkdsdFpXOTFkQ2hsTEdRcEtTa3BMR1psZEdOb0tHa3NUMkpxWldOMExtRnpjMmxuYmloN2ZTeGpLU2xkS1gxallYUmphQ2hsS1h0eVpYUjFjbTRnZG05cFpDQndMbkJ2YzNSTlpYTnpZV2RsS0h0bGNuSnZjanBsTG0xbGMzTmhaMlY5S1gxcFppZ2haeWx5WlhSMWNtNGdhQ1ltYUM1aFltOXlkQ2dwTEhadmFXUWdjQzV3YjNOMFRXVnpjMkZuWlNoN1pYSnliM0k2SWxScGJXVnZkWFFnZDJobGJpQmxlR1ZqZFhScGJtY2dKMlpsZEdOb0p5SjlLVHRtUFdGM1lXbDBJR2N1YW5OdmJpZ3BMR1l1Y21WbWNtVnphRjkwYjJ0bGJqOG9LQ2hsTEhRc2NpazlQbnR2VzI0b2RDeHlLVjA5WlgwcEtHWXVjbVZtY21WemFGOTBiMnRsYml4MUxHd3BMR1JsYkdWMFpTQm1MbkpsWm5KbGMyaGZkRzlyWlc0cE9pZ29aU3gwS1QwK2UyUmxiR1YwWlNCdlcyNG9aU3gwS1YxOUtTaDFMR3dwTEhBdWNHOXpkRTFsYzNOaFoyVW9lMjlyT21jdWIyc3Nhbk52YmpwbWZTbDlZMkYwWTJnb1pTbDdjQzV3YjNOMFRXVnpjMkZuWlNoN2IyczZJVEVzYW5OdmJqcDdaWEp5YjNJNlpTNWxjbkp2Y2l4bGNuSnZjbDlrWlhOamNtbHdkR2x2YmpwbExtMWxjM05oWjJWOWZTbDlkbUZ5SUdSOUtTbDlLQ2s3Q2dvPVwiLFk9bnVsbCxHPSExLGZ1bmN0aW9uKGUpe3JldHVybiBWPVZ8fEYoSCxZLEcpLG5ldyBXb3JrZXIoVixlKX0pO2NvbnN0IEE9e307Y2xhc3MgQntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY2FjaGU9ZSx0aGlzLmNsaWVudElkPXQsdGhpcy5tYW5pZmVzdEtleT10aGlzLmNyZWF0ZU1hbmlmZXN0S2V5RnJvbSh0aGlzLmNsaWVudElkKX1hc3luYyBhZGQoZSl7dmFyIHQ7Y29uc3QgaT1uZXcgU2V0KChudWxsPT09KHQ9YXdhaXQgdGhpcy5jYWNoZS5nZXQodGhpcy5tYW5pZmVzdEtleSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmtleXMpfHxbXSk7aS5hZGQoZSksYXdhaXQgdGhpcy5jYWNoZS5zZXQodGhpcy5tYW5pZmVzdEtleSx7a2V5czpbLi4uaV19KX1hc3luYyByZW1vdmUoZSl7Y29uc3QgdD1hd2FpdCB0aGlzLmNhY2hlLmdldCh0aGlzLm1hbmlmZXN0S2V5KTtpZih0KXtjb25zdCBpPW5ldyBTZXQodC5rZXlzKTtyZXR1cm4gaS5kZWxldGUoZSksaS5zaXplPjA/YXdhaXQgdGhpcy5jYWNoZS5zZXQodGhpcy5tYW5pZmVzdEtleSx7a2V5czpbLi4uaV19KTphd2FpdCB0aGlzLmNhY2hlLnJlbW92ZSh0aGlzLm1hbmlmZXN0S2V5KX19Z2V0KCl7cmV0dXJuIHRoaXMuY2FjaGUuZ2V0KHRoaXMubWFuaWZlc3RLZXkpfWNsZWFyKCl7cmV0dXJuIHRoaXMuY2FjaGUucmVtb3ZlKHRoaXMubWFuaWZlc3RLZXkpfWNyZWF0ZU1hbmlmZXN0S2V5RnJvbShlKXtyZXR1cm5gQEBhdXRoMHNwYWpzQEA6OiR7ZX1gfX1jb25zdCAkPXttZW1vcnk6KCk9PihuZXcgUCkuZW5jbG9zZWRDYWNoZSxsb2NhbHN0b3JhZ2U6KCk9Pm5ldyB6fSxxPWU9PiRbZV0sUT10PT57Y29uc3R7b3BlblVybDppLG9uUmVkaXJlY3Q6b309dCxuPWUodCxbXCJvcGVuVXJsXCIsXCJvblJlZGlyZWN0XCJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtvcGVuVXJsOiExPT09aXx8aT9pOm99KX0sZWU9bmV3IGE7Y2xhc3MgdGV7Y29uc3RydWN0b3IoZSl7bGV0IHQsaTtpZih0aGlzLnVzZXJDYWNoZT0obmV3IFApLmVuY2xvc2VkQ2FjaGUsdGhpcy5kZWZhdWx0T3B0aW9ucz17YXV0aG9yaXphdGlvblBhcmFtczp7c2NvcGU6XCJvcGVuaWQgcHJvZmlsZSBlbWFpbFwifSx1c2VSZWZyZXNoVG9rZW5zRmFsbGJhY2s6ITEsdXNlRm9ybURhdGE6ITB9LHRoaXMuX3JlbGVhc2VMb2NrT25QYWdlSGlkZT1hc3luYygpPT57YXdhaXQgZWUucmVsZWFzZUxvY2soXCJhdXRoMC5sb2NrLmdldFRva2VuU2lsZW50bHlcIiksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLHRoaXMuX3JlbGVhc2VMb2NrT25QYWdlSGlkZSl9LHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmRlZmF1bHRPcHRpb25zKSxlKSx7YXV0aG9yaXphdGlvblBhcmFtczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5kZWZhdWx0T3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zKSxlLmF1dGhvcml6YXRpb25QYXJhbXMpfSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKCgpPT57aWYoIXcoKSl0aHJvdyBuZXcgRXJyb3IoXCJGb3Igc2VjdXJpdHkgcmVhc29ucywgYHdpbmRvdy5jcnlwdG9gIGlzIHJlcXVpcmVkIHRvIHJ1biBgYXV0aDAtc3BhLWpzYC5cIik7aWYodm9pZCAwPT09dygpLnN1YnRsZSl0aHJvdyBuZXcgRXJyb3IoXCJcXG4gICAgICBhdXRoMC1zcGEtanMgbXVzdCBydW4gb24gYSBzZWN1cmUgb3JpZ2luLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2F1dGgwL2F1dGgwLXNwYS1qcy9ibG9iL21haW4vRkFRLm1kI3doeS1kby1pLWdldC1hdXRoMC1zcGEtanMtbXVzdC1ydW4tb24tYS1zZWN1cmUtb3JpZ2luIGZvciBtb3JlIGluZm9ybWF0aW9uLlxcbiAgICBcIil9KSgpLGUuY2FjaGUmJmUuY2FjaGVMb2NhdGlvbiYmY29uc29sZS53YXJuKFwiQm90aCBgY2FjaGVgIGFuZCBgY2FjaGVMb2NhdGlvbmAgb3B0aW9ucyBoYXZlIGJlZW4gc3BlY2lmaWVkIGluIHRoZSBBdXRoMENsaWVudCBjb25maWd1cmF0aW9uOyBpZ25vcmluZyBgY2FjaGVMb2NhdGlvbmAgYW5kIHVzaW5nIGBjYWNoZWAuXCIpLGUuY2FjaGUpaT1lLmNhY2hlO2Vsc2V7aWYodD1lLmNhY2hlTG9jYXRpb258fFwibWVtb3J5XCIsIXEodCkpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNhY2hlIGxvY2F0aW9uIFwiJHt0fVwiYCk7aT1xKHQpKCl9dGhpcy5odHRwVGltZW91dE1zPWUuaHR0cFRpbWVvdXRJblNlY29uZHM/MWUzKmUuaHR0cFRpbWVvdXRJblNlY29uZHM6MWU0LHRoaXMuY29va2llU3RvcmFnZT0hMT09PWUubGVnYWN5U2FtZVNpdGVDb29raWU/WDpOLHRoaXMub3JnSGludENvb2tpZU5hbWU9YGF1dGgwLiR7dGhpcy5vcHRpb25zLmNsaWVudElkfS5vcmdhbml6YXRpb25faGludGAsdGhpcy5pc0F1dGhlbnRpY2F0ZWRDb29raWVOYW1lPShlPT5gYXV0aDAuJHtlfS5pcy5hdXRoZW50aWNhdGVkYCkodGhpcy5vcHRpb25zLmNsaWVudElkKSx0aGlzLnNlc3Npb25DaGVja0V4cGlyeURheXM9ZS5zZXNzaW9uQ2hlY2tFeHBpcnlEYXlzfHwxO2NvbnN0IG89ZS51c2VDb29raWVzRm9yVHJhbnNhY3Rpb25zP3RoaXMuY29va2llU3RvcmFnZTpKO3ZhciBuO3RoaXMuc2NvcGU9aihcIm9wZW5pZFwiLHRoaXMub3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zLnNjb3BlLHRoaXMub3B0aW9ucy51c2VSZWZyZXNoVG9rZW5zP1wib2ZmbGluZV9hY2Nlc3NcIjpcIlwiKSx0aGlzLnRyYW5zYWN0aW9uTWFuYWdlcj1uZXcgWihvLHRoaXMub3B0aW9ucy5jbGllbnRJZCx0aGlzLm9wdGlvbnMuY29va2llRG9tYWluKSx0aGlzLm5vd1Byb3ZpZGVyPXRoaXMub3B0aW9ucy5ub3dQcm92aWRlcnx8Yyx0aGlzLmNhY2hlTWFuYWdlcj1uZXcgeChpLGkuYWxsS2V5cz92b2lkIDA6bmV3IEIoaSx0aGlzLm9wdGlvbnMuY2xpZW50SWQpLHRoaXMubm93UHJvdmlkZXIpLHRoaXMuZG9tYWluVXJsPShuPXRoaXMub3B0aW9ucy5kb21haW4sL15odHRwcz86XFwvXFwvLy50ZXN0KG4pP246YGh0dHBzOi8vJHtufWApLHRoaXMudG9rZW5Jc3N1ZXI9KChlLHQpPT5lP2Uuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpP2U6YGh0dHBzOi8vJHtlfS9gOmAke3R9L2ApKHRoaXMub3B0aW9ucy5pc3N1ZXIsdGhpcy5kb21haW5VcmwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5Xb3JrZXImJnRoaXMub3B0aW9ucy51c2VSZWZyZXNoVG9rZW5zJiZcIm1lbW9yeVwiPT09dCYmKHRoaXMub3B0aW9ucy53b3JrZXJVcmw/dGhpcy53b3JrZXI9bmV3IFdvcmtlcih0aGlzLm9wdGlvbnMud29ya2VyVXJsKTp0aGlzLndvcmtlcj1uZXcgTSl9X3VybChlKXtjb25zdCB0PWVuY29kZVVSSUNvbXBvbmVudChidG9hKEpTT04uc3RyaW5naWZ5KHRoaXMub3B0aW9ucy5hdXRoMENsaWVudHx8cykpKTtyZXR1cm5gJHt0aGlzLmRvbWFpblVybH0ke2V9JmF1dGgwQ2xpZW50PSR7dH1gfV9hdXRob3JpemVVcmwoZSl7cmV0dXJuIHRoaXMuX3VybChgL2F1dGhvcml6ZT8ke3YoZSl9YCl9YXN5bmMgX3ZlcmlmeUlkVG9rZW4oZSx0LGkpe2NvbnN0IG89YXdhaXQgdGhpcy5ub3dQcm92aWRlcigpO3JldHVybiBFKHtpc3M6dGhpcy50b2tlbklzc3VlcixhdWQ6dGhpcy5vcHRpb25zLmNsaWVudElkLGlkX3Rva2VuOmUsbm9uY2U6dCxvcmdhbml6YXRpb246aSxsZWV3YXk6dGhpcy5vcHRpb25zLmxlZXdheSxtYXhfYWdlOihuPXRoaXMub3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zLm1heF9hZ2UsXCJzdHJpbmdcIiE9dHlwZW9mIG4/bjpwYXJzZUludChuLDEwKXx8dm9pZCAwKSxub3c6b30pO3ZhciBufV9wcm9jZXNzT3JnSGludChlKXtlP3RoaXMuY29va2llU3RvcmFnZS5zYXZlKHRoaXMub3JnSGludENvb2tpZU5hbWUsZSx7ZGF5c1VudGlsRXhwaXJlOnRoaXMuc2Vzc2lvbkNoZWNrRXhwaXJ5RGF5cyxjb29raWVEb21haW46dGhpcy5vcHRpb25zLmNvb2tpZURvbWFpbn0pOnRoaXMuY29va2llU3RvcmFnZS5yZW1vdmUodGhpcy5vcmdIaW50Q29va2llTmFtZSx7Y29va2llRG9tYWluOnRoaXMub3B0aW9ucy5jb29raWVEb21haW59KX1hc3luYyBfcHJlcGFyZUF1dGhvcml6ZVVybChlLHQsaSl7Y29uc3Qgbz1rKHkoKSksbj1rKHkoKSksYT15KCkscj0oZT0+e2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuKGU9Pntjb25zdCB0PXtcIitcIjpcIi1cIixcIi9cIjpcIl9cIixcIj1cIjpcIlwifTtyZXR1cm4gZS5yZXBsYWNlKC9bKy89XS9nLChlPT50W2VdKSl9KSh3aW5kb3cuYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLkFycmF5LmZyb20odCkpKSl9KShhd2FpdChhc3luYyBlPT57Y29uc3QgdD13KCkuc3VidGxlLmRpZ2VzdCh7bmFtZTpcIlNIQS0yNTZcIn0sKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpKTtyZXR1cm4gYXdhaXQgdH0pKGEpKSxzPSgoZSx0LGksbyxuLGEscixzKT0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe2NsaWVudF9pZDplLmNsaWVudElkfSxlLmF1dGhvcml6YXRpb25QYXJhbXMpLGkpLHtzY29wZTpqKHQsaS5zY29wZSkscmVzcG9uc2VfdHlwZTpcImNvZGVcIixyZXNwb25zZV9tb2RlOnN8fFwicXVlcnlcIixzdGF0ZTpvLG5vbmNlOm4scmVkaXJlY3RfdXJpOnJ8fGUuYXV0aG9yaXphdGlvblBhcmFtcy5yZWRpcmVjdF91cmksY29kZV9jaGFsbGVuZ2U6YSxjb2RlX2NoYWxsZW5nZV9tZXRob2Q6XCJTMjU2XCJ9KSkodGhpcy5vcHRpb25zLHRoaXMuc2NvcGUsZSxvLG4scixlLnJlZGlyZWN0X3VyaXx8dGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMucmVkaXJlY3RfdXJpfHxpLG51bGw9PXQ/dm9pZCAwOnQucmVzcG9uc2VfbW9kZSksYz10aGlzLl9hdXRob3JpemVVcmwocyk7cmV0dXJue25vbmNlOm4sY29kZV92ZXJpZmllcjphLHNjb3BlOnMuc2NvcGUsYXVkaWVuY2U6cy5hdWRpZW5jZXx8XCJkZWZhdWx0XCIscmVkaXJlY3RfdXJpOnMucmVkaXJlY3RfdXJpLHN0YXRlOm8sdXJsOmN9fWFzeW5jIGxvZ2luV2l0aFBvcHVwKGUsdCl7dmFyIGk7aWYoZT1lfHx7fSwhKHQ9dHx8e30pLnBvcHVwJiYodC5wb3B1cD0oZT0+e2NvbnN0IHQ9d2luZG93LnNjcmVlblgrKHdpbmRvdy5pbm5lcldpZHRoLTQwMCkvMixpPXdpbmRvdy5zY3JlZW5ZKyh3aW5kb3cuaW5uZXJIZWlnaHQtNjAwKS8yO3JldHVybiB3aW5kb3cub3BlbihlLFwiYXV0aDA6YXV0aG9yaXplOnBvcHVwXCIsYGxlZnQ9JHt0fSx0b3A9JHtpfSx3aWR0aD00MDAsaGVpZ2h0PTYwMCxyZXNpemFibGUsc2Nyb2xsYmFycz15ZXMsc3RhdHVzPTFgKX0pKFwiXCIpLCF0LnBvcHVwKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gb3BlbiBhIHBvcHVwIGZvciBsb2dpbldpdGhQb3B1cCAtIHdpbmRvdy5vcGVuIHJldHVybmVkIGBudWxsYFwiKTtjb25zdCBvPWF3YWl0IHRoaXMuX3ByZXBhcmVBdXRob3JpemVVcmwoZS5hdXRob3JpemF0aW9uUGFyYW1zfHx7fSx7cmVzcG9uc2VfbW9kZTpcIndlYl9tZXNzYWdlXCJ9LHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO3QucG9wdXAubG9jYXRpb24uaHJlZj1vLnVybDtjb25zdCBuPWF3YWl0KGU9Pm5ldyBQcm9taXNlKCgodCxpKT0+e2xldCBvO2NvbnN0IG49c2V0SW50ZXJ2YWwoKCgpPT57ZS5wb3B1cCYmZS5wb3B1cC5jbG9zZWQmJihjbGVhckludGVydmFsKG4pLGNsZWFyVGltZW91dChhKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixvLCExKSxpKG5ldyBwKGUucG9wdXApKSl9KSwxZTMpLGE9c2V0VGltZW91dCgoKCk9PntjbGVhckludGVydmFsKG4pLGkobmV3IGgoZS5wb3B1cCkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG8sITEpfSksMWUzKihlLnRpbWVvdXRJblNlY29uZHN8fDYwKSk7bz1mdW5jdGlvbihyKXtpZihyLmRhdGEmJlwiYXV0aG9yaXphdGlvbl9yZXNwb25zZVwiPT09ci5kYXRhLnR5cGUpe2lmKGNsZWFyVGltZW91dChhKSxjbGVhckludGVydmFsKG4pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG8sITEpLGUucG9wdXAuY2xvc2UoKSxyLmRhdGEucmVzcG9uc2UuZXJyb3IpcmV0dXJuIGkoZC5mcm9tUGF5bG9hZChyLmRhdGEucmVzcG9uc2UpKTt0KHIuZGF0YS5yZXNwb25zZSl9fSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixvKX0pKSkoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHt0aW1lb3V0SW5TZWNvbmRzOnQudGltZW91dEluU2Vjb25kc3x8dGhpcy5vcHRpb25zLmF1dGhvcml6ZVRpbWVvdXRJblNlY29uZHN8fDYwfSkpO2lmKG8uc3RhdGUhPT1uLnN0YXRlKXRocm93IG5ldyBkKFwic3RhdGVfbWlzbWF0Y2hcIixcIkludmFsaWQgc3RhdGVcIik7Y29uc3QgYT0obnVsbD09PShpPWUuYXV0aG9yaXphdGlvblBhcmFtcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkub3JnYW5pemF0aW9uKXx8dGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMub3JnYW5pemF0aW9uO2F3YWl0IHRoaXMuX3JlcXVlc3RUb2tlbih7YXVkaWVuY2U6by5hdWRpZW5jZSxzY29wZTpvLnNjb3BlLGNvZGVfdmVyaWZpZXI6by5jb2RlX3ZlcmlmaWVyLGdyYW50X3R5cGU6XCJhdXRob3JpemF0aW9uX2NvZGVcIixjb2RlOm4uY29kZSxyZWRpcmVjdF91cmk6by5yZWRpcmVjdF91cml9LHtub25jZUluOm8ubm9uY2Usb3JnYW5pemF0aW9uOmF9KX1hc3luYyBnZXRVc2VyKCl7dmFyIGU7Y29uc3QgdD1hd2FpdCB0aGlzLl9nZXRJZFRva2VuRnJvbUNhY2hlKCk7cmV0dXJuIG51bGw9PT0oZT1udWxsPT10P3ZvaWQgMDp0LmRlY29kZWRUb2tlbil8fHZvaWQgMD09PWU/dm9pZCAwOmUudXNlcn1hc3luYyBnZXRJZFRva2VuQ2xhaW1zKCl7dmFyIGU7Y29uc3QgdD1hd2FpdCB0aGlzLl9nZXRJZFRva2VuRnJvbUNhY2hlKCk7cmV0dXJuIG51bGw9PT0oZT1udWxsPT10P3ZvaWQgMDp0LmRlY29kZWRUb2tlbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2xhaW1zfWFzeW5jIGxvZ2luV2l0aFJlZGlyZWN0KHQ9e30pe3ZhciBpO2NvbnN0IG89USh0KSx7b3BlblVybDpuLGZyYWdtZW50OmEsYXBwU3RhdGU6cn09byxzPWUobyxbXCJvcGVuVXJsXCIsXCJmcmFnbWVudFwiLFwiYXBwU3RhdGVcIl0pLGM9KG51bGw9PT0oaT1zLmF1dGhvcml6YXRpb25QYXJhbXMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLm9yZ2FuaXphdGlvbil8fHRoaXMub3B0aW9ucy5hdXRob3JpemF0aW9uUGFyYW1zLm9yZ2FuaXphdGlvbixkPWF3YWl0IHRoaXMuX3ByZXBhcmVBdXRob3JpemVVcmwocy5hdXRob3JpemF0aW9uUGFyYW1zfHx7fSkse3VybDp1fT1kLGw9ZShkLFtcInVybFwiXSk7dGhpcy50cmFuc2FjdGlvbk1hbmFnZXIuY3JlYXRlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGwpLHthcHBTdGF0ZTpyfSksYyYme29yZ2FuaXphdGlvbjpjfSkpO2NvbnN0IGg9YT9gJHt1fSMke2F9YDp1O24/YXdhaXQgbihoKTp3aW5kb3cubG9jYXRpb24uYXNzaWduKGgpfWFzeW5jIGhhbmRsZVJlZGlyZWN0Q2FsbGJhY2soZT13aW5kb3cubG9jYXRpb24uaHJlZil7Y29uc3QgdD1lLnNwbGl0KFwiP1wiKS5zbGljZSgxKTtpZigwPT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgYXJlIG5vIHF1ZXJ5IHBhcmFtcyBhdmFpbGFibGUgZm9yIHBhcnNpbmcuXCIpO2NvbnN0e3N0YXRlOmksY29kZTpvLGVycm9yOm4sZXJyb3JfZGVzY3JpcHRpb246YX09KGU9PntlLmluZGV4T2YoXCIjXCIpPi0xJiYoZT1lLnN1YnN0cmluZygwLGUuaW5kZXhPZihcIiNcIikpKTtjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSk7cmV0dXJue3N0YXRlOnQuZ2V0KFwic3RhdGVcIiksY29kZTp0LmdldChcImNvZGVcIil8fHZvaWQgMCxlcnJvcjp0LmdldChcImVycm9yXCIpfHx2b2lkIDAsZXJyb3JfZGVzY3JpcHRpb246dC5nZXQoXCJlcnJvcl9kZXNjcmlwdGlvblwiKXx8dm9pZCAwfX0pKHQuam9pbihcIlwiKSkscj10aGlzLnRyYW5zYWN0aW9uTWFuYWdlci5nZXQoKTtpZighcil0aHJvdyBuZXcgZChcIm1pc3NpbmdfdHJhbnNhY3Rpb25cIixcIkludmFsaWQgc3RhdGVcIik7aWYodGhpcy50cmFuc2FjdGlvbk1hbmFnZXIucmVtb3ZlKCksbil0aHJvdyBuZXcgdShuLGF8fG4saSxyLmFwcFN0YXRlKTtpZighci5jb2RlX3ZlcmlmaWVyfHxyLnN0YXRlJiZyLnN0YXRlIT09aSl0aHJvdyBuZXcgZChcInN0YXRlX21pc21hdGNoXCIsXCJJbnZhbGlkIHN0YXRlXCIpO2NvbnN0IHM9ci5vcmdhbml6YXRpb24sYz1yLm5vbmNlLGw9ci5yZWRpcmVjdF91cmk7cmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3RUb2tlbihPYmplY3QuYXNzaWduKHthdWRpZW5jZTpyLmF1ZGllbmNlLHNjb3BlOnIuc2NvcGUsY29kZV92ZXJpZmllcjpyLmNvZGVfdmVyaWZpZXIsZ3JhbnRfdHlwZTpcImF1dGhvcml6YXRpb25fY29kZVwiLGNvZGU6b30sbD97cmVkaXJlY3RfdXJpOmx9Ont9KSx7bm9uY2VJbjpjLG9yZ2FuaXphdGlvbjpzfSkse2FwcFN0YXRlOnIuYXBwU3RhdGV9fWFzeW5jIGNoZWNrU2Vzc2lvbihlKXtpZighdGhpcy5jb29raWVTdG9yYWdlLmdldCh0aGlzLmlzQXV0aGVudGljYXRlZENvb2tpZU5hbWUpKXtpZighdGhpcy5jb29raWVTdG9yYWdlLmdldChcImF1dGgwLmlzLmF1dGhlbnRpY2F0ZWRcIikpcmV0dXJuO3RoaXMuY29va2llU3RvcmFnZS5zYXZlKHRoaXMuaXNBdXRoZW50aWNhdGVkQ29va2llTmFtZSwhMCx7ZGF5c1VudGlsRXhwaXJlOnRoaXMuc2Vzc2lvbkNoZWNrRXhwaXJ5RGF5cyxjb29raWVEb21haW46dGhpcy5vcHRpb25zLmNvb2tpZURvbWFpbn0pLHRoaXMuY29va2llU3RvcmFnZS5yZW1vdmUoXCJhdXRoMC5pcy5hdXRoZW50aWNhdGVkXCIpfXRyeXthd2FpdCB0aGlzLmdldFRva2VuU2lsZW50bHkoZSl9Y2F0Y2goZSl7fX1hc3luYyBnZXRUb2tlblNpbGVudGx5KGU9e30pe3ZhciB0O2NvbnN0IGk9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtjYWNoZU1vZGU6XCJvblwifSxlKSx7YXV0aG9yaXphdGlvblBhcmFtczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLm9wdGlvbnMuYXV0aG9yaXphdGlvblBhcmFtcyksZS5hdXRob3JpemF0aW9uUGFyYW1zKSx7c2NvcGU6aih0aGlzLnNjb3BlLG51bGw9PT0odD1lLmF1dGhvcml6YXRpb25QYXJhbXMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNjb3BlKX0pfSksbz1hd2FpdCgoZSx0KT0+e2xldCBpPUFbdF07cmV0dXJuIGl8fChpPWUoKS5maW5hbGx5KCgoKT0+e2RlbGV0ZSBBW3RdLGk9bnVsbH0pKSxBW3RdPWkpLGl9KSgoKCk9PnRoaXMuX2dldFRva2VuU2lsZW50bHkoaSkpLGAke3RoaXMub3B0aW9ucy5jbGllbnRJZH06OiR7aS5hdXRob3JpemF0aW9uUGFyYW1zLmF1ZGllbmNlfTo6JHtpLmF1dGhvcml6YXRpb25QYXJhbXMuc2NvcGV9YCk7cmV0dXJuIGUuZGV0YWlsZWRSZXNwb25zZT9vOm51bGw9PW8/dm9pZCAwOm8uYWNjZXNzX3Rva2VufWFzeW5jIF9nZXRUb2tlblNpbGVudGx5KHQpe2NvbnN0e2NhY2hlTW9kZTppfT10LG89ZSh0LFtcImNhY2hlTW9kZVwiXSk7aWYoXCJvZmZcIiE9PWkpe2NvbnN0IGU9YXdhaXQgdGhpcy5fZ2V0RW50cnlGcm9tQ2FjaGUoe3Njb3BlOm8uYXV0aG9yaXphdGlvblBhcmFtcy5zY29wZSxhdWRpZW5jZTpvLmF1dGhvcml6YXRpb25QYXJhbXMuYXVkaWVuY2V8fFwiZGVmYXVsdFwiLGNsaWVudElkOnRoaXMub3B0aW9ucy5jbGllbnRJZH0pO2lmKGUpcmV0dXJuIGV9aWYoXCJjYWNoZS1vbmx5XCIhPT1pKXtpZighYXdhaXQoYXN5bmMoZSx0PTMpPT57Zm9yKGxldCBpPTA7aTx0O2krKylpZihhd2FpdCBlKCkpcmV0dXJuITA7cmV0dXJuITF9KSgoKCk9PmVlLmFjcXVpcmVMb2NrKFwiYXV0aDAubG9jay5nZXRUb2tlblNpbGVudGx5XCIsNWUzKSksMTApKXRocm93IG5ldyBsO3RyeXtpZih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsdGhpcy5fcmVsZWFzZUxvY2tPblBhZ2VIaWRlKSxcIm9mZlwiIT09aSl7Y29uc3QgZT1hd2FpdCB0aGlzLl9nZXRFbnRyeUZyb21DYWNoZSh7c2NvcGU6by5hdXRob3JpemF0aW9uUGFyYW1zLnNjb3BlLGF1ZGllbmNlOm8uYXV0aG9yaXphdGlvblBhcmFtcy5hdWRpZW5jZXx8XCJkZWZhdWx0XCIsY2xpZW50SWQ6dGhpcy5vcHRpb25zLmNsaWVudElkfSk7aWYoZSlyZXR1cm4gZX1jb25zdCBlPXRoaXMub3B0aW9ucy51c2VSZWZyZXNoVG9rZW5zP2F3YWl0IHRoaXMuX2dldFRva2VuVXNpbmdSZWZyZXNoVG9rZW4obyk6YXdhaXQgdGhpcy5fZ2V0VG9rZW5Gcm9tSUZyYW1lKG8pLHtpZF90b2tlbjp0LGFjY2Vzc190b2tlbjpuLG9hdXRoVG9rZW5TY29wZTphLGV4cGlyZXNfaW46cn09ZTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtpZF90b2tlbjp0LGFjY2Vzc190b2tlbjpufSxhP3tzY29wZTphfTpudWxsKSx7ZXhwaXJlc19pbjpyfSl9ZmluYWxseXthd2FpdCBlZS5yZWxlYXNlTG9jayhcImF1dGgwLmxvY2suZ2V0VG9rZW5TaWxlbnRseVwiKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsdGhpcy5fcmVsZWFzZUxvY2tPblBhZ2VIaWRlKX19fWFzeW5jIGdldFRva2VuV2l0aFBvcHVwKGU9e30sdD17fSl7dmFyIGk7Y29uc3Qgbz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2F1dGhvcml6YXRpb25QYXJhbXM6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMpLGUuYXV0aG9yaXphdGlvblBhcmFtcykse3Njb3BlOmoodGhpcy5zY29wZSxudWxsPT09KGk9ZS5hdXRob3JpemF0aW9uUGFyYW1zKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zY29wZSl9KX0pO3Q9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHIpLHQpLGF3YWl0IHRoaXMubG9naW5XaXRoUG9wdXAobyx0KTtyZXR1cm4oYXdhaXQgdGhpcy5jYWNoZU1hbmFnZXIuZ2V0KG5ldyBDKHtzY29wZTpvLmF1dGhvcml6YXRpb25QYXJhbXMuc2NvcGUsYXVkaWVuY2U6by5hdXRob3JpemF0aW9uUGFyYW1zLmF1ZGllbmNlfHxcImRlZmF1bHRcIixjbGllbnRJZDp0aGlzLm9wdGlvbnMuY2xpZW50SWR9KSkpLmFjY2Vzc190b2tlbn1hc3luYyBpc0F1dGhlbnRpY2F0ZWQoKXtyZXR1cm4hIWF3YWl0IHRoaXMuZ2V0VXNlcigpfV9idWlsZExvZ291dFVybCh0KXtudWxsIT09dC5jbGllbnRJZD90LmNsaWVudElkPXQuY2xpZW50SWR8fHRoaXMub3B0aW9ucy5jbGllbnRJZDpkZWxldGUgdC5jbGllbnRJZDtjb25zdCBpPXQubG9nb3V0UGFyYW1zfHx7fSx7ZmVkZXJhdGVkOm99PWksbj1lKGksW1wiZmVkZXJhdGVkXCJdKSxhPW8/XCImZmVkZXJhdGVkXCI6XCJcIjtyZXR1cm4gdGhpcy5fdXJsKGAvdjIvbG9nb3V0PyR7dihPYmplY3QuYXNzaWduKHtjbGllbnRJZDp0LmNsaWVudElkfSxuKSl9YCkrYX1hc3luYyBsb2dvdXQodD17fSl7Y29uc3QgaT1RKHQpLHtvcGVuVXJsOm99PWksbj1lKGksW1wib3BlblVybFwiXSk7bnVsbD09PXQuY2xpZW50SWQ/YXdhaXQgdGhpcy5jYWNoZU1hbmFnZXIuY2xlYXIoKTphd2FpdCB0aGlzLmNhY2hlTWFuYWdlci5jbGVhcih0LmNsaWVudElkfHx0aGlzLm9wdGlvbnMuY2xpZW50SWQpLHRoaXMuY29va2llU3RvcmFnZS5yZW1vdmUodGhpcy5vcmdIaW50Q29va2llTmFtZSx7Y29va2llRG9tYWluOnRoaXMub3B0aW9ucy5jb29raWVEb21haW59KSx0aGlzLmNvb2tpZVN0b3JhZ2UucmVtb3ZlKHRoaXMuaXNBdXRoZW50aWNhdGVkQ29va2llTmFtZSx7Y29va2llRG9tYWluOnRoaXMub3B0aW9ucy5jb29raWVEb21haW59KSx0aGlzLnVzZXJDYWNoZS5yZW1vdmUoXCJAQHVzZXJAQFwiKTtjb25zdCBhPXRoaXMuX2J1aWxkTG9nb3V0VXJsKG4pO28/YXdhaXQgbyhhKTohMSE9PW8mJndpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYSl9YXN5bmMgX2dldFRva2VuRnJvbUlGcmFtZShlKXtjb25zdCB0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLmF1dGhvcml6YXRpb25QYXJhbXMpLHtwcm9tcHQ6XCJub25lXCJ9KSxpPXRoaXMuY29va2llU3RvcmFnZS5nZXQodGhpcy5vcmdIaW50Q29va2llTmFtZSk7aSYmIXQub3JnYW5pemF0aW9uJiYodC5vcmdhbml6YXRpb249aSk7Y29uc3R7dXJsOm8sc3RhdGU6bixub25jZTphLGNvZGVfdmVyaWZpZXI6cixyZWRpcmVjdF91cmk6cyxzY29wZTpjLGF1ZGllbmNlOnV9PWF3YWl0IHRoaXMuX3ByZXBhcmVBdXRob3JpemVVcmwodCx7cmVzcG9uc2VfbW9kZTpcIndlYl9tZXNzYWdlXCJ9LHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO3RyeXtpZih3aW5kb3cuY3Jvc3NPcmlnaW5Jc29sYXRlZCl0aHJvdyBuZXcgZChcImxvZ2luX3JlcXVpcmVkXCIsXCJUaGUgYXBwbGljYXRpb24gaXMgcnVubmluZyBpbiBhIENyb3NzLU9yaWdpbiBJc29sYXRlZCBjb250ZXh0LCBzaWxlbnRseSByZXRyaWV2aW5nIGEgdG9rZW4gd2l0aG91dCByZWZyZXNoIHRva2VuIGlzIG5vdCBwb3NzaWJsZS5cIik7Y29uc3QgaT1lLnRpbWVvdXRJblNlY29uZHN8fHRoaXMub3B0aW9ucy5hdXRob3JpemVUaW1lb3V0SW5TZWNvbmRzLGg9YXdhaXQoKGUsdCxpPTYwKT0+bmV3IFByb21pc2UoKChvLG4pPT57Y29uc3QgYT13aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTthLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsXCIwXCIpLGEuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsXCIwXCIpLGEuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtjb25zdCByPSgpPT57d2luZG93LmRvY3VtZW50LmJvZHkuY29udGFpbnMoYSkmJih3aW5kb3cuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixzLCExKSl9O2xldCBzO2NvbnN0IGM9c2V0VGltZW91dCgoKCk9PntuKG5ldyBsKSxyKCl9KSwxZTMqaSk7cz1mdW5jdGlvbihlKXtpZihlLm9yaWdpbiE9dClyZXR1cm47aWYoIWUuZGF0YXx8XCJhdXRob3JpemF0aW9uX3Jlc3BvbnNlXCIhPT1lLmRhdGEudHlwZSlyZXR1cm47Y29uc3QgaT1lLnNvdXJjZTtpJiZpLmNsb3NlKCksZS5kYXRhLnJlc3BvbnNlLmVycm9yP24oZC5mcm9tUGF5bG9hZChlLmRhdGEucmVzcG9uc2UpKTpvKGUuZGF0YS5yZXNwb25zZSksY2xlYXJUaW1lb3V0KGMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHMsITEpLHNldFRpbWVvdXQociwyZTMpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixzLCExKSx3aW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxhLnNldEF0dHJpYnV0ZShcInNyY1wiLGUpfSkpKShvLHRoaXMuZG9tYWluVXJsLGkpO2lmKG4hPT1oLnN0YXRlKXRocm93IG5ldyBkKFwic3RhdGVfbWlzbWF0Y2hcIixcIkludmFsaWQgc3RhdGVcIik7Y29uc3QgcD1hd2FpdCB0aGlzLl9yZXF1ZXN0VG9rZW4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUuYXV0aG9yaXphdGlvblBhcmFtcykse2NvZGVfdmVyaWZpZXI6cixjb2RlOmguY29kZSxncmFudF90eXBlOlwiYXV0aG9yaXphdGlvbl9jb2RlXCIscmVkaXJlY3RfdXJpOnMsdGltZW91dDplLmF1dGhvcml6YXRpb25QYXJhbXMudGltZW91dHx8dGhpcy5odHRwVGltZW91dE1zfSkse25vbmNlSW46YSxvcmdhbml6YXRpb246dC5vcmdhbml6YXRpb259KTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHApLHtzY29wZTpjLG9hdXRoVG9rZW5TY29wZTpwLnNjb3BlLGF1ZGllbmNlOnV9KX1jYXRjaChlKXt0aHJvd1wibG9naW5fcmVxdWlyZWRcIj09PWUuZXJyb3ImJnRoaXMubG9nb3V0KHtvcGVuVXJsOiExfSksZX19YXN5bmMgX2dldFRva2VuVXNpbmdSZWZyZXNoVG9rZW4oZSl7Y29uc3QgdD1hd2FpdCB0aGlzLmNhY2hlTWFuYWdlci5nZXQobmV3IEMoe3Njb3BlOmUuYXV0aG9yaXphdGlvblBhcmFtcy5zY29wZSxhdWRpZW5jZTplLmF1dGhvcml6YXRpb25QYXJhbXMuYXVkaWVuY2V8fFwiZGVmYXVsdFwiLGNsaWVudElkOnRoaXMub3B0aW9ucy5jbGllbnRJZH0pKTtpZighKHQmJnQucmVmcmVzaF90b2tlbnx8dGhpcy53b3JrZXIpKXtpZih0aGlzLm9wdGlvbnMudXNlUmVmcmVzaFRva2Vuc0ZhbGxiYWNrKXJldHVybiBhd2FpdCB0aGlzLl9nZXRUb2tlbkZyb21JRnJhbWUoZSk7dGhyb3cgbmV3IGYoZS5hdXRob3JpemF0aW9uUGFyYW1zLmF1ZGllbmNlfHxcImRlZmF1bHRcIixlLmF1dGhvcml6YXRpb25QYXJhbXMuc2NvcGUpfWNvbnN0IGk9ZS5hdXRob3JpemF0aW9uUGFyYW1zLnJlZGlyZWN0X3VyaXx8dGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMucmVkaXJlY3RfdXJpfHx3aW5kb3cubG9jYXRpb24ub3JpZ2luLG89XCJudW1iZXJcIj09dHlwZW9mIGUudGltZW91dEluU2Vjb25kcz8xZTMqZS50aW1lb3V0SW5TZWNvbmRzOm51bGw7dHJ5e2NvbnN0IG49YXdhaXQgdGhpcy5fcmVxdWVzdFRva2VuKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUuYXV0aG9yaXphdGlvblBhcmFtcykse2dyYW50X3R5cGU6XCJyZWZyZXNoX3Rva2VuXCIscmVmcmVzaF90b2tlbjp0JiZ0LnJlZnJlc2hfdG9rZW4scmVkaXJlY3RfdXJpOml9KSxvJiZ7dGltZW91dDpvfSkpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse3Njb3BlOmUuYXV0aG9yaXphdGlvblBhcmFtcy5zY29wZSxvYXV0aFRva2VuU2NvcGU6bi5zY29wZSxhdWRpZW5jZTplLmF1dGhvcml6YXRpb25QYXJhbXMuYXVkaWVuY2V8fFwiZGVmYXVsdFwifSl9Y2F0Y2godCl7aWYoKHQubWVzc2FnZS5pbmRleE9mKFwiTWlzc2luZyBSZWZyZXNoIFRva2VuXCIpPi0xfHx0Lm1lc3NhZ2UmJnQubWVzc2FnZS5pbmRleE9mKFwiaW52YWxpZCByZWZyZXNoIHRva2VuXCIpPi0xKSYmdGhpcy5vcHRpb25zLnVzZVJlZnJlc2hUb2tlbnNGYWxsYmFjaylyZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VG9rZW5Gcm9tSUZyYW1lKGUpO3Rocm93IHR9fWFzeW5jIF9zYXZlRW50cnlJbkNhY2hlKHQpe2NvbnN0e2lkX3Rva2VuOmksZGVjb2RlZFRva2VuOm99PXQsbj1lKHQsW1wiaWRfdG9rZW5cIixcImRlY29kZWRUb2tlblwiXSk7dGhpcy51c2VyQ2FjaGUuc2V0KFwiQEB1c2VyQEBcIix7aWRfdG9rZW46aSxkZWNvZGVkVG9rZW46b30pLGF3YWl0IHRoaXMuY2FjaGVNYW5hZ2VyLnNldElkVG9rZW4odGhpcy5vcHRpb25zLmNsaWVudElkLHQuaWRfdG9rZW4sdC5kZWNvZGVkVG9rZW4pLGF3YWl0IHRoaXMuY2FjaGVNYW5hZ2VyLnNldChuKX1hc3luYyBfZ2V0SWRUb2tlbkZyb21DYWNoZSgpe2NvbnN0IGU9dGhpcy5vcHRpb25zLmF1dGhvcml6YXRpb25QYXJhbXMuYXVkaWVuY2V8fFwiZGVmYXVsdFwiLHQ9YXdhaXQgdGhpcy5jYWNoZU1hbmFnZXIuZ2V0SWRUb2tlbihuZXcgQyh7Y2xpZW50SWQ6dGhpcy5vcHRpb25zLmNsaWVudElkLGF1ZGllbmNlOmUsc2NvcGU6dGhpcy5zY29wZX0pKSxpPXRoaXMudXNlckNhY2hlLmdldChcIkBAdXNlckBAXCIpO3JldHVybiB0JiZ0LmlkX3Rva2VuPT09KG51bGw9PWk/dm9pZCAwOmkuaWRfdG9rZW4pP2k6KHRoaXMudXNlckNhY2hlLnNldChcIkBAdXNlckBAXCIsdCksdCl9YXN5bmMgX2dldEVudHJ5RnJvbUNhY2hlKHtzY29wZTplLGF1ZGllbmNlOnQsY2xpZW50SWQ6aX0pe2NvbnN0IG89YXdhaXQgdGhpcy5jYWNoZU1hbmFnZXIuZ2V0KG5ldyBDKHtzY29wZTplLGF1ZGllbmNlOnQsY2xpZW50SWQ6aX0pLDYwKTtpZihvJiZvLmFjY2Vzc190b2tlbil7Y29uc3R7YWNjZXNzX3Rva2VuOmUsb2F1dGhUb2tlblNjb3BlOnQsZXhwaXJlc19pbjppfT1vLG49YXdhaXQgdGhpcy5fZ2V0SWRUb2tlbkZyb21DYWNoZSgpO3JldHVybiBuJiZPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe2lkX3Rva2VuOm4uaWRfdG9rZW4sYWNjZXNzX3Rva2VuOmV9LHQ/e3Njb3BlOnR9Om51bGwpLHtleHBpcmVzX2luOml9KX19YXN5bmMgX3JlcXVlc3RUb2tlbihlLHQpe2NvbnN0e25vbmNlSW46aSxvcmdhbml6YXRpb246b309dHx8e30sbj1hd2FpdCBUKE9iamVjdC5hc3NpZ24oe2Jhc2VVcmw6dGhpcy5kb21haW5VcmwsY2xpZW50X2lkOnRoaXMub3B0aW9ucy5jbGllbnRJZCxhdXRoMENsaWVudDp0aGlzLm9wdGlvbnMuYXV0aDBDbGllbnQsdXNlRm9ybURhdGE6dGhpcy5vcHRpb25zLnVzZUZvcm1EYXRhLHRpbWVvdXQ6dGhpcy5odHRwVGltZW91dE1zfSxlKSx0aGlzLndvcmtlciksYT1hd2FpdCB0aGlzLl92ZXJpZnlJZFRva2VuKG4uaWRfdG9rZW4saSxvKTtyZXR1cm4gYXdhaXQgdGhpcy5fc2F2ZUVudHJ5SW5DYWNoZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtkZWNvZGVkVG9rZW46YSxzY29wZTplLnNjb3BlLGF1ZGllbmNlOmUuYXVkaWVuY2V8fFwiZGVmYXVsdFwifSksbi5zY29wZT97b2F1dGhUb2tlblNjb3BlOm4uc2NvcGV9Om51bGwpLHtjbGllbnRfaWQ6dGhpcy5vcHRpb25zLmNsaWVudElkfSkpLHRoaXMuY29va2llU3RvcmFnZS5zYXZlKHRoaXMuaXNBdXRoZW50aWNhdGVkQ29va2llTmFtZSwhMCx7ZGF5c1VudGlsRXhwaXJlOnRoaXMuc2Vzc2lvbkNoZWNrRXhwaXJ5RGF5cyxjb29raWVEb21haW46dGhpcy5vcHRpb25zLmNvb2tpZURvbWFpbn0pLHRoaXMuX3Byb2Nlc3NPcmdIaW50KG98fGEuY2xhaW1zLm9yZ19pZCksT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtkZWNvZGVkVG9rZW46YX0pfX1jbGFzcyBpZXt9YXN5bmMgZnVuY3Rpb24gb2UoZSl7Y29uc3QgdD1uZXcgdGUoZSk7cmV0dXJuIGF3YWl0IHQuY2hlY2tTZXNzaW9uKCksdH1leHBvcnR7dGUgYXMgQXV0aDBDbGllbnQsdSBhcyBBdXRoZW50aWNhdGlvbkVycm9yLEMgYXMgQ2FjaGVLZXksZCBhcyBHZW5lcmljRXJyb3IsUCBhcyBJbk1lbW9yeUNhY2hlLHogYXMgTG9jYWxTdG9yYWdlQ2FjaGUsbSBhcyBNZmFSZXF1aXJlZEVycm9yLGYgYXMgTWlzc2luZ1JlZnJlc2hUb2tlbkVycm9yLHAgYXMgUG9wdXBDYW5jZWxsZWRFcnJvcixoIGFzIFBvcHVwVGltZW91dEVycm9yLGwgYXMgVGltZW91dEVycm9yLGllIGFzIFVzZXIsb2UgYXMgY3JlYXRlQXV0aDBDbGllbnR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0aDAtc3BhLWpzLnByb2R1Y3Rpb24uZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.esm.js\n"));

/***/ }),

/***/ "./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("(function (global, factory) {\n   true ? factory(exports, __webpack_require__(/*! react */ \"./node_modules/react/index.js\")) :\n  0;\n})(this, (function (exports, React) { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function getDefaultExportFromCjs (x) {\n  \treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  var propTypes = {exports: {}};\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var ReactPropTypesSecret_1;\n  var hasRequiredReactPropTypesSecret;\n\n  function requireReactPropTypesSecret() {\n    if (hasRequiredReactPropTypesSecret) return ReactPropTypesSecret_1;\n    hasRequiredReactPropTypesSecret = 1;\n\n    var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n    ReactPropTypesSecret_1 = ReactPropTypesSecret;\n    return ReactPropTypesSecret_1;\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var factoryWithThrowingShims;\n  var hasRequiredFactoryWithThrowingShims;\n\n  function requireFactoryWithThrowingShims() {\n    if (hasRequiredFactoryWithThrowingShims) return factoryWithThrowingShims;\n    hasRequiredFactoryWithThrowingShims = 1;\n\n    var ReactPropTypesSecret = requireReactPropTypesSecret();\n\n    function emptyFunction() {}\n\n    function emptyFunctionWithReset() {}\n\n    emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n    factoryWithThrowingShims = function () {\n      function shim(props, propName, componentName, location, propFullName, secret) {\n        if (secret === ReactPropTypesSecret) {\n          // It is still safe when called from React.\n          return;\n        }\n\n        var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n        err.name = 'Invariant Violation';\n        throw err;\n      }\n      shim.isRequired = shim;\n\n      function getShim() {\n        return shim;\n      }\n      // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n      var ReactPropTypes = {\n        array: shim,\n        bool: shim,\n        func: shim,\n        number: shim,\n        object: shim,\n        string: shim,\n        symbol: shim,\n        any: shim,\n        arrayOf: getShim,\n        element: shim,\n        elementType: shim,\n        instanceOf: getShim,\n        node: shim,\n        objectOf: getShim,\n        oneOf: getShim,\n        oneOfType: getShim,\n        shape: getShim,\n        exact: getShim,\n        checkPropTypes: emptyFunctionWithReset,\n        resetWarningCache: emptyFunction\n      };\n      ReactPropTypes.PropTypes = ReactPropTypes;\n      return ReactPropTypes;\n    };\n\n    return factoryWithThrowingShims;\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    propTypes.exports = requireFactoryWithThrowingShims()();\n  }\n\n  var propTypesExports = propTypes.exports;\n  var PropTypes = /*@__PURE__*/getDefaultExportFromCjs(propTypesExports);\n\n  var useAttachEvent = function useAttachEvent(element, event, cb) {\n    var cbDefined = !!cb;\n    var cbRef = React.useRef(cb); // In many integrations the callback prop changes on each render.\n    // Using a ref saves us from calling element.on/.off every render.\n\n    React.useEffect(function () {\n      cbRef.current = cb;\n    }, [cb]);\n    React.useEffect(function () {\n      if (!cbDefined || !element) {\n        return function () {};\n      }\n\n      var decoratedCb = function decoratedCb() {\n        if (cbRef.current) {\n          cbRef.current.apply(cbRef, arguments);\n        }\n      };\n\n      element.on(event, decoratedCb);\n      return function () {\n        element.off(event, decoratedCb);\n      };\n    }, [cbDefined, event, element, cbRef]);\n  };\n\n  var usePrevious = function usePrevious(value) {\n    var ref = React.useRef(value);\n    React.useEffect(function () {\n      ref.current = value;\n    }, [value]);\n    return ref.current;\n  };\n\n  var isUnknownObject = function isUnknownObject(raw) {\n    return raw !== null && _typeof(raw) === 'object';\n  };\n  var isPromise = function isPromise(raw) {\n    return isUnknownObject(raw) && typeof raw.then === 'function';\n  }; // We are using types to enforce the `stripe` prop in this lib,\n  // but in an untyped integration `stripe` could be anything, so we need\n  // to do some sanity validation to prevent type errors.\n\n  var isStripe = function isStripe(raw) {\n    return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n  };\n\n  var PLAIN_OBJECT_STR = '[object Object]';\n  var isEqual = function isEqual(left, right) {\n    if (!isUnknownObject(left) || !isUnknownObject(right)) {\n      return left === right;\n    }\n\n    var leftArray = Array.isArray(left);\n    var rightArray = Array.isArray(right);\n    if (leftArray !== rightArray) return false;\n    var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n    var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n    if (leftPlainObject !== rightPlainObject) return false; // not sure what sort of special object this is (regexp is one option), so\n    // fallback to reference check.\n\n    if (!leftPlainObject && !leftArray) return left === right;\n    var leftKeys = Object.keys(left);\n    var rightKeys = Object.keys(right);\n    if (leftKeys.length !== rightKeys.length) return false;\n    var keySet = {};\n\n    for (var i = 0; i < leftKeys.length; i += 1) {\n      keySet[leftKeys[i]] = true;\n    }\n\n    for (var _i = 0; _i < rightKeys.length; _i += 1) {\n      keySet[rightKeys[_i]] = true;\n    }\n\n    var allKeys = Object.keys(keySet);\n\n    if (allKeys.length !== leftKeys.length) {\n      return false;\n    }\n\n    var l = left;\n    var r = right;\n\n    var pred = function pred(key) {\n      return isEqual(l[key], r[key]);\n    };\n\n    return allKeys.every(pred);\n  };\n\n  var extractAllowedOptionsUpdates = function extractAllowedOptionsUpdates(options, prevOptions, immutableKeys) {\n    if (!isUnknownObject(options)) {\n      return null;\n    }\n\n    return Object.keys(options).reduce(function (newOptions, key) {\n      var isUpdated = !isUnknownObject(prevOptions) || !isEqual(options[key], prevOptions[key]);\n\n      if (immutableKeys.includes(key)) {\n        if (isUpdated) {\n          console.warn(\"Unsupported prop change: options.\".concat(key, \" is not a mutable property.\"));\n        }\n\n        return newOptions;\n      }\n\n      if (!isUpdated) {\n        return newOptions;\n      }\n\n      return _objectSpread2(_objectSpread2({}, newOptions || {}), {}, _defineProperty({}, key, options[key]));\n    }, null);\n  };\n\n  var INVALID_STRIPE_ERROR$2 = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n  // integration `stripe` could be anything, so we need to do some sanity\n  // validation to prevent type errors.\n\n  var validateStripe = function validateStripe(maybeStripe) {\n    var errorMsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : INVALID_STRIPE_ERROR$2;\n\n    if (maybeStripe === null || isStripe(maybeStripe)) {\n      return maybeStripe;\n    }\n\n    throw new Error(errorMsg);\n  };\n\n  var parseStripeProp = function parseStripeProp(raw) {\n    var errorMsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : INVALID_STRIPE_ERROR$2;\n\n    if (isPromise(raw)) {\n      return {\n        tag: 'async',\n        stripePromise: Promise.resolve(raw).then(function (result) {\n          return validateStripe(result, errorMsg);\n        })\n      };\n    }\n\n    var stripe = validateStripe(raw, errorMsg);\n\n    if (stripe === null) {\n      return {\n        tag: 'empty'\n      };\n    }\n\n    return {\n      tag: 'sync',\n      stripe: stripe\n    };\n  };\n\n  var registerWithStripeJs = function registerWithStripeJs(stripe) {\n    if (!stripe || !stripe._registerWrapper || !stripe.registerAppInfo) {\n      return;\n    }\n\n    stripe._registerWrapper({\n      name: 'react-stripe-js',\n      version: \"2.7.2\"\n    });\n\n    stripe.registerAppInfo({\n      name: 'react-stripe-js',\n      version: \"2.7.2\",\n      url: 'https://stripe.com/docs/stripe-js/react'\n    });\n  };\n\n  var ElementsContext = /*#__PURE__*/React.createContext(null);\n  ElementsContext.displayName = 'ElementsContext';\n  var parseElementsContext = function parseElementsContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n    }\n\n    return ctx;\n  };\n  /**\n   * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n   * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n   *\n   * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n   * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n   * Pass the returned `Promise` to `Elements`.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n   */\n\n  var Elements = function Elements(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp);\n    }, [rawStripeProp]); // For a sync stripe instance, initialize into context\n\n    var _React$useState = React.useState(function () {\n      return {\n        stripe: parsed.tag === 'sync' ? parsed.stripe : null,\n        elements: parsed.tag === 'sync' ? parsed.stripe.elements(options) : null\n      };\n    }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        ctx = _React$useState2[0],\n        setContext = _React$useState2[1];\n\n    React.useEffect(function () {\n      var isMounted = true;\n\n      var safeSetContext = function safeSetContext(stripe) {\n        setContext(function (ctx) {\n          // no-op if we already have a stripe instance (https://github.com/stripe/react-stripe-js/issues/296)\n          if (ctx.stripe) return ctx;\n          return {\n            stripe: stripe,\n            elements: stripe.elements(options)\n          };\n        });\n      }; // For an async stripePromise, store it in context once resolved\n\n\n      if (parsed.tag === 'async' && !ctx.stripe) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe && isMounted) {\n            // Only update Elements context if the component is still mounted\n            // and stripe is not null. We allow stripe to be null to make\n            // handling SSR easier.\n            safeSetContext(stripe);\n          }\n        });\n      } else if (parsed.tag === 'sync' && !ctx.stripe) {\n        // Or, handle a sync stripe instance going from null -> populated\n        safeSetContext(parsed.stripe);\n      }\n\n      return function () {\n        isMounted = false;\n      };\n    }, [parsed, ctx, options]); // Warn on changes to stripe prop\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Apply updates to elements when options prop has relevant changes\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      if (!ctx.elements) {\n        return;\n      }\n\n      var updates = extractAllowedOptionsUpdates(options, prevOptions, ['clientSecret', 'fonts']);\n\n      if (updates) {\n        ctx.elements.update(updates);\n      }\n    }, [options, prevOptions, ctx.elements]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      registerWithStripeJs(ctx.stripe);\n    }, [ctx.stripe]);\n    return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n      value: ctx\n    }, children);\n  };\n  Elements.propTypes = {\n    stripe: PropTypes.any,\n    options: PropTypes.object\n  };\n  var useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n    var ctx = React.useContext(ElementsContext);\n    return parseElementsContext(ctx, useCaseMessage);\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n   */\n\n  var useElements = function useElements() {\n    var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n        elements = _useElementsContextWi.elements;\n\n    return elements;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n   */\n\n  var ElementsConsumer = function ElementsConsumer(_ref2) {\n    var children = _ref2.children;\n    var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n    return children(ctx);\n  };\n  ElementsConsumer.propTypes = {\n    children: PropTypes.func.isRequired\n  };\n\n  var _excluded = [\"on\", \"session\"];\n  var CustomCheckoutSdkContext = /*#__PURE__*/React.createContext(null);\n  CustomCheckoutSdkContext.displayName = 'CustomCheckoutSdkContext';\n  var parseCustomCheckoutSdkContext = function parseCustomCheckoutSdkContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find CustomCheckoutProvider context; You need to wrap the part of your app that \".concat(useCase, \" in an <CustomCheckoutProvider> provider.\"));\n    }\n\n    return ctx;\n  };\n  var CustomCheckoutContext = /*#__PURE__*/React.createContext(null);\n  CustomCheckoutContext.displayName = 'CustomCheckoutContext';\n  var extractCustomCheckoutContextValue = function extractCustomCheckoutContextValue(customCheckoutSdk, sessionState) {\n    if (!customCheckoutSdk) {\n      return null;\n    }\n\n    customCheckoutSdk.on;\n        customCheckoutSdk.session;\n        var actions = _objectWithoutProperties(customCheckoutSdk, _excluded);\n\n    if (!sessionState) {\n      return _objectSpread2(_objectSpread2({}, actions), customCheckoutSdk.session());\n    }\n\n    return _objectSpread2(_objectSpread2({}, actions), sessionState);\n  };\n  var INVALID_STRIPE_ERROR$1 = 'Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.';\n  var CustomCheckoutProvider = function CustomCheckoutProvider(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp, INVALID_STRIPE_ERROR$1);\n    }, [rawStripeProp]); // State used to trigger a re-render when sdk.session is updated\n\n    var _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        session = _React$useState2[0],\n        setSession = _React$useState2[1];\n\n    var _React$useState3 = React.useState(function () {\n      return {\n        stripe: parsed.tag === 'sync' ? parsed.stripe : null,\n        customCheckoutSdk: null\n      };\n    }),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        ctx = _React$useState4[0],\n        setContext = _React$useState4[1];\n\n    var safeSetContext = function safeSetContext(stripe, customCheckoutSdk) {\n      setContext(function (ctx) {\n        if (ctx.stripe && ctx.customCheckoutSdk) {\n          return ctx;\n        }\n\n        return {\n          stripe: stripe,\n          customCheckoutSdk: customCheckoutSdk\n        };\n      });\n    }; // Ref used to avoid calling initCustomCheckout multiple times when options changes\n\n\n    var initCustomCheckoutCalledRef = React.useRef(false);\n    React.useEffect(function () {\n      var isMounted = true;\n\n      if (parsed.tag === 'async' && !ctx.stripe) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe && isMounted && !initCustomCheckoutCalledRef.current) {\n            // Only update context if the component is still mounted\n            // and stripe is not null. We allow stripe to be null to make\n            // handling SSR easier.\n            initCustomCheckoutCalledRef.current = true;\n            stripe.initCustomCheckout(options).then(function (customCheckoutSdk) {\n              if (customCheckoutSdk) {\n                safeSetContext(stripe, customCheckoutSdk);\n                customCheckoutSdk.on('change', setSession);\n              }\n            });\n          }\n        });\n      } else if (parsed.tag === 'sync' && parsed.stripe && !initCustomCheckoutCalledRef.current) {\n        initCustomCheckoutCalledRef.current = true;\n        parsed.stripe.initCustomCheckout(options).then(function (customCheckoutSdk) {\n          if (customCheckoutSdk) {\n            safeSetContext(parsed.stripe, customCheckoutSdk);\n            customCheckoutSdk.on('change', setSession);\n          }\n        });\n      }\n\n      return function () {\n        isMounted = false;\n      };\n    }, [parsed, ctx, options, setSession]); // Warn on changes to stripe prop\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Apply updates to elements when options prop has relevant changes\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      var _prevOptions$elements, _options$elementsOpti;\n\n      if (!ctx.customCheckoutSdk) {\n        return;\n      }\n\n      if (options.clientSecret && !isUnknownObject(prevOptions) && !isEqual(options.clientSecret, prevOptions.clientSecret)) {\n        console.warn('Unsupported prop change: options.client_secret is not a mutable property.');\n      }\n\n      var previousAppearance = prevOptions === null || prevOptions === void 0 ? void 0 : (_prevOptions$elements = prevOptions.elementsOptions) === null || _prevOptions$elements === void 0 ? void 0 : _prevOptions$elements.appearance;\n      var currentAppearance = options === null || options === void 0 ? void 0 : (_options$elementsOpti = options.elementsOptions) === null || _options$elementsOpti === void 0 ? void 0 : _options$elementsOpti.appearance;\n\n      if (currentAppearance && !isEqual(currentAppearance, previousAppearance)) {\n        ctx.customCheckoutSdk.changeAppearance(currentAppearance);\n      }\n    }, [options, prevOptions, ctx.customCheckoutSdk]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      registerWithStripeJs(ctx.stripe);\n    }, [ctx.stripe]);\n    var customCheckoutContextValue = React.useMemo(function () {\n      return extractCustomCheckoutContextValue(ctx.customCheckoutSdk, session);\n    }, [ctx.customCheckoutSdk, session]);\n\n    if (!ctx.customCheckoutSdk) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(CustomCheckoutSdkContext.Provider, {\n      value: ctx\n    }, /*#__PURE__*/React.createElement(CustomCheckoutContext.Provider, {\n      value: customCheckoutContextValue\n    }, children));\n  };\n  CustomCheckoutProvider.propTypes = {\n    stripe: PropTypes.any,\n    options: PropTypes.shape({\n      clientSecret: PropTypes.string.isRequired,\n      elementsOptions: PropTypes.object\n    }).isRequired\n  };\n  var useCustomCheckoutSdkContextWithUseCase = function useCustomCheckoutSdkContextWithUseCase(useCaseString) {\n    var ctx = React.useContext(CustomCheckoutSdkContext);\n    return parseCustomCheckoutSdkContext(ctx, useCaseString);\n  };\n  var useElementsOrCustomCheckoutSdkContextWithUseCase = function useElementsOrCustomCheckoutSdkContextWithUseCase(useCaseString) {\n    var customCheckoutSdkContext = React.useContext(CustomCheckoutSdkContext);\n    var elementsContext = React.useContext(ElementsContext);\n\n    if (customCheckoutSdkContext && elementsContext) {\n      throw new Error(\"You cannot wrap the part of your app that \".concat(useCaseString, \" in both <CustomCheckoutProvider> and <Elements> providers.\"));\n    }\n\n    if (customCheckoutSdkContext) {\n      return parseCustomCheckoutSdkContext(customCheckoutSdkContext, useCaseString);\n    }\n\n    return parseElementsContext(elementsContext, useCaseString);\n  };\n  var useCustomCheckout = function useCustomCheckout() {\n    // ensure it's in CustomCheckoutProvider\n    useCustomCheckoutSdkContextWithUseCase('calls useCustomCheckout()');\n    var ctx = React.useContext(CustomCheckoutContext);\n\n    if (!ctx) {\n      throw new Error('Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.');\n    }\n\n    return ctx;\n  };\n\n  var capitalized = function capitalized(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n  var createElementComponent = function createElementComponent(type, isServer) {\n    var displayName = \"\".concat(capitalized(type), \"Element\");\n\n    var ClientElement = function ClientElement(_ref) {\n      var id = _ref.id,\n          className = _ref.className,\n          _ref$options = _ref.options,\n          options = _ref$options === void 0 ? {} : _ref$options,\n          onBlur = _ref.onBlur,\n          onFocus = _ref.onFocus,\n          onReady = _ref.onReady,\n          onChange = _ref.onChange,\n          onEscape = _ref.onEscape,\n          onClick = _ref.onClick,\n          onLoadError = _ref.onLoadError,\n          onLoaderStart = _ref.onLoaderStart,\n          onNetworksChange = _ref.onNetworksChange,\n          onConfirm = _ref.onConfirm,\n          onCancel = _ref.onCancel,\n          onShippingAddressChange = _ref.onShippingAddressChange,\n          onShippingRateChange = _ref.onShippingRateChange;\n      var ctx = useElementsOrCustomCheckoutSdkContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      var elements = 'elements' in ctx ? ctx.elements : null;\n      var customCheckoutSdk = 'customCheckoutSdk' in ctx ? ctx.customCheckoutSdk : null;\n\n      var _React$useState = React.useState(null),\n          _React$useState2 = _slicedToArray(_React$useState, 2),\n          element = _React$useState2[0],\n          setElement = _React$useState2[1];\n\n      var elementRef = React.useRef(null);\n      var domNode = React.useRef(null); // For every event where the merchant provides a callback, call element.on\n      // with that callback. If the merchant ever changes the callback, removes\n      // the old callback with element.off and then call element.on with the new one.\n\n      useAttachEvent(element, 'blur', onBlur);\n      useAttachEvent(element, 'focus', onFocus);\n      useAttachEvent(element, 'escape', onEscape);\n      useAttachEvent(element, 'click', onClick);\n      useAttachEvent(element, 'loaderror', onLoadError);\n      useAttachEvent(element, 'loaderstart', onLoaderStart);\n      useAttachEvent(element, 'networkschange', onNetworksChange);\n      useAttachEvent(element, 'confirm', onConfirm);\n      useAttachEvent(element, 'cancel', onCancel);\n      useAttachEvent(element, 'shippingaddresschange', onShippingAddressChange);\n      useAttachEvent(element, 'shippingratechange', onShippingRateChange);\n      useAttachEvent(element, 'change', onChange);\n      var readyCallback;\n\n      if (onReady) {\n        if (type === 'expressCheckout') {\n          // Passes through the event, which includes visible PM types\n          readyCallback = onReady;\n        } else {\n          // For other Elements, pass through the Element itself.\n          readyCallback = function readyCallback() {\n            onReady(element);\n          };\n        }\n      }\n\n      useAttachEvent(element, 'ready', readyCallback);\n      React.useLayoutEffect(function () {\n        if (elementRef.current === null && domNode.current !== null && (elements || customCheckoutSdk)) {\n          var newElement = null;\n\n          if (customCheckoutSdk) {\n            newElement = customCheckoutSdk.createElement(type, options);\n          } else if (elements) {\n            newElement = elements.create(type, options);\n          } // Store element in a ref to ensure it's _immediately_ available in cleanup hooks in StrictMode\n\n\n          elementRef.current = newElement; // Store element in state to facilitate event listener attachment\n\n          setElement(newElement);\n\n          if (newElement) {\n            newElement.mount(domNode.current);\n          }\n        }\n      }, [elements, customCheckoutSdk, options]);\n      var prevOptions = usePrevious(options);\n      React.useEffect(function () {\n        if (!elementRef.current) {\n          return;\n        }\n\n        var updates = extractAllowedOptionsUpdates(options, prevOptions, ['paymentRequest']);\n\n        if (updates) {\n          elementRef.current.update(updates);\n        }\n      }, [options, prevOptions]);\n      React.useLayoutEffect(function () {\n        return function () {\n          if (elementRef.current && typeof elementRef.current.destroy === 'function') {\n            try {\n              elementRef.current.destroy();\n              elementRef.current = null;\n            } catch (error) {// Do nothing\n            }\n          }\n        };\n      }, []);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className,\n        ref: domNode\n      });\n    }; // Only render the Element wrapper in a server environment.\n\n\n    var ServerElement = function ServerElement(props) {\n      useElementsOrCustomCheckoutSdkContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      var id = props.id,\n          className = props.className;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className\n      });\n    };\n\n    var Element = isServer ? ServerElement : ClientElement;\n    Element.propTypes = {\n      id: PropTypes.string,\n      className: PropTypes.string,\n      onChange: PropTypes.func,\n      onBlur: PropTypes.func,\n      onFocus: PropTypes.func,\n      onReady: PropTypes.func,\n      onEscape: PropTypes.func,\n      onClick: PropTypes.func,\n      onLoadError: PropTypes.func,\n      onLoaderStart: PropTypes.func,\n      onNetworksChange: PropTypes.func,\n      onConfirm: PropTypes.func,\n      onCancel: PropTypes.func,\n      onShippingAddressChange: PropTypes.func,\n      onShippingRateChange: PropTypes.func,\n      options: PropTypes.object\n    };\n    Element.displayName = displayName;\n    Element.__elementType = type;\n    return Element;\n  };\n\n  var isServer = typeof window === 'undefined';\n\n  var EmbeddedCheckoutContext = /*#__PURE__*/React.createContext(null);\n  EmbeddedCheckoutContext.displayName = 'EmbeddedCheckoutProviderContext';\n  var useEmbeddedCheckoutContext = function useEmbeddedCheckoutContext() {\n    var ctx = React.useContext(EmbeddedCheckoutContext);\n\n    if (!ctx) {\n      throw new Error('<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>');\n    }\n\n    return ctx;\n  };\n  var INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.';\n  var EmbeddedCheckoutProvider = function EmbeddedCheckoutProvider(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp, INVALID_STRIPE_ERROR);\n    }, [rawStripeProp]);\n    var embeddedCheckoutPromise = React.useRef(null);\n    var loadedStripe = React.useRef(null);\n\n    var _React$useState = React.useState({\n      embeddedCheckout: null\n    }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        ctx = _React$useState2[0],\n        setContext = _React$useState2[1];\n\n    React.useEffect(function () {\n      // Don't support any ctx updates once embeddedCheckout or stripe is set.\n      if (loadedStripe.current || embeddedCheckoutPromise.current) {\n        return;\n      }\n\n      var setStripeAndInitEmbeddedCheckout = function setStripeAndInitEmbeddedCheckout(stripe) {\n        if (loadedStripe.current || embeddedCheckoutPromise.current) return;\n        loadedStripe.current = stripe;\n        embeddedCheckoutPromise.current = loadedStripe.current.initEmbeddedCheckout(options).then(function (embeddedCheckout) {\n          setContext({\n            embeddedCheckout: embeddedCheckout\n          });\n        });\n      }; // For an async stripePromise, store it once resolved\n\n\n      if (parsed.tag === 'async' && !loadedStripe.current && (options.clientSecret || options.fetchClientSecret)) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe) {\n            setStripeAndInitEmbeddedCheckout(stripe);\n          }\n        });\n      } else if (parsed.tag === 'sync' && !loadedStripe.current && (options.clientSecret || options.fetchClientSecret)) {\n        // Or, handle a sync stripe instance going from null -> populated\n        setStripeAndInitEmbeddedCheckout(parsed.stripe);\n      }\n    }, [parsed, options, ctx, loadedStripe]);\n    React.useEffect(function () {\n      // cleanup on unmount\n      return function () {\n        // If embedded checkout is fully initialized, destroy it.\n        if (ctx.embeddedCheckout) {\n          embeddedCheckoutPromise.current = null;\n          ctx.embeddedCheckout.destroy();\n        } else if (embeddedCheckoutPromise.current) {\n          // If embedded checkout is still initializing, destroy it once\n          // it's done. This could be caused by unmounting very quickly\n          // after mounting.\n          embeddedCheckoutPromise.current.then(function () {\n            embeddedCheckoutPromise.current = null;\n\n            if (ctx.embeddedCheckout) {\n              ctx.embeddedCheckout.destroy();\n            }\n          });\n        }\n      };\n    }, [ctx.embeddedCheckout]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      registerWithStripeJs(loadedStripe);\n    }, [loadedStripe]); // Warn on changes to stripe prop.\n    // The stripe prop value can only go from null to non-null once and\n    // can't be changed after that.\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Warn on changes to options.\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      if (prevOptions == null) {\n        return;\n      }\n\n      if (options == null) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.');\n        return;\n      }\n\n      if (options.clientSecret === undefined && options.fetchClientSecret === undefined) {\n        console.warn('Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`.');\n      }\n\n      if (prevOptions.clientSecret != null && options.clientSecret !== prevOptions.clientSecret) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead.');\n      }\n\n      if (prevOptions.fetchClientSecret != null && options.fetchClientSecret !== prevOptions.fetchClientSecret) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead.');\n      }\n\n      if (prevOptions.onComplete != null && options.onComplete !== prevOptions.onComplete) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.');\n      }\n    }, [prevOptions, options]);\n    return /*#__PURE__*/React.createElement(EmbeddedCheckoutContext.Provider, {\n      value: ctx\n    }, children);\n  };\n\n  var EmbeddedCheckoutClientElement = function EmbeddedCheckoutClientElement(_ref) {\n    var id = _ref.id,\n        className = _ref.className;\n\n    var _useEmbeddedCheckoutC = useEmbeddedCheckoutContext(),\n        embeddedCheckout = _useEmbeddedCheckoutC.embeddedCheckout;\n\n    var isMounted = React.useRef(false);\n    var domNode = React.useRef(null);\n    React.useLayoutEffect(function () {\n      if (!isMounted.current && embeddedCheckout && domNode.current !== null) {\n        embeddedCheckout.mount(domNode.current);\n        isMounted.current = true;\n      } // Clean up on unmount\n\n\n      return function () {\n        if (isMounted.current && embeddedCheckout) {\n          try {\n            embeddedCheckout.unmount();\n            isMounted.current = false;\n          } catch (e) {// Do nothing.\n            // Parent effects are destroyed before child effects, so\n            // in cases where both the EmbeddedCheckoutProvider and\n            // the EmbeddedCheckout component are removed at the same\n            // time, the embeddedCheckout instance will be destroyed,\n            // which causes an error when calling unmount.\n          }\n        }\n      };\n    }, [embeddedCheckout]);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: domNode,\n      id: id,\n      className: className\n    });\n  }; // Only render the wrapper in a server environment.\n\n\n  var EmbeddedCheckoutServerElement = function EmbeddedCheckoutServerElement(_ref2) {\n    var id = _ref2.id,\n        className = _ref2.className;\n    // Validate that we are in the right context by calling useEmbeddedCheckoutContext.\n    useEmbeddedCheckoutContext();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className\n    });\n  };\n\n  var EmbeddedCheckout = isServer ? EmbeddedCheckoutServerElement : EmbeddedCheckoutClientElement;\n\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n   */\n\n  var useStripe = function useStripe() {\n    var _useElementsOrCustomC = useElementsOrCustomCheckoutSdkContextWithUseCase('calls useStripe()'),\n        stripe = _useElementsOrCustomC.stripe;\n\n    return stripe;\n  };\n\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardElement = createElementComponent('card', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardNumberElement = createElementComponent('cardNumber', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardExpiryElement = createElementComponent('cardExpiry', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardCvcElement = createElementComponent('cardCvc', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var FpxBankElement = createElementComponent('fpxBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IbanElement = createElementComponent('iban', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IdealBankElement = createElementComponent('idealBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var P24BankElement = createElementComponent('p24Bank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var EpsBankElement = createElementComponent('epsBank', isServer);\n  var PaymentElement = createElementComponent('payment', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var ExpressCheckoutElement = createElementComponent('expressCheckout', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var LinkAuthenticationElement = createElementComponent('linkAuthentication', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AddressElement = createElementComponent('address', isServer);\n  /**\n   * @deprecated\n   * Use `AddressElement` instead.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var ShippingAddressElement = createElementComponent('shippingAddress', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentMethodMessagingElement = createElementComponent('paymentMethodMessaging', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AffirmMessageElement = createElementComponent('affirmMessage', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AfterpayClearpayMessageElement = createElementComponent('afterpayClearpayMessage', isServer);\n\n  exports.AddressElement = AddressElement;\n  exports.AffirmMessageElement = AffirmMessageElement;\n  exports.AfterpayClearpayMessageElement = AfterpayClearpayMessageElement;\n  exports.AuBankAccountElement = AuBankAccountElement;\n  exports.CardCvcElement = CardCvcElement;\n  exports.CardElement = CardElement;\n  exports.CardExpiryElement = CardExpiryElement;\n  exports.CardNumberElement = CardNumberElement;\n  exports.CustomCheckoutProvider = CustomCheckoutProvider;\n  exports.Elements = Elements;\n  exports.ElementsConsumer = ElementsConsumer;\n  exports.EmbeddedCheckout = EmbeddedCheckout;\n  exports.EmbeddedCheckoutProvider = EmbeddedCheckoutProvider;\n  exports.EpsBankElement = EpsBankElement;\n  exports.ExpressCheckoutElement = ExpressCheckoutElement;\n  exports.FpxBankElement = FpxBankElement;\n  exports.IbanElement = IbanElement;\n  exports.IdealBankElement = IdealBankElement;\n  exports.LinkAuthenticationElement = LinkAuthenticationElement;\n  exports.P24BankElement = P24BankElement;\n  exports.PaymentElement = PaymentElement;\n  exports.PaymentMethodMessagingElement = PaymentMethodMessagingElement;\n  exports.PaymentRequestButtonElement = PaymentRequestButtonElement;\n  exports.ShippingAddressElement = ShippingAddressElement;\n  exports.useCustomCheckout = useCustomCheckout;\n  exports.useElements = useElements;\n  exports.useStripe = useStripe;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN0cmlwZS9yZWFjdC1zdHJpcGUtanMvZGlzdC9yZWFjdC1zdHJpcGUudW1kLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsRUFBRSxLQUE0RCxvQkFBb0IsbUJBQU8sQ0FBQyw0Q0FBTztBQUNqRyxFQUFFLENBQzBIO0FBQzVILENBQUMscUNBQXFDOztBQUV0QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQix1QkFBdUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLDZCQUE2QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw4QkFBOEIsK0JBQStCO0FBQzdEOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwyQ0FBMkMsU0FBUzs7QUFFcEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1CQUFtQjs7QUFFbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFB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QSxPQUFPO0FBQ1AsT0FBTzs7O0FBR1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULFNBQVM7OztBQUdUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSywyQkFBMkI7O0FBRWhDO0FBQ0E7QUFDQSxLQUFLLG1CQUFtQjtBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGdDQUFnQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BzdHJpcGUvcmVhY3Qtc3RyaXBlLWpzL2Rpc3QvcmVhY3Qtc3RyaXBlLnVtZC5qcz9kOTA2Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cywgcmVxdWlyZSgncmVhY3QnKSkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJywgJ3JlYWN0J10sIGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWwuUmVhY3RTdHJpcGUgPSB7fSwgZ2xvYmFsLlJlYWN0KSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMsIFJlYWN0KSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG5cbiAgICAgIGlmIChlbnVtZXJhYmxlT25seSkge1xuICAgICAgICBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgICBpZiAoaSAlIDIpIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgICB2YXIgdGFyZ2V0ID0ge307XG4gICAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgIHZhciBrZXksIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICAgIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gICAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gICAgdmFyIGtleSwgaTtcblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gICAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICAgIHZhciBfaSA9IGFyciAmJiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdKTtcblxuICAgIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gICAgdmFyIF9hcnIgPSBbXTtcbiAgICB2YXIgX24gPSB0cnVlO1xuICAgIHZhciBfZCA9IGZhbHNlO1xuXG4gICAgdmFyIF9zLCBfZTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gICAgaWYgKCFvKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gICAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIH1cblxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICAgIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gICAgcmV0dXJuIGFycjI7XG4gIH1cblxuICBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREZWZhdWx0RXhwb3J0RnJvbUNqcyAoeCkge1xuICBcdHJldHVybiB4ICYmIHguX19lc01vZHVsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ2RlZmF1bHQnKSA/IHhbJ2RlZmF1bHQnXSA6IHg7XG4gIH1cblxuICB2YXIgcHJvcFR5cGVzID0ge2V4cG9ydHM6IHt9fTtcblxuICAvKipcbiAgICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICAgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqL1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXRfMTtcbiAgdmFyIGhhc1JlcXVpcmVkUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG5cbiAgZnVuY3Rpb24gcmVxdWlyZVJlYWN0UHJvcFR5cGVzU2VjcmV0KCkge1xuICAgIGlmIChoYXNSZXF1aXJlZFJlYWN0UHJvcFR5cGVzU2VjcmV0KSByZXR1cm4gUmVhY3RQcm9wVHlwZXNTZWNyZXRfMTtcbiAgICBoYXNSZXF1aXJlZFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gMTtcblxuICAgIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG4gICAgUmVhY3RQcm9wVHlwZXNTZWNyZXRfMSA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuICAgIHJldHVybiBSZWFjdFByb3BUeXBlc1NlY3JldF8xO1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKi9cbiAgdmFyIGZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcztcbiAgdmFyIGhhc1JlcXVpcmVkRmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zO1xuXG4gIGZ1bmN0aW9uIHJlcXVpcmVGYWN0b3J5V2l0aFRocm93aW5nU2hpbXMoKSB7XG4gICAgaWYgKGhhc1JlcXVpcmVkRmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zKSByZXR1cm4gZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zO1xuICAgIGhhc1JlcXVpcmVkRmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zID0gMTtcblxuICAgIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmVSZWFjdFByb3BUeXBlc1NlY3JldCgpO1xuXG4gICAgZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9XG5cbiAgICBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uV2l0aFJlc2V0KCkge31cblxuICAgIGVtcHR5RnVuY3Rpb25XaXRoUmVzZXQucmVzZXRXYXJuaW5nQ2FjaGUgPSBlbXB0eUZ1bmN0aW9uO1xuXG4gICAgZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICsgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgKyAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcycpO1xuICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcblxuICAgICAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICAgICAgcmV0dXJuIHNoaW07XG4gICAgICB9XG4gICAgICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cblxuICAgICAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgICAgICBhcnJheTogc2hpbSxcbiAgICAgICAgYm9vbDogc2hpbSxcbiAgICAgICAgZnVuYzogc2hpbSxcbiAgICAgICAgbnVtYmVyOiBzaGltLFxuICAgICAgICBvYmplY3Q6IHNoaW0sXG4gICAgICAgIHN0cmluZzogc2hpbSxcbiAgICAgICAgc3ltYm9sOiBzaGltLFxuICAgICAgICBhbnk6IHNoaW0sXG4gICAgICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgICAgIGVsZW1lbnRUeXBlOiBzaGltLFxuICAgICAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgICAgICBub2RlOiBzaGltLFxuICAgICAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICAgICAgb25lT2Y6IGdldFNoaW0sXG4gICAgICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICAgICAgc2hhcGU6IGdldFNoaW0sXG4gICAgICAgIGV4YWN0OiBnZXRTaGltLFxuICAgICAgICBjaGVja1Byb3BUeXBlczogZW1wdHlGdW5jdGlvbldpdGhSZXNldCxcbiAgICAgICAgcmVzZXRXYXJuaW5nQ2FjaGU6IGVtcHR5RnVuY3Rpb25cbiAgICAgIH07XG4gICAgICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcbiAgICAgIHJldHVybiBSZWFjdFByb3BUeXBlcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gICAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICovXG5cbiAge1xuICAgIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gICAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICAgIHByb3BUeXBlcy5leHBvcnRzID0gcmVxdWlyZUZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcygpKCk7XG4gIH1cblxuICB2YXIgcHJvcFR5cGVzRXhwb3J0cyA9IHByb3BUeXBlcy5leHBvcnRzO1xuICB2YXIgUHJvcFR5cGVzID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHByb3BUeXBlc0V4cG9ydHMpO1xuXG4gIHZhciB1c2VBdHRhY2hFdmVudCA9IGZ1bmN0aW9uIHVzZUF0dGFjaEV2ZW50KGVsZW1lbnQsIGV2ZW50LCBjYikge1xuICAgIHZhciBjYkRlZmluZWQgPSAhIWNiO1xuICAgIHZhciBjYlJlZiA9IFJlYWN0LnVzZVJlZihjYik7IC8vIEluIG1hbnkgaW50ZWdyYXRpb25zIHRoZSBjYWxsYmFjayBwcm9wIGNoYW5nZXMgb24gZWFjaCByZW5kZXIuXG4gICAgLy8gVXNpbmcgYSByZWYgc2F2ZXMgdXMgZnJvbSBjYWxsaW5nIGVsZW1lbnQub24vLm9mZiBldmVyeSByZW5kZXIuXG5cbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgY2JSZWYuY3VycmVudCA9IGNiO1xuICAgIH0sIFtjYl0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWNiRGVmaW5lZCB8fCAhZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge307XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWNvcmF0ZWRDYiA9IGZ1bmN0aW9uIGRlY29yYXRlZENiKCkge1xuICAgICAgICBpZiAoY2JSZWYuY3VycmVudCkge1xuICAgICAgICAgIGNiUmVmLmN1cnJlbnQuYXBwbHkoY2JSZWYsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGVsZW1lbnQub24oZXZlbnQsIGRlY29yYXRlZENiKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGVsZW1lbnQub2ZmKGV2ZW50LCBkZWNvcmF0ZWRDYik7XG4gICAgICB9O1xuICAgIH0sIFtjYkRlZmluZWQsIGV2ZW50LCBlbGVtZW50LCBjYlJlZl0pO1xuICB9O1xuXG4gIHZhciB1c2VQcmV2aW91cyA9IGZ1bmN0aW9uIHVzZVByZXZpb3VzKHZhbHVlKSB7XG4gICAgdmFyIHJlZiA9IFJlYWN0LnVzZVJlZih2YWx1ZSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgfSwgW3ZhbHVlXSk7XG4gICAgcmV0dXJuIHJlZi5jdXJyZW50O1xuICB9O1xuXG4gIHZhciBpc1Vua25vd25PYmplY3QgPSBmdW5jdGlvbiBpc1Vua25vd25PYmplY3QocmF3KSB7XG4gICAgcmV0dXJuIHJhdyAhPT0gbnVsbCAmJiBfdHlwZW9mKHJhdykgPT09ICdvYmplY3QnO1xuICB9O1xuICB2YXIgaXNQcm9taXNlID0gZnVuY3Rpb24gaXNQcm9taXNlKHJhdykge1xuICAgIHJldHVybiBpc1Vua25vd25PYmplY3QocmF3KSAmJiB0eXBlb2YgcmF3LnRoZW4gPT09ICdmdW5jdGlvbic7XG4gIH07IC8vIFdlIGFyZSB1c2luZyB0eXBlcyB0byBlbmZvcmNlIHRoZSBgc3RyaXBlYCBwcm9wIGluIHRoaXMgbGliLFxuICAvLyBidXQgaW4gYW4gdW50eXBlZCBpbnRlZ3JhdGlvbiBgc3RyaXBlYCBjb3VsZCBiZSBhbnl0aGluZywgc28gd2UgbmVlZFxuICAvLyB0byBkbyBzb21lIHNhbml0eSB2YWxpZGF0aW9uIHRvIHByZXZlbnQgdHlwZSBlcnJvcnMuXG5cbiAgdmFyIGlzU3RyaXBlID0gZnVuY3Rpb24gaXNTdHJpcGUocmF3KSB7XG4gICAgcmV0dXJuIGlzVW5rbm93bk9iamVjdChyYXcpICYmIHR5cGVvZiByYXcuZWxlbWVudHMgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHJhdy5jcmVhdGVUb2tlbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcmF3LmNyZWF0ZVBheW1lbnRNZXRob2QgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHJhdy5jb25maXJtQ2FyZFBheW1lbnQgPT09ICdmdW5jdGlvbic7XG4gIH07XG5cbiAgdmFyIFBMQUlOX09CSkVDVF9TVFIgPSAnW29iamVjdCBPYmplY3RdJztcbiAgdmFyIGlzRXF1YWwgPSBmdW5jdGlvbiBpc0VxdWFsKGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKCFpc1Vua25vd25PYmplY3QobGVmdCkgfHwgIWlzVW5rbm93bk9iamVjdChyaWdodCkpIHtcbiAgICAgIHJldHVybiBsZWZ0ID09PSByaWdodDtcbiAgICB9XG5cbiAgICB2YXIgbGVmdEFycmF5ID0gQXJyYXkuaXNBcnJheShsZWZ0KTtcbiAgICB2YXIgcmlnaHRBcnJheSA9IEFycmF5LmlzQXJyYXkocmlnaHQpO1xuICAgIGlmIChsZWZ0QXJyYXkgIT09IHJpZ2h0QXJyYXkpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgbGVmdFBsYWluT2JqZWN0ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGxlZnQpID09PSBQTEFJTl9PQkpFQ1RfU1RSO1xuICAgIHZhciByaWdodFBsYWluT2JqZWN0ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJpZ2h0KSA9PT0gUExBSU5fT0JKRUNUX1NUUjtcbiAgICBpZiAobGVmdFBsYWluT2JqZWN0ICE9PSByaWdodFBsYWluT2JqZWN0KSByZXR1cm4gZmFsc2U7IC8vIG5vdCBzdXJlIHdoYXQgc29ydCBvZiBzcGVjaWFsIG9iamVjdCB0aGlzIGlzIChyZWdleHAgaXMgb25lIG9wdGlvbiksIHNvXG4gICAgLy8gZmFsbGJhY2sgdG8gcmVmZXJlbmNlIGNoZWNrLlxuXG4gICAgaWYgKCFsZWZ0UGxhaW5PYmplY3QgJiYgIWxlZnRBcnJheSkgcmV0dXJuIGxlZnQgPT09IHJpZ2h0O1xuICAgIHZhciBsZWZ0S2V5cyA9IE9iamVjdC5rZXlzKGxlZnQpO1xuICAgIHZhciByaWdodEtleXMgPSBPYmplY3Qua2V5cyhyaWdodCk7XG4gICAgaWYgKGxlZnRLZXlzLmxlbmd0aCAhPT0gcmlnaHRLZXlzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBrZXlTZXQgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVmdEtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGtleVNldFtsZWZ0S2V5c1tpXV0gPSB0cnVlO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCByaWdodEtleXMubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgICBrZXlTZXRbcmlnaHRLZXlzW19pXV0gPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBhbGxLZXlzID0gT2JqZWN0LmtleXMoa2V5U2V0KTtcblxuICAgIGlmIChhbGxLZXlzLmxlbmd0aCAhPT0gbGVmdEtleXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGwgPSBsZWZ0O1xuICAgIHZhciByID0gcmlnaHQ7XG5cbiAgICB2YXIgcHJlZCA9IGZ1bmN0aW9uIHByZWQoa2V5KSB7XG4gICAgICByZXR1cm4gaXNFcXVhbChsW2tleV0sIHJba2V5XSk7XG4gICAgfTtcblxuICAgIHJldHVybiBhbGxLZXlzLmV2ZXJ5KHByZWQpO1xuICB9O1xuXG4gIHZhciBleHRyYWN0QWxsb3dlZE9wdGlvbnNVcGRhdGVzID0gZnVuY3Rpb24gZXh0cmFjdEFsbG93ZWRPcHRpb25zVXBkYXRlcyhvcHRpb25zLCBwcmV2T3B0aW9ucywgaW1tdXRhYmxlS2V5cykge1xuICAgIGlmICghaXNVbmtub3duT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMob3B0aW9ucykucmVkdWNlKGZ1bmN0aW9uIChuZXdPcHRpb25zLCBrZXkpIHtcbiAgICAgIHZhciBpc1VwZGF0ZWQgPSAhaXNVbmtub3duT2JqZWN0KHByZXZPcHRpb25zKSB8fCAhaXNFcXVhbChvcHRpb25zW2tleV0sIHByZXZPcHRpb25zW2tleV0pO1xuXG4gICAgICBpZiAoaW1tdXRhYmxlS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIGlmIChpc1VwZGF0ZWQpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbnN1cHBvcnRlZCBwcm9wIGNoYW5nZTogb3B0aW9ucy5cIi5jb25jYXQoa2V5LCBcIiBpcyBub3QgYSBtdXRhYmxlIHByb3BlcnR5LlwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3T3B0aW9ucztcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1VwZGF0ZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ld09wdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgbmV3T3B0aW9ucyB8fCB7fSksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgb3B0aW9uc1trZXldKSk7XG4gICAgfSwgbnVsbCk7XG4gIH07XG5cbiAgdmFyIElOVkFMSURfU1RSSVBFX0VSUk9SJDIgPSAnSW52YWxpZCBwcm9wIGBzdHJpcGVgIHN1cHBsaWVkIHRvIGBFbGVtZW50c2AuIFdlIHJlY29tbWVuZCB1c2luZyB0aGUgYGxvYWRTdHJpcGVgIHV0aWxpdHkgZnJvbSBgQHN0cmlwZS9zdHJpcGUtanNgLiBTZWUgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnRzLXByb3BzLXN0cmlwZSBmb3IgZGV0YWlscy4nOyAvLyBXZSBhcmUgdXNpbmcgdHlwZXMgdG8gZW5mb3JjZSB0aGUgYHN0cmlwZWAgcHJvcCBpbiB0aGlzIGxpYiwgYnV0IGluIGEgcmVhbFxuICAvLyBpbnRlZ3JhdGlvbiBgc3RyaXBlYCBjb3VsZCBiZSBhbnl0aGluZywgc28gd2UgbmVlZCB0byBkbyBzb21lIHNhbml0eVxuICAvLyB2YWxpZGF0aW9uIHRvIHByZXZlbnQgdHlwZSBlcnJvcnMuXG5cbiAgdmFyIHZhbGlkYXRlU3RyaXBlID0gZnVuY3Rpb24gdmFsaWRhdGVTdHJpcGUobWF5YmVTdHJpcGUpIHtcbiAgICB2YXIgZXJyb3JNc2cgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IElOVkFMSURfU1RSSVBFX0VSUk9SJDI7XG5cbiAgICBpZiAobWF5YmVTdHJpcGUgPT09IG51bGwgfHwgaXNTdHJpcGUobWF5YmVTdHJpcGUpKSB7XG4gICAgICByZXR1cm4gbWF5YmVTdHJpcGU7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcbiAgfTtcblxuICB2YXIgcGFyc2VTdHJpcGVQcm9wID0gZnVuY3Rpb24gcGFyc2VTdHJpcGVQcm9wKHJhdykge1xuICAgIHZhciBlcnJvck1zZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogSU5WQUxJRF9TVFJJUEVfRVJST1IkMjtcblxuICAgIGlmIChpc1Byb21pc2UocmF3KSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGFnOiAnYXN5bmMnLFxuICAgICAgICBzdHJpcGVQcm9taXNlOiBQcm9taXNlLnJlc29sdmUocmF3KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gdmFsaWRhdGVTdHJpcGUocmVzdWx0LCBlcnJvck1zZyk7XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBzdHJpcGUgPSB2YWxpZGF0ZVN0cmlwZShyYXcsIGVycm9yTXNnKTtcblxuICAgIGlmIChzdHJpcGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhZzogJ2VtcHR5J1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGFnOiAnc3luYycsXG4gICAgICBzdHJpcGU6IHN0cmlwZVxuICAgIH07XG4gIH07XG5cbiAgdmFyIHJlZ2lzdGVyV2l0aFN0cmlwZUpzID0gZnVuY3Rpb24gcmVnaXN0ZXJXaXRoU3RyaXBlSnMoc3RyaXBlKSB7XG4gICAgaWYgKCFzdHJpcGUgfHwgIXN0cmlwZS5fcmVnaXN0ZXJXcmFwcGVyIHx8ICFzdHJpcGUucmVnaXN0ZXJBcHBJbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RyaXBlLl9yZWdpc3RlcldyYXBwZXIoe1xuICAgICAgbmFtZTogJ3JlYWN0LXN0cmlwZS1qcycsXG4gICAgICB2ZXJzaW9uOiBcIjIuNy4yXCJcbiAgICB9KTtcblxuICAgIHN0cmlwZS5yZWdpc3RlckFwcEluZm8oe1xuICAgICAgbmFtZTogJ3JlYWN0LXN0cmlwZS1qcycsXG4gICAgICB2ZXJzaW9uOiBcIjIuNy4yXCIsXG4gICAgICB1cmw6ICdodHRwczovL3N0cmlwZS5jb20vZG9jcy9zdHJpcGUtanMvcmVhY3QnXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIEVsZW1lbnRzQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuICBFbGVtZW50c0NvbnRleHQuZGlzcGxheU5hbWUgPSAnRWxlbWVudHNDb250ZXh0JztcbiAgdmFyIHBhcnNlRWxlbWVudHNDb250ZXh0ID0gZnVuY3Rpb24gcGFyc2VFbGVtZW50c0NvbnRleHQoY3R4LCB1c2VDYXNlKSB7XG4gICAgaWYgKCFjdHgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIEVsZW1lbnRzIGNvbnRleHQ7IFlvdSBuZWVkIHRvIHdyYXAgdGhlIHBhcnQgb2YgeW91ciBhcHAgdGhhdCBcIi5jb25jYXQodXNlQ2FzZSwgXCIgaW4gYW4gPEVsZW1lbnRzPiBwcm92aWRlci5cIikpO1xuICAgIH1cblxuICAgIHJldHVybiBjdHg7XG4gIH07XG4gIC8qKlxuICAgKiBUaGUgYEVsZW1lbnRzYCBwcm92aWRlciBhbGxvd3MgeW91IHRvIHVzZSBbRWxlbWVudCBjb21wb25lbnRzXShodHRwczovL3N0cmlwZS5jb20vZG9jcy9zdHJpcGUtanMvcmVhY3QjZWxlbWVudC1jb21wb25lbnRzKSBhbmQgYWNjZXNzIHRoZSBbU3RyaXBlIG9iamVjdF0oaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvaW5pdGlhbGl6aW5nKSBpbiBhbnkgbmVzdGVkIGNvbXBvbmVudC5cbiAgICogUmVuZGVyIGFuIGBFbGVtZW50c2AgcHJvdmlkZXIgYXQgdGhlIHJvb3Qgb2YgeW91ciBSZWFjdCBhcHAgc28gdGhhdCBpdCBpcyBhdmFpbGFibGUgZXZlcnl3aGVyZSB5b3UgbmVlZCBpdC5cbiAgICpcbiAgICogVG8gdXNlIHRoZSBgRWxlbWVudHNgIHByb3ZpZGVyLCBjYWxsIGBsb2FkU3RyaXBlYCBmcm9tIGBAc3RyaXBlL3N0cmlwZS1qc2Agd2l0aCB5b3VyIHB1Ymxpc2hhYmxlIGtleS5cbiAgICogVGhlIGBsb2FkU3RyaXBlYCBmdW5jdGlvbiB3aWxsIGFzeW5jaHJvbm91c2x5IGxvYWQgdGhlIFN0cmlwZS5qcyBzY3JpcHQgYW5kIGluaXRpYWxpemUgYSBgU3RyaXBlYCBvYmplY3QuXG4gICAqIFBhc3MgdGhlIHJldHVybmVkIGBQcm9taXNlYCB0byBgRWxlbWVudHNgLlxuICAgKlxuICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9zdHJpcGUtanMvcmVhY3QjZWxlbWVudHMtcHJvdmlkZXJcbiAgICovXG5cbiAgdmFyIEVsZW1lbnRzID0gZnVuY3Rpb24gRWxlbWVudHMoX3JlZikge1xuICAgIHZhciByYXdTdHJpcGVQcm9wID0gX3JlZi5zdHJpcGUsXG4gICAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnMsXG4gICAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgICB2YXIgcGFyc2VkID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcGFyc2VTdHJpcGVQcm9wKHJhd1N0cmlwZVByb3ApO1xuICAgIH0sIFtyYXdTdHJpcGVQcm9wXSk7IC8vIEZvciBhIHN5bmMgc3RyaXBlIGluc3RhbmNlLCBpbml0aWFsaXplIGludG8gY29udGV4dFxuXG4gICAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0cmlwZTogcGFyc2VkLnRhZyA9PT0gJ3N5bmMnID8gcGFyc2VkLnN0cmlwZSA6IG51bGwsXG4gICAgICAgIGVsZW1lbnRzOiBwYXJzZWQudGFnID09PSAnc3luYycgPyBwYXJzZWQuc3RyaXBlLmVsZW1lbnRzKG9wdGlvbnMpIDogbnVsbFxuICAgICAgfTtcbiAgICB9KSxcbiAgICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICAgIGN0eCA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICAgIHNldENvbnRleHQgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpc01vdW50ZWQgPSB0cnVlO1xuXG4gICAgICB2YXIgc2FmZVNldENvbnRleHQgPSBmdW5jdGlvbiBzYWZlU2V0Q29udGV4dChzdHJpcGUpIHtcbiAgICAgICAgc2V0Q29udGV4dChmdW5jdGlvbiAoY3R4KSB7XG4gICAgICAgICAgLy8gbm8tb3AgaWYgd2UgYWxyZWFkeSBoYXZlIGEgc3RyaXBlIGluc3RhbmNlIChodHRwczovL2dpdGh1Yi5jb20vc3RyaXBlL3JlYWN0LXN0cmlwZS1qcy9pc3N1ZXMvMjk2KVxuICAgICAgICAgIGlmIChjdHguc3RyaXBlKSByZXR1cm4gY3R4O1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdHJpcGU6IHN0cmlwZSxcbiAgICAgICAgICAgIGVsZW1lbnRzOiBzdHJpcGUuZWxlbWVudHMob3B0aW9ucylcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH07IC8vIEZvciBhbiBhc3luYyBzdHJpcGVQcm9taXNlLCBzdG9yZSBpdCBpbiBjb250ZXh0IG9uY2UgcmVzb2x2ZWRcblxuXG4gICAgICBpZiAocGFyc2VkLnRhZyA9PT0gJ2FzeW5jJyAmJiAhY3R4LnN0cmlwZSkge1xuICAgICAgICBwYXJzZWQuc3RyaXBlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdHJpcGUpIHtcbiAgICAgICAgICBpZiAoc3RyaXBlICYmIGlzTW91bnRlZCkge1xuICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgRWxlbWVudHMgY29udGV4dCBpZiB0aGUgY29tcG9uZW50IGlzIHN0aWxsIG1vdW50ZWRcbiAgICAgICAgICAgIC8vIGFuZCBzdHJpcGUgaXMgbm90IG51bGwuIFdlIGFsbG93IHN0cmlwZSB0byBiZSBudWxsIHRvIG1ha2VcbiAgICAgICAgICAgIC8vIGhhbmRsaW5nIFNTUiBlYXNpZXIuXG4gICAgICAgICAgICBzYWZlU2V0Q29udGV4dChzdHJpcGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlZC50YWcgPT09ICdzeW5jJyAmJiAhY3R4LnN0cmlwZSkge1xuICAgICAgICAvLyBPciwgaGFuZGxlIGEgc3luYyBzdHJpcGUgaW5zdGFuY2UgZ29pbmcgZnJvbSBudWxsIC0+IHBvcHVsYXRlZFxuICAgICAgICBzYWZlU2V0Q29udGV4dChwYXJzZWQuc3RyaXBlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgICB9O1xuICAgIH0sIFtwYXJzZWQsIGN0eCwgb3B0aW9uc10pOyAvLyBXYXJuIG9uIGNoYW5nZXMgdG8gc3RyaXBlIHByb3BcblxuICAgIHZhciBwcmV2U3RyaXBlID0gdXNlUHJldmlvdXMocmF3U3RyaXBlUHJvcCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcmV2U3RyaXBlICE9PSBudWxsICYmIHByZXZTdHJpcGUgIT09IHJhd1N0cmlwZVByb3ApIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBwcm9wIGNoYW5nZSBvbiBFbGVtZW50czogWW91IGNhbm5vdCBjaGFuZ2UgdGhlIGBzdHJpcGVgIHByb3AgYWZ0ZXIgc2V0dGluZyBpdC4nKTtcbiAgICAgIH1cbiAgICB9LCBbcHJldlN0cmlwZSwgcmF3U3RyaXBlUHJvcF0pOyAvLyBBcHBseSB1cGRhdGVzIHRvIGVsZW1lbnRzIHdoZW4gb3B0aW9ucyBwcm9wIGhhcyByZWxldmFudCBjaGFuZ2VzXG5cbiAgICB2YXIgcHJldk9wdGlvbnMgPSB1c2VQcmV2aW91cyhvcHRpb25zKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFjdHguZWxlbWVudHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdXBkYXRlcyA9IGV4dHJhY3RBbGxvd2VkT3B0aW9uc1VwZGF0ZXMob3B0aW9ucywgcHJldk9wdGlvbnMsIFsnY2xpZW50U2VjcmV0JywgJ2ZvbnRzJ10pO1xuXG4gICAgICBpZiAodXBkYXRlcykge1xuICAgICAgICBjdHguZWxlbWVudHMudXBkYXRlKHVwZGF0ZXMpO1xuICAgICAgfVxuICAgIH0sIFtvcHRpb25zLCBwcmV2T3B0aW9ucywgY3R4LmVsZW1lbnRzXSk7IC8vIEF0dGFjaCByZWFjdC1zdHJpcGUtanMgdmVyc2lvbiB0byBzdHJpcGUuanMgaW5zdGFuY2VcblxuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICByZWdpc3RlcldpdGhTdHJpcGVKcyhjdHguc3RyaXBlKTtcbiAgICB9LCBbY3R4LnN0cmlwZV0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFbGVtZW50c0NvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBjdHhcbiAgICB9LCBjaGlsZHJlbik7XG4gIH07XG4gIEVsZW1lbnRzLnByb3BUeXBlcyA9IHtcbiAgICBzdHJpcGU6IFByb3BUeXBlcy5hbnksXG4gICAgb3B0aW9uczogUHJvcFR5cGVzLm9iamVjdFxuICB9O1xuICB2YXIgdXNlRWxlbWVudHNDb250ZXh0V2l0aFVzZUNhc2UgPSBmdW5jdGlvbiB1c2VFbGVtZW50c0NvbnRleHRXaXRoVXNlQ2FzZSh1c2VDYXNlTWVzc2FnZSkge1xuICAgIHZhciBjdHggPSBSZWFjdC51c2VDb250ZXh0KEVsZW1lbnRzQ29udGV4dCk7XG4gICAgcmV0dXJuIHBhcnNlRWxlbWVudHNDb250ZXh0KGN0eCwgdXNlQ2FzZU1lc3NhZ2UpO1xuICB9O1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I3VzZWVsZW1lbnRzLWhvb2tcbiAgICovXG5cbiAgdmFyIHVzZUVsZW1lbnRzID0gZnVuY3Rpb24gdXNlRWxlbWVudHMoKSB7XG4gICAgdmFyIF91c2VFbGVtZW50c0NvbnRleHRXaSA9IHVzZUVsZW1lbnRzQ29udGV4dFdpdGhVc2VDYXNlKCdjYWxscyB1c2VFbGVtZW50cygpJyksXG4gICAgICAgIGVsZW1lbnRzID0gX3VzZUVsZW1lbnRzQ29udGV4dFdpLmVsZW1lbnRzO1xuXG4gICAgcmV0dXJuIGVsZW1lbnRzO1xuICB9O1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnRzLWNvbnN1bWVyXG4gICAqL1xuXG4gIHZhciBFbGVtZW50c0NvbnN1bWVyID0gZnVuY3Rpb24gRWxlbWVudHNDb25zdW1lcihfcmVmMikge1xuICAgIHZhciBjaGlsZHJlbiA9IF9yZWYyLmNoaWxkcmVuO1xuICAgIHZhciBjdHggPSB1c2VFbGVtZW50c0NvbnRleHRXaXRoVXNlQ2FzZSgnbW91bnRzIDxFbGVtZW50c0NvbnN1bWVyPicpOyAvLyBBc3NlcnQgdG8gc2F0aXNmeSB0aGUgYnVzdGVkIFJlYWN0LkZDIHJldHVybiB0eXBlIChpdCBzaG91bGQgYmUgUmVhY3ROb2RlKVxuXG4gICAgcmV0dXJuIGNoaWxkcmVuKGN0eCk7XG4gIH07XG4gIEVsZW1lbnRzQ29uc3VtZXIucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gIH07XG5cbiAgdmFyIF9leGNsdWRlZCA9IFtcIm9uXCIsIFwic2Vzc2lvblwiXTtcbiAgdmFyIEN1c3RvbUNoZWNrb3V0U2RrQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuICBDdXN0b21DaGVja291dFNka0NvbnRleHQuZGlzcGxheU5hbWUgPSAnQ3VzdG9tQ2hlY2tvdXRTZGtDb250ZXh0JztcbiAgdmFyIHBhcnNlQ3VzdG9tQ2hlY2tvdXRTZGtDb250ZXh0ID0gZnVuY3Rpb24gcGFyc2VDdXN0b21DaGVja291dFNka0NvbnRleHQoY3R4LCB1c2VDYXNlKSB7XG4gICAgaWYgKCFjdHgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIEN1c3RvbUNoZWNrb3V0UHJvdmlkZXIgY29udGV4dDsgWW91IG5lZWQgdG8gd3JhcCB0aGUgcGFydCBvZiB5b3VyIGFwcCB0aGF0IFwiLmNvbmNhdCh1c2VDYXNlLCBcIiBpbiBhbiA8Q3VzdG9tQ2hlY2tvdXRQcm92aWRlcj4gcHJvdmlkZXIuXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3R4O1xuICB9O1xuICB2YXIgQ3VzdG9tQ2hlY2tvdXRDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG4gIEN1c3RvbUNoZWNrb3V0Q29udGV4dC5kaXNwbGF5TmFtZSA9ICdDdXN0b21DaGVja291dENvbnRleHQnO1xuICB2YXIgZXh0cmFjdEN1c3RvbUNoZWNrb3V0Q29udGV4dFZhbHVlID0gZnVuY3Rpb24gZXh0cmFjdEN1c3RvbUNoZWNrb3V0Q29udGV4dFZhbHVlKGN1c3RvbUNoZWNrb3V0U2RrLCBzZXNzaW9uU3RhdGUpIHtcbiAgICBpZiAoIWN1c3RvbUNoZWNrb3V0U2RrKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjdXN0b21DaGVja291dFNkay5vbjtcbiAgICAgICAgY3VzdG9tQ2hlY2tvdXRTZGsuc2Vzc2lvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoY3VzdG9tQ2hlY2tvdXRTZGssIF9leGNsdWRlZCk7XG5cbiAgICBpZiAoIXNlc3Npb25TdGF0ZSkge1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBhY3Rpb25zKSwgY3VzdG9tQ2hlY2tvdXRTZGsuc2Vzc2lvbigpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIGFjdGlvbnMpLCBzZXNzaW9uU3RhdGUpO1xuICB9O1xuICB2YXIgSU5WQUxJRF9TVFJJUEVfRVJST1IkMSA9ICdJbnZhbGlkIHByb3AgYHN0cmlwZWAgc3VwcGxpZWQgdG8gYEN1c3RvbUNoZWNrb3V0UHJvdmlkZXJgLiBXZSByZWNvbW1lbmQgdXNpbmcgdGhlIGBsb2FkU3RyaXBlYCB1dGlsaXR5IGZyb20gYEBzdHJpcGUvc3RyaXBlLWpzYC4gU2VlIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3N0cmlwZS1qcy9yZWFjdCNlbGVtZW50cy1wcm9wcy1zdHJpcGUgZm9yIGRldGFpbHMuJztcbiAgdmFyIEN1c3RvbUNoZWNrb3V0UHJvdmlkZXIgPSBmdW5jdGlvbiBDdXN0b21DaGVja291dFByb3ZpZGVyKF9yZWYpIHtcbiAgICB2YXIgcmF3U3RyaXBlUHJvcCA9IF9yZWYuc3RyaXBlLFxuICAgICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gICAgdmFyIHBhcnNlZCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHBhcnNlU3RyaXBlUHJvcChyYXdTdHJpcGVQcm9wLCBJTlZBTElEX1NUUklQRV9FUlJPUiQxKTtcbiAgICB9LCBbcmF3U3RyaXBlUHJvcF0pOyAvLyBTdGF0ZSB1c2VkIHRvIHRyaWdnZXIgYSByZS1yZW5kZXIgd2hlbiBzZGsuc2Vzc2lvbiBpcyB1cGRhdGVkXG5cbiAgICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUobnVsbCksXG4gICAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgICBzZXNzaW9uID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICAgICAgc2V0U2Vzc2lvbiA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IFJlYWN0LnVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0cmlwZTogcGFyc2VkLnRhZyA9PT0gJ3N5bmMnID8gcGFyc2VkLnN0cmlwZSA6IG51bGwsXG4gICAgICAgIGN1c3RvbUNoZWNrb3V0U2RrOiBudWxsXG4gICAgICB9O1xuICAgIH0pLFxuICAgICAgICBfUmVhY3QkdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlMywgMiksXG4gICAgICAgIGN0eCA9IF9SZWFjdCR1c2VTdGF0ZTRbMF0sXG4gICAgICAgIHNldENvbnRleHQgPSBfUmVhY3QkdXNlU3RhdGU0WzFdO1xuXG4gICAgdmFyIHNhZmVTZXRDb250ZXh0ID0gZnVuY3Rpb24gc2FmZVNldENvbnRleHQoc3RyaXBlLCBjdXN0b21DaGVja291dFNkaykge1xuICAgICAgc2V0Q29udGV4dChmdW5jdGlvbiAoY3R4KSB7XG4gICAgICAgIGlmIChjdHguc3RyaXBlICYmIGN0eC5jdXN0b21DaGVja291dFNkaykge1xuICAgICAgICAgIHJldHVybiBjdHg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0cmlwZTogc3RyaXBlLFxuICAgICAgICAgIGN1c3RvbUNoZWNrb3V0U2RrOiBjdXN0b21DaGVja291dFNka1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfTsgLy8gUmVmIHVzZWQgdG8gYXZvaWQgY2FsbGluZyBpbml0Q3VzdG9tQ2hlY2tvdXQgbXVsdGlwbGUgdGltZXMgd2hlbiBvcHRpb25zIGNoYW5nZXNcblxuXG4gICAgdmFyIGluaXRDdXN0b21DaGVja291dENhbGxlZFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpc01vdW50ZWQgPSB0cnVlO1xuXG4gICAgICBpZiAocGFyc2VkLnRhZyA9PT0gJ2FzeW5jJyAmJiAhY3R4LnN0cmlwZSkge1xuICAgICAgICBwYXJzZWQuc3RyaXBlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdHJpcGUpIHtcbiAgICAgICAgICBpZiAoc3RyaXBlICYmIGlzTW91bnRlZCAmJiAhaW5pdEN1c3RvbUNoZWNrb3V0Q2FsbGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIGNvbnRleHQgaWYgdGhlIGNvbXBvbmVudCBpcyBzdGlsbCBtb3VudGVkXG4gICAgICAgICAgICAvLyBhbmQgc3RyaXBlIGlzIG5vdCBudWxsLiBXZSBhbGxvdyBzdHJpcGUgdG8gYmUgbnVsbCB0byBtYWtlXG4gICAgICAgICAgICAvLyBoYW5kbGluZyBTU1IgZWFzaWVyLlxuICAgICAgICAgICAgaW5pdEN1c3RvbUNoZWNrb3V0Q2FsbGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgc3RyaXBlLmluaXRDdXN0b21DaGVja291dChvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChjdXN0b21DaGVja291dFNkaykge1xuICAgICAgICAgICAgICBpZiAoY3VzdG9tQ2hlY2tvdXRTZGspIHtcbiAgICAgICAgICAgICAgICBzYWZlU2V0Q29udGV4dChzdHJpcGUsIGN1c3RvbUNoZWNrb3V0U2RrKTtcbiAgICAgICAgICAgICAgICBjdXN0b21DaGVja291dFNkay5vbignY2hhbmdlJywgc2V0U2Vzc2lvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlZC50YWcgPT09ICdzeW5jJyAmJiBwYXJzZWQuc3RyaXBlICYmICFpbml0Q3VzdG9tQ2hlY2tvdXRDYWxsZWRSZWYuY3VycmVudCkge1xuICAgICAgICBpbml0Q3VzdG9tQ2hlY2tvdXRDYWxsZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIHBhcnNlZC5zdHJpcGUuaW5pdEN1c3RvbUNoZWNrb3V0KG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGN1c3RvbUNoZWNrb3V0U2RrKSB7XG4gICAgICAgICAgaWYgKGN1c3RvbUNoZWNrb3V0U2RrKSB7XG4gICAgICAgICAgICBzYWZlU2V0Q29udGV4dChwYXJzZWQuc3RyaXBlLCBjdXN0b21DaGVja291dFNkayk7XG4gICAgICAgICAgICBjdXN0b21DaGVja291dFNkay5vbignY2hhbmdlJywgc2V0U2Vzc2lvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgICB9O1xuICAgIH0sIFtwYXJzZWQsIGN0eCwgb3B0aW9ucywgc2V0U2Vzc2lvbl0pOyAvLyBXYXJuIG9uIGNoYW5nZXMgdG8gc3RyaXBlIHByb3BcblxuICAgIHZhciBwcmV2U3RyaXBlID0gdXNlUHJldmlvdXMocmF3U3RyaXBlUHJvcCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcmV2U3RyaXBlICE9PSBudWxsICYmIHByZXZTdHJpcGUgIT09IHJhd1N0cmlwZVByb3ApIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBwcm9wIGNoYW5nZSBvbiBDdXN0b21DaGVja291dFByb3ZpZGVyOiBZb3UgY2Fubm90IGNoYW5nZSB0aGUgYHN0cmlwZWAgcHJvcCBhZnRlciBzZXR0aW5nIGl0LicpO1xuICAgICAgfVxuICAgIH0sIFtwcmV2U3RyaXBlLCByYXdTdHJpcGVQcm9wXSk7IC8vIEFwcGx5IHVwZGF0ZXMgdG8gZWxlbWVudHMgd2hlbiBvcHRpb25zIHByb3AgaGFzIHJlbGV2YW50IGNoYW5nZXNcblxuICAgIHZhciBwcmV2T3B0aW9ucyA9IHVzZVByZXZpb3VzKG9wdGlvbnMpO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3ByZXZPcHRpb25zJGVsZW1lbnRzLCBfb3B0aW9ucyRlbGVtZW50c09wdGk7XG5cbiAgICAgIGlmICghY3R4LmN1c3RvbUNoZWNrb3V0U2RrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuY2xpZW50U2VjcmV0ICYmICFpc1Vua25vd25PYmplY3QocHJldk9wdGlvbnMpICYmICFpc0VxdWFsKG9wdGlvbnMuY2xpZW50U2VjcmV0LCBwcmV2T3B0aW9ucy5jbGllbnRTZWNyZXQpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgcHJvcCBjaGFuZ2U6IG9wdGlvbnMuY2xpZW50X3NlY3JldCBpcyBub3QgYSBtdXRhYmxlIHByb3BlcnR5LicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJldmlvdXNBcHBlYXJhbmNlID0gcHJldk9wdGlvbnMgPT09IG51bGwgfHwgcHJldk9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcHJldk9wdGlvbnMkZWxlbWVudHMgPSBwcmV2T3B0aW9ucy5lbGVtZW50c09wdGlvbnMpID09PSBudWxsIHx8IF9wcmV2T3B0aW9ucyRlbGVtZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ByZXZPcHRpb25zJGVsZW1lbnRzLmFwcGVhcmFuY2U7XG4gICAgICB2YXIgY3VycmVudEFwcGVhcmFuY2UgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfb3B0aW9ucyRlbGVtZW50c09wdGkgPSBvcHRpb25zLmVsZW1lbnRzT3B0aW9ucykgPT09IG51bGwgfHwgX29wdGlvbnMkZWxlbWVudHNPcHRpID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9ucyRlbGVtZW50c09wdGkuYXBwZWFyYW5jZTtcblxuICAgICAgaWYgKGN1cnJlbnRBcHBlYXJhbmNlICYmICFpc0VxdWFsKGN1cnJlbnRBcHBlYXJhbmNlLCBwcmV2aW91c0FwcGVhcmFuY2UpKSB7XG4gICAgICAgIGN0eC5jdXN0b21DaGVja291dFNkay5jaGFuZ2VBcHBlYXJhbmNlKGN1cnJlbnRBcHBlYXJhbmNlKTtcbiAgICAgIH1cbiAgICB9LCBbb3B0aW9ucywgcHJldk9wdGlvbnMsIGN0eC5jdXN0b21DaGVja291dFNka10pOyAvLyBBdHRhY2ggcmVhY3Qtc3RyaXBlLWpzIHZlcnNpb24gdG8gc3RyaXBlLmpzIGluc3RhbmNlXG5cbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgcmVnaXN0ZXJXaXRoU3RyaXBlSnMoY3R4LnN0cmlwZSk7XG4gICAgfSwgW2N0eC5zdHJpcGVdKTtcbiAgICB2YXIgY3VzdG9tQ2hlY2tvdXRDb250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBleHRyYWN0Q3VzdG9tQ2hlY2tvdXRDb250ZXh0VmFsdWUoY3R4LmN1c3RvbUNoZWNrb3V0U2RrLCBzZXNzaW9uKTtcbiAgICB9LCBbY3R4LmN1c3RvbUNoZWNrb3V0U2RrLCBzZXNzaW9uXSk7XG5cbiAgICBpZiAoIWN0eC5jdXN0b21DaGVja291dFNkaykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbUNoZWNrb3V0U2RrQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IGN0eFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbUNoZWNrb3V0Q29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IGN1c3RvbUNoZWNrb3V0Q29udGV4dFZhbHVlXG4gICAgfSwgY2hpbGRyZW4pKTtcbiAgfTtcbiAgQ3VzdG9tQ2hlY2tvdXRQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gICAgc3RyaXBlOiBQcm9wVHlwZXMuYW55LFxuICAgIG9wdGlvbnM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjbGllbnRTZWNyZXQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIGVsZW1lbnRzT3B0aW9uczogUHJvcFR5cGVzLm9iamVjdFxuICAgIH0pLmlzUmVxdWlyZWRcbiAgfTtcbiAgdmFyIHVzZUN1c3RvbUNoZWNrb3V0U2RrQ29udGV4dFdpdGhVc2VDYXNlID0gZnVuY3Rpb24gdXNlQ3VzdG9tQ2hlY2tvdXRTZGtDb250ZXh0V2l0aFVzZUNhc2UodXNlQ2FzZVN0cmluZykge1xuICAgIHZhciBjdHggPSBSZWFjdC51c2VDb250ZXh0KEN1c3RvbUNoZWNrb3V0U2RrQ29udGV4dCk7XG4gICAgcmV0dXJuIHBhcnNlQ3VzdG9tQ2hlY2tvdXRTZGtDb250ZXh0KGN0eCwgdXNlQ2FzZVN0cmluZyk7XG4gIH07XG4gIHZhciB1c2VFbGVtZW50c09yQ3VzdG9tQ2hlY2tvdXRTZGtDb250ZXh0V2l0aFVzZUNhc2UgPSBmdW5jdGlvbiB1c2VFbGVtZW50c09yQ3VzdG9tQ2hlY2tvdXRTZGtDb250ZXh0V2l0aFVzZUNhc2UodXNlQ2FzZVN0cmluZykge1xuICAgIHZhciBjdXN0b21DaGVja291dFNka0NvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KEN1c3RvbUNoZWNrb3V0U2RrQ29udGV4dCk7XG4gICAgdmFyIGVsZW1lbnRzQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRWxlbWVudHNDb250ZXh0KTtcblxuICAgIGlmIChjdXN0b21DaGVja291dFNka0NvbnRleHQgJiYgZWxlbWVudHNDb250ZXh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgY2Fubm90IHdyYXAgdGhlIHBhcnQgb2YgeW91ciBhcHAgdGhhdCBcIi5jb25jYXQodXNlQ2FzZVN0cmluZywgXCIgaW4gYm90aCA8Q3VzdG9tQ2hlY2tvdXRQcm92aWRlcj4gYW5kIDxFbGVtZW50cz4gcHJvdmlkZXJzLlwiKSk7XG4gICAgfVxuXG4gICAgaWYgKGN1c3RvbUNoZWNrb3V0U2RrQ29udGV4dCkge1xuICAgICAgcmV0dXJuIHBhcnNlQ3VzdG9tQ2hlY2tvdXRTZGtDb250ZXh0KGN1c3RvbUNoZWNrb3V0U2RrQ29udGV4dCwgdXNlQ2FzZVN0cmluZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlRWxlbWVudHNDb250ZXh0KGVsZW1lbnRzQ29udGV4dCwgdXNlQ2FzZVN0cmluZyk7XG4gIH07XG4gIHZhciB1c2VDdXN0b21DaGVja291dCA9IGZ1bmN0aW9uIHVzZUN1c3RvbUNoZWNrb3V0KCkge1xuICAgIC8vIGVuc3VyZSBpdCdzIGluIEN1c3RvbUNoZWNrb3V0UHJvdmlkZXJcbiAgICB1c2VDdXN0b21DaGVja291dFNka0NvbnRleHRXaXRoVXNlQ2FzZSgnY2FsbHMgdXNlQ3VzdG9tQ2hlY2tvdXQoKScpO1xuICAgIHZhciBjdHggPSBSZWFjdC51c2VDb250ZXh0KEN1c3RvbUNoZWNrb3V0Q29udGV4dCk7XG5cbiAgICBpZiAoIWN0eCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCBDdXN0b21DaGVja291dCBDb250ZXh0OyBZb3UgbmVlZCB0byB3cmFwIHRoZSBwYXJ0IG9mIHlvdXIgYXBwIHRoYXQgY2FsbHMgdXNlQ3VzdG9tQ2hlY2tvdXQoKSBpbiBhbiA8Q3VzdG9tQ2hlY2tvdXRQcm92aWRlcj4gcHJvdmlkZXIuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN0eDtcbiAgfTtcblxuICB2YXIgY2FwaXRhbGl6ZWQgPSBmdW5jdGlvbiBjYXBpdGFsaXplZChzdHIpIHtcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVFbGVtZW50Q29tcG9uZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudENvbXBvbmVudCh0eXBlLCBpc1NlcnZlcikge1xuICAgIHZhciBkaXNwbGF5TmFtZSA9IFwiXCIuY29uY2F0KGNhcGl0YWxpemVkKHR5cGUpLCBcIkVsZW1lbnRcIik7XG5cbiAgICB2YXIgQ2xpZW50RWxlbWVudCA9IGZ1bmN0aW9uIENsaWVudEVsZW1lbnQoX3JlZikge1xuICAgICAgdmFyIGlkID0gX3JlZi5pZCxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgICAgICBfcmVmJG9wdGlvbnMgPSBfcmVmLm9wdGlvbnMsXG4gICAgICAgICAgb3B0aW9ucyA9IF9yZWYkb3B0aW9ucyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJG9wdGlvbnMsXG4gICAgICAgICAgb25CbHVyID0gX3JlZi5vbkJsdXIsXG4gICAgICAgICAgb25Gb2N1cyA9IF9yZWYub25Gb2N1cyxcbiAgICAgICAgICBvblJlYWR5ID0gX3JlZi5vblJlYWR5LFxuICAgICAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgICAgICBvbkVzY2FwZSA9IF9yZWYub25Fc2NhcGUsXG4gICAgICAgICAgb25DbGljayA9IF9yZWYub25DbGljayxcbiAgICAgICAgICBvbkxvYWRFcnJvciA9IF9yZWYub25Mb2FkRXJyb3IsXG4gICAgICAgICAgb25Mb2FkZXJTdGFydCA9IF9yZWYub25Mb2FkZXJTdGFydCxcbiAgICAgICAgICBvbk5ldHdvcmtzQ2hhbmdlID0gX3JlZi5vbk5ldHdvcmtzQ2hhbmdlLFxuICAgICAgICAgIG9uQ29uZmlybSA9IF9yZWYub25Db25maXJtLFxuICAgICAgICAgIG9uQ2FuY2VsID0gX3JlZi5vbkNhbmNlbCxcbiAgICAgICAgICBvblNoaXBwaW5nQWRkcmVzc0NoYW5nZSA9IF9yZWYub25TaGlwcGluZ0FkZHJlc3NDaGFuZ2UsXG4gICAgICAgICAgb25TaGlwcGluZ1JhdGVDaGFuZ2UgPSBfcmVmLm9uU2hpcHBpbmdSYXRlQ2hhbmdlO1xuICAgICAgdmFyIGN0eCA9IHVzZUVsZW1lbnRzT3JDdXN0b21DaGVja291dFNka0NvbnRleHRXaXRoVXNlQ2FzZShcIm1vdW50cyA8XCIuY29uY2F0KGRpc3BsYXlOYW1lLCBcIj5cIikpO1xuICAgICAgdmFyIGVsZW1lbnRzID0gJ2VsZW1lbnRzJyBpbiBjdHggPyBjdHguZWxlbWVudHMgOiBudWxsO1xuICAgICAgdmFyIGN1c3RvbUNoZWNrb3V0U2RrID0gJ2N1c3RvbUNoZWNrb3V0U2RrJyBpbiBjdHggPyBjdHguY3VzdG9tQ2hlY2tvdXRTZGsgOiBudWxsO1xuXG4gICAgICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUobnVsbCksXG4gICAgICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICAgICAgZWxlbWVudCA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICAgICAgc2V0RWxlbWVudCA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgICAgIHZhciBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgICAgdmFyIGRvbU5vZGUgPSBSZWFjdC51c2VSZWYobnVsbCk7IC8vIEZvciBldmVyeSBldmVudCB3aGVyZSB0aGUgbWVyY2hhbnQgcHJvdmlkZXMgYSBjYWxsYmFjaywgY2FsbCBlbGVtZW50Lm9uXG4gICAgICAvLyB3aXRoIHRoYXQgY2FsbGJhY2suIElmIHRoZSBtZXJjaGFudCBldmVyIGNoYW5nZXMgdGhlIGNhbGxiYWNrLCByZW1vdmVzXG4gICAgICAvLyB0aGUgb2xkIGNhbGxiYWNrIHdpdGggZWxlbWVudC5vZmYgYW5kIHRoZW4gY2FsbCBlbGVtZW50Lm9uIHdpdGggdGhlIG5ldyBvbmUuXG5cbiAgICAgIHVzZUF0dGFjaEV2ZW50KGVsZW1lbnQsICdibHVyJywgb25CbHVyKTtcbiAgICAgIHVzZUF0dGFjaEV2ZW50KGVsZW1lbnQsICdmb2N1cycsIG9uRm9jdXMpO1xuICAgICAgdXNlQXR0YWNoRXZlbnQoZWxlbWVudCwgJ2VzY2FwZScsIG9uRXNjYXBlKTtcbiAgICAgIHVzZUF0dGFjaEV2ZW50KGVsZW1lbnQsICdjbGljaycsIG9uQ2xpY2spO1xuICAgICAgdXNlQXR0YWNoRXZlbnQoZWxlbWVudCwgJ2xvYWRlcnJvcicsIG9uTG9hZEVycm9yKTtcbiAgICAgIHVzZUF0dGFjaEV2ZW50KGVsZW1lbnQsICdsb2FkZXJzdGFydCcsIG9uTG9hZGVyU3RhcnQpO1xuICAgICAgdXNlQXR0YWNoRXZlbnQoZWxlbWVudCwgJ25ldHdvcmtzY2hhbmdlJywgb25OZXR3b3Jrc0NoYW5nZSk7XG4gICAgICB1c2VBdHRhY2hFdmVudChlbGVtZW50LCAnY29uZmlybScsIG9uQ29uZmlybSk7XG4gICAgICB1c2VBdHRhY2hFdmVudChlbGVtZW50LCAnY2FuY2VsJywgb25DYW5jZWwpO1xuICAgICAgdXNlQXR0YWNoRXZlbnQoZWxlbWVudCwgJ3NoaXBwaW5nYWRkcmVzc2NoYW5nZScsIG9uU2hpcHBpbmdBZGRyZXNzQ2hhbmdlKTtcbiAgICAgIHVzZUF0dGFjaEV2ZW50KGVsZW1lbnQsICdzaGlwcGluZ3JhdGVjaGFuZ2UnLCBvblNoaXBwaW5nUmF0ZUNoYW5nZSk7XG4gICAgICB1c2VBdHRhY2hFdmVudChlbGVtZW50LCAnY2hhbmdlJywgb25DaGFuZ2UpO1xuICAgICAgdmFyIHJlYWR5Q2FsbGJhY2s7XG5cbiAgICAgIGlmIChvblJlYWR5KSB7XG4gICAgICAgIGlmICh0eXBlID09PSAnZXhwcmVzc0NoZWNrb3V0Jykge1xuICAgICAgICAgIC8vIFBhc3NlcyB0aHJvdWdoIHRoZSBldmVudCwgd2hpY2ggaW5jbHVkZXMgdmlzaWJsZSBQTSB0eXBlc1xuICAgICAgICAgIHJlYWR5Q2FsbGJhY2sgPSBvblJlYWR5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZvciBvdGhlciBFbGVtZW50cywgcGFzcyB0aHJvdWdoIHRoZSBFbGVtZW50IGl0c2VsZi5cbiAgICAgICAgICByZWFkeUNhbGxiYWNrID0gZnVuY3Rpb24gcmVhZHlDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIG9uUmVhZHkoZWxlbWVudCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB1c2VBdHRhY2hFdmVudChlbGVtZW50LCAncmVhZHknLCByZWFkeUNhbGxiYWNrKTtcbiAgICAgIFJlYWN0LnVzZUxheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChlbGVtZW50UmVmLmN1cnJlbnQgPT09IG51bGwgJiYgZG9tTm9kZS5jdXJyZW50ICE9PSBudWxsICYmIChlbGVtZW50cyB8fCBjdXN0b21DaGVja291dFNkaykpIHtcbiAgICAgICAgICB2YXIgbmV3RWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoY3VzdG9tQ2hlY2tvdXRTZGspIHtcbiAgICAgICAgICAgIG5ld0VsZW1lbnQgPSBjdXN0b21DaGVja291dFNkay5jcmVhdGVFbGVtZW50KHR5cGUsIG9wdGlvbnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIG5ld0VsZW1lbnQgPSBlbGVtZW50cy5jcmVhdGUodHlwZSwgb3B0aW9ucyk7XG4gICAgICAgICAgfSAvLyBTdG9yZSBlbGVtZW50IGluIGEgcmVmIHRvIGVuc3VyZSBpdCdzIF9pbW1lZGlhdGVseV8gYXZhaWxhYmxlIGluIGNsZWFudXAgaG9va3MgaW4gU3RyaWN0TW9kZVxuXG5cbiAgICAgICAgICBlbGVtZW50UmVmLmN1cnJlbnQgPSBuZXdFbGVtZW50OyAvLyBTdG9yZSBlbGVtZW50IGluIHN0YXRlIHRvIGZhY2lsaXRhdGUgZXZlbnQgbGlzdGVuZXIgYXR0YWNobWVudFxuXG4gICAgICAgICAgc2V0RWxlbWVudChuZXdFbGVtZW50KTtcblxuICAgICAgICAgIGlmIChuZXdFbGVtZW50KSB7XG4gICAgICAgICAgICBuZXdFbGVtZW50Lm1vdW50KGRvbU5vZGUuY3VycmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBbZWxlbWVudHMsIGN1c3RvbUNoZWNrb3V0U2RrLCBvcHRpb25zXSk7XG4gICAgICB2YXIgcHJldk9wdGlvbnMgPSB1c2VQcmV2aW91cyhvcHRpb25zKTtcbiAgICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghZWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVwZGF0ZXMgPSBleHRyYWN0QWxsb3dlZE9wdGlvbnNVcGRhdGVzKG9wdGlvbnMsIHByZXZPcHRpb25zLCBbJ3BheW1lbnRSZXF1ZXN0J10pO1xuXG4gICAgICAgIGlmICh1cGRhdGVzKSB7XG4gICAgICAgICAgZWxlbWVudFJlZi5jdXJyZW50LnVwZGF0ZSh1cGRhdGVzKTtcbiAgICAgICAgfVxuICAgICAgfSwgW29wdGlvbnMsIHByZXZPcHRpb25zXSk7XG4gICAgICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChlbGVtZW50UmVmLmN1cnJlbnQgJiYgdHlwZW9mIGVsZW1lbnRSZWYuY3VycmVudC5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBlbGVtZW50UmVmLmN1cnJlbnQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICBlbGVtZW50UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsvLyBEbyBub3RoaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSwgW10pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgcmVmOiBkb21Ob2RlXG4gICAgICB9KTtcbiAgICB9OyAvLyBPbmx5IHJlbmRlciB0aGUgRWxlbWVudCB3cmFwcGVyIGluIGEgc2VydmVyIGVudmlyb25tZW50LlxuXG5cbiAgICB2YXIgU2VydmVyRWxlbWVudCA9IGZ1bmN0aW9uIFNlcnZlckVsZW1lbnQocHJvcHMpIHtcbiAgICAgIHVzZUVsZW1lbnRzT3JDdXN0b21DaGVja291dFNka0NvbnRleHRXaXRoVXNlQ2FzZShcIm1vdW50cyA8XCIuY29uY2F0KGRpc3BsYXlOYW1lLCBcIj5cIikpO1xuICAgICAgdmFyIGlkID0gcHJvcHMuaWQsXG4gICAgICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBFbGVtZW50ID0gaXNTZXJ2ZXIgPyBTZXJ2ZXJFbGVtZW50IDogQ2xpZW50RWxlbWVudDtcbiAgICBFbGVtZW50LnByb3BUeXBlcyA9IHtcbiAgICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgb25SZWFkeTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBvbkVzY2FwZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIG9uTG9hZEVycm9yOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIG9uTG9hZGVyU3RhcnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgb25OZXR3b3Jrc0NoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBvbkNvbmZpcm06IFByb3BUeXBlcy5mdW5jLFxuICAgICAgb25DYW5jZWw6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgb25TaGlwcGluZ0FkZHJlc3NDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgb25TaGlwcGluZ1JhdGVDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgb3B0aW9uczogUHJvcFR5cGVzLm9iamVjdFxuICAgIH07XG4gICAgRWxlbWVudC5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgIEVsZW1lbnQuX19lbGVtZW50VHlwZSA9IHR5cGU7XG4gICAgcmV0dXJuIEVsZW1lbnQ7XG4gIH07XG5cbiAgdmFyIGlzU2VydmVyID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7XG5cbiAgdmFyIEVtYmVkZGVkQ2hlY2tvdXRDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG4gIEVtYmVkZGVkQ2hlY2tvdXRDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0VtYmVkZGVkQ2hlY2tvdXRQcm92aWRlckNvbnRleHQnO1xuICB2YXIgdXNlRW1iZWRkZWRDaGVja291dENvbnRleHQgPSBmdW5jdGlvbiB1c2VFbWJlZGRlZENoZWNrb3V0Q29udGV4dCgpIHtcbiAgICB2YXIgY3R4ID0gUmVhY3QudXNlQ29udGV4dChFbWJlZGRlZENoZWNrb3V0Q29udGV4dCk7XG5cbiAgICBpZiAoIWN0eCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCc8RW1iZWRkZWRDaGVja291dD4gbXVzdCBiZSB1c2VkIHdpdGhpbiA8RW1iZWRkZWRDaGVja291dFByb3ZpZGVyPicpO1xuICAgIH1cblxuICAgIHJldHVybiBjdHg7XG4gIH07XG4gIHZhciBJTlZBTElEX1NUUklQRV9FUlJPUiA9ICdJbnZhbGlkIHByb3AgYHN0cmlwZWAgc3VwcGxpZWQgdG8gYEVtYmVkZGVkQ2hlY2tvdXRQcm92aWRlcmAuIFdlIHJlY29tbWVuZCB1c2luZyB0aGUgYGxvYWRTdHJpcGVgIHV0aWxpdHkgZnJvbSBgQHN0cmlwZS9zdHJpcGUtanNgLiBTZWUgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnRzLXByb3BzLXN0cmlwZSBmb3IgZGV0YWlscy4nO1xuICB2YXIgRW1iZWRkZWRDaGVja291dFByb3ZpZGVyID0gZnVuY3Rpb24gRW1iZWRkZWRDaGVja291dFByb3ZpZGVyKF9yZWYpIHtcbiAgICB2YXIgcmF3U3RyaXBlUHJvcCA9IF9yZWYuc3RyaXBlLFxuICAgICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gICAgdmFyIHBhcnNlZCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHBhcnNlU3RyaXBlUHJvcChyYXdTdHJpcGVQcm9wLCBJTlZBTElEX1NUUklQRV9FUlJPUik7XG4gICAgfSwgW3Jhd1N0cmlwZVByb3BdKTtcbiAgICB2YXIgZW1iZWRkZWRDaGVja291dFByb21pc2UgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgdmFyIGxvYWRlZFN0cmlwZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcblxuICAgIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZSh7XG4gICAgICBlbWJlZGRlZENoZWNrb3V0OiBudWxsXG4gICAgfSksXG4gICAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgICBjdHggPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgICBzZXRDb250ZXh0ID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBEb24ndCBzdXBwb3J0IGFueSBjdHggdXBkYXRlcyBvbmNlIGVtYmVkZGVkQ2hlY2tvdXQgb3Igc3RyaXBlIGlzIHNldC5cbiAgICAgIGlmIChsb2FkZWRTdHJpcGUuY3VycmVudCB8fCBlbWJlZGRlZENoZWNrb3V0UHJvbWlzZS5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNldFN0cmlwZUFuZEluaXRFbWJlZGRlZENoZWNrb3V0ID0gZnVuY3Rpb24gc2V0U3RyaXBlQW5kSW5pdEVtYmVkZGVkQ2hlY2tvdXQoc3RyaXBlKSB7XG4gICAgICAgIGlmIChsb2FkZWRTdHJpcGUuY3VycmVudCB8fCBlbWJlZGRlZENoZWNrb3V0UHJvbWlzZS5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGxvYWRlZFN0cmlwZS5jdXJyZW50ID0gc3RyaXBlO1xuICAgICAgICBlbWJlZGRlZENoZWNrb3V0UHJvbWlzZS5jdXJyZW50ID0gbG9hZGVkU3RyaXBlLmN1cnJlbnQuaW5pdEVtYmVkZGVkQ2hlY2tvdXQob3B0aW9ucykudGhlbihmdW5jdGlvbiAoZW1iZWRkZWRDaGVja291dCkge1xuICAgICAgICAgIHNldENvbnRleHQoe1xuICAgICAgICAgICAgZW1iZWRkZWRDaGVja291dDogZW1iZWRkZWRDaGVja291dFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07IC8vIEZvciBhbiBhc3luYyBzdHJpcGVQcm9taXNlLCBzdG9yZSBpdCBvbmNlIHJlc29sdmVkXG5cblxuICAgICAgaWYgKHBhcnNlZC50YWcgPT09ICdhc3luYycgJiYgIWxvYWRlZFN0cmlwZS5jdXJyZW50ICYmIChvcHRpb25zLmNsaWVudFNlY3JldCB8fCBvcHRpb25zLmZldGNoQ2xpZW50U2VjcmV0KSkge1xuICAgICAgICBwYXJzZWQuc3RyaXBlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdHJpcGUpIHtcbiAgICAgICAgICBpZiAoc3RyaXBlKSB7XG4gICAgICAgICAgICBzZXRTdHJpcGVBbmRJbml0RW1iZWRkZWRDaGVja291dChzdHJpcGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlZC50YWcgPT09ICdzeW5jJyAmJiAhbG9hZGVkU3RyaXBlLmN1cnJlbnQgJiYgKG9wdGlvbnMuY2xpZW50U2VjcmV0IHx8IG9wdGlvbnMuZmV0Y2hDbGllbnRTZWNyZXQpKSB7XG4gICAgICAgIC8vIE9yLCBoYW5kbGUgYSBzeW5jIHN0cmlwZSBpbnN0YW5jZSBnb2luZyBmcm9tIG51bGwgLT4gcG9wdWxhdGVkXG4gICAgICAgIHNldFN0cmlwZUFuZEluaXRFbWJlZGRlZENoZWNrb3V0KHBhcnNlZC5zdHJpcGUpO1xuICAgICAgfVxuICAgIH0sIFtwYXJzZWQsIG9wdGlvbnMsIGN0eCwgbG9hZGVkU3RyaXBlXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGNsZWFudXAgb24gdW5tb3VudFxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gSWYgZW1iZWRkZWQgY2hlY2tvdXQgaXMgZnVsbHkgaW5pdGlhbGl6ZWQsIGRlc3Ryb3kgaXQuXG4gICAgICAgIGlmIChjdHguZW1iZWRkZWRDaGVja291dCkge1xuICAgICAgICAgIGVtYmVkZGVkQ2hlY2tvdXRQcm9taXNlLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIGN0eC5lbWJlZGRlZENoZWNrb3V0LmRlc3Ryb3koKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbWJlZGRlZENoZWNrb3V0UHJvbWlzZS5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gSWYgZW1iZWRkZWQgY2hlY2tvdXQgaXMgc3RpbGwgaW5pdGlhbGl6aW5nLCBkZXN0cm95IGl0IG9uY2VcbiAgICAgICAgICAvLyBpdCdzIGRvbmUuIFRoaXMgY291bGQgYmUgY2F1c2VkIGJ5IHVubW91bnRpbmcgdmVyeSBxdWlja2x5XG4gICAgICAgICAgLy8gYWZ0ZXIgbW91bnRpbmcuXG4gICAgICAgICAgZW1iZWRkZWRDaGVja291dFByb21pc2UuY3VycmVudC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVtYmVkZGVkQ2hlY2tvdXRQcm9taXNlLmN1cnJlbnQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoY3R4LmVtYmVkZGVkQ2hlY2tvdXQpIHtcbiAgICAgICAgICAgICAgY3R4LmVtYmVkZGVkQ2hlY2tvdXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sIFtjdHguZW1iZWRkZWRDaGVja291dF0pOyAvLyBBdHRhY2ggcmVhY3Qtc3RyaXBlLWpzIHZlcnNpb24gdG8gc3RyaXBlLmpzIGluc3RhbmNlXG5cbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgcmVnaXN0ZXJXaXRoU3RyaXBlSnMobG9hZGVkU3RyaXBlKTtcbiAgICB9LCBbbG9hZGVkU3RyaXBlXSk7IC8vIFdhcm4gb24gY2hhbmdlcyB0byBzdHJpcGUgcHJvcC5cbiAgICAvLyBUaGUgc3RyaXBlIHByb3AgdmFsdWUgY2FuIG9ubHkgZ28gZnJvbSBudWxsIHRvIG5vbi1udWxsIG9uY2UgYW5kXG4gICAgLy8gY2FuJ3QgYmUgY2hhbmdlZCBhZnRlciB0aGF0LlxuXG4gICAgdmFyIHByZXZTdHJpcGUgPSB1c2VQcmV2aW91cyhyYXdTdHJpcGVQcm9wKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByZXZTdHJpcGUgIT09IG51bGwgJiYgcHJldlN0cmlwZSAhPT0gcmF3U3RyaXBlUHJvcCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1Vuc3VwcG9ydGVkIHByb3AgY2hhbmdlIG9uIEVtYmVkZGVkQ2hlY2tvdXRQcm92aWRlcjogWW91IGNhbm5vdCBjaGFuZ2UgdGhlIGBzdHJpcGVgIHByb3AgYWZ0ZXIgc2V0dGluZyBpdC4nKTtcbiAgICAgIH1cbiAgICB9LCBbcHJldlN0cmlwZSwgcmF3U3RyaXBlUHJvcF0pOyAvLyBXYXJuIG9uIGNoYW5nZXMgdG8gb3B0aW9ucy5cblxuICAgIHZhciBwcmV2T3B0aW9ucyA9IHVzZVByZXZpb3VzKG9wdGlvbnMpO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocHJldk9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCBwcm9wIGNoYW5nZSBvbiBFbWJlZGRlZENoZWNrb3V0UHJvdmlkZXI6IFlvdSBjYW5ub3QgdW5zZXQgb3B0aW9ucyBhZnRlciBzZXR0aW5nIHRoZW0uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuY2xpZW50U2VjcmV0ID09PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5mZXRjaENsaWVudFNlY3JldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBwcm9wcyBwYXNzZWQgdG8gRW1iZWRkZWRDaGVja291dFByb3ZpZGVyOiBZb3UgbXVzdCBwcm92aWRlIG9uZSBvZiBlaXRoZXIgYG9wdGlvbnMuZmV0Y2hDbGllbnRTZWNyZXRgIG9yIGBvcHRpb25zLmNsaWVudFNlY3JldGAuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2T3B0aW9ucy5jbGllbnRTZWNyZXQgIT0gbnVsbCAmJiBvcHRpb25zLmNsaWVudFNlY3JldCAhPT0gcHJldk9wdGlvbnMuY2xpZW50U2VjcmV0KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgcHJvcCBjaGFuZ2Ugb24gRW1iZWRkZWRDaGVja291dFByb3ZpZGVyOiBZb3UgY2Fubm90IGNoYW5nZSB0aGUgY2xpZW50IHNlY3JldCBhZnRlciBzZXR0aW5nIGl0LiBVbm1vdW50IGFuZCBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgRW1iZWRkZWRDaGVja291dFByb3ZpZGVyIGluc3RlYWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2T3B0aW9ucy5mZXRjaENsaWVudFNlY3JldCAhPSBudWxsICYmIG9wdGlvbnMuZmV0Y2hDbGllbnRTZWNyZXQgIT09IHByZXZPcHRpb25zLmZldGNoQ2xpZW50U2VjcmV0KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgcHJvcCBjaGFuZ2Ugb24gRW1iZWRkZWRDaGVja291dFByb3ZpZGVyOiBZb3UgY2Fubm90IGNoYW5nZSBmZXRjaENsaWVudFNlY3JldCBhZnRlciBzZXR0aW5nIGl0LiBVbm1vdW50IGFuZCBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgRW1iZWRkZWRDaGVja291dFByb3ZpZGVyIGluc3RlYWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2T3B0aW9ucy5vbkNvbXBsZXRlICE9IG51bGwgJiYgb3B0aW9ucy5vbkNvbXBsZXRlICE9PSBwcmV2T3B0aW9ucy5vbkNvbXBsZXRlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQgcHJvcCBjaGFuZ2Ugb24gRW1iZWRkZWRDaGVja291dFByb3ZpZGVyOiBZb3UgY2Fubm90IGNoYW5nZSB0aGUgb25Db21wbGV0ZSBvcHRpb24gYWZ0ZXIgc2V0dGluZyBpdC4nKTtcbiAgICAgIH1cbiAgICB9LCBbcHJldk9wdGlvbnMsIG9wdGlvbnNdKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRW1iZWRkZWRDaGVja291dENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBjdHhcbiAgICB9LCBjaGlsZHJlbik7XG4gIH07XG5cbiAgdmFyIEVtYmVkZGVkQ2hlY2tvdXRDbGllbnRFbGVtZW50ID0gZnVuY3Rpb24gRW1iZWRkZWRDaGVja291dENsaWVudEVsZW1lbnQoX3JlZikge1xuICAgIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lO1xuXG4gICAgdmFyIF91c2VFbWJlZGRlZENoZWNrb3V0QyA9IHVzZUVtYmVkZGVkQ2hlY2tvdXRDb250ZXh0KCksXG4gICAgICAgIGVtYmVkZGVkQ2hlY2tvdXQgPSBfdXNlRW1iZWRkZWRDaGVja291dEMuZW1iZWRkZWRDaGVja291dDtcblxuICAgIHZhciBpc01vdW50ZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIHZhciBkb21Ob2RlID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIFJlYWN0LnVzZUxheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWlzTW91bnRlZC5jdXJyZW50ICYmIGVtYmVkZGVkQ2hlY2tvdXQgJiYgZG9tTm9kZS5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGVtYmVkZGVkQ2hlY2tvdXQubW91bnQoZG9tTm9kZS5jdXJyZW50KTtcbiAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfSAvLyBDbGVhbiB1cCBvbiB1bm1vdW50XG5cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50ICYmIGVtYmVkZGVkQ2hlY2tvdXQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZW1iZWRkZWRDaGVja291dC51bm1vdW50KCk7XG4gICAgICAgICAgICBpc01vdW50ZWQuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBEbyBub3RoaW5nLlxuICAgICAgICAgICAgLy8gUGFyZW50IGVmZmVjdHMgYXJlIGRlc3Ryb3llZCBiZWZvcmUgY2hpbGQgZWZmZWN0cywgc29cbiAgICAgICAgICAgIC8vIGluIGNhc2VzIHdoZXJlIGJvdGggdGhlIEVtYmVkZGVkQ2hlY2tvdXRQcm92aWRlciBhbmRcbiAgICAgICAgICAgIC8vIHRoZSBFbWJlZGRlZENoZWNrb3V0IGNvbXBvbmVudCBhcmUgcmVtb3ZlZCBhdCB0aGUgc2FtZVxuICAgICAgICAgICAgLy8gdGltZSwgdGhlIGVtYmVkZGVkQ2hlY2tvdXQgaW5zdGFuY2Ugd2lsbCBiZSBkZXN0cm95ZWQsXG4gICAgICAgICAgICAvLyB3aGljaCBjYXVzZXMgYW4gZXJyb3Igd2hlbiBjYWxsaW5nIHVubW91bnQuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sIFtlbWJlZGRlZENoZWNrb3V0XSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogZG9tTm9kZSxcbiAgICAgIGlkOiBpZCxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgfSk7XG4gIH07IC8vIE9ubHkgcmVuZGVyIHRoZSB3cmFwcGVyIGluIGEgc2VydmVyIGVudmlyb25tZW50LlxuXG5cbiAgdmFyIEVtYmVkZGVkQ2hlY2tvdXRTZXJ2ZXJFbGVtZW50ID0gZnVuY3Rpb24gRW1iZWRkZWRDaGVja291dFNlcnZlckVsZW1lbnQoX3JlZjIpIHtcbiAgICB2YXIgaWQgPSBfcmVmMi5pZCxcbiAgICAgICAgY2xhc3NOYW1lID0gX3JlZjIuY2xhc3NOYW1lO1xuICAgIC8vIFZhbGlkYXRlIHRoYXQgd2UgYXJlIGluIHRoZSByaWdodCBjb250ZXh0IGJ5IGNhbGxpbmcgdXNlRW1iZWRkZWRDaGVja291dENvbnRleHQuXG4gICAgdXNlRW1iZWRkZWRDaGVja291dENvbnRleHQoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgaWQ6IGlkLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgRW1iZWRkZWRDaGVja291dCA9IGlzU2VydmVyID8gRW1iZWRkZWRDaGVja291dFNlcnZlckVsZW1lbnQgOiBFbWJlZGRlZENoZWNrb3V0Q2xpZW50RWxlbWVudDtcblxuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I3VzZXN0cmlwZS1ob29rXG4gICAqL1xuXG4gIHZhciB1c2VTdHJpcGUgPSBmdW5jdGlvbiB1c2VTdHJpcGUoKSB7XG4gICAgdmFyIF91c2VFbGVtZW50c09yQ3VzdG9tQyA9IHVzZUVsZW1lbnRzT3JDdXN0b21DaGVja291dFNka0NvbnRleHRXaXRoVXNlQ2FzZSgnY2FsbHMgdXNlU3RyaXBlKCknKSxcbiAgICAgICAgc3RyaXBlID0gX3VzZUVsZW1lbnRzT3JDdXN0b21DLnN0cmlwZTtcblxuICAgIHJldHVybiBzdHJpcGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlcXVpcmVzIGJldGEgYWNjZXNzOlxuICAgKiBDb250YWN0IFtTdHJpcGUgc3VwcG9ydF0oaHR0cHM6Ly9zdXBwb3J0LnN0cmlwZS5jb20vKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgQXVCYW5rQWNjb3VudEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdhdUJhbmtBY2NvdW50JywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgQ2FyZEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdjYXJkJywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgQ2FyZE51bWJlckVsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdjYXJkTnVtYmVyJywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgQ2FyZEV4cGlyeUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdjYXJkRXhwaXJ5JywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgQ2FyZEN2Y0VsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdjYXJkQ3ZjJywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgRnB4QmFua0VsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdmcHhCYW5rJywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgSWJhbkVsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdpYmFuJywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgSWRlYWxCYW5rRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnRDb21wb25lbnQoJ2lkZWFsQmFuaycsIGlzU2VydmVyKTtcbiAgLyoqXG4gICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3N0cmlwZS1qcy9yZWFjdCNlbGVtZW50LWNvbXBvbmVudHNcbiAgICovXG5cbiAgdmFyIFAyNEJhbmtFbGVtZW50ID0gY3JlYXRlRWxlbWVudENvbXBvbmVudCgncDI0QmFuaycsIGlzU2VydmVyKTtcbiAgLyoqXG4gICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3N0cmlwZS1qcy9yZWFjdCNlbGVtZW50LWNvbXBvbmVudHNcbiAgICovXG5cbiAgdmFyIEVwc0JhbmtFbGVtZW50ID0gY3JlYXRlRWxlbWVudENvbXBvbmVudCgnZXBzQmFuaycsIGlzU2VydmVyKTtcbiAgdmFyIFBheW1lbnRFbGVtZW50ID0gY3JlYXRlRWxlbWVudENvbXBvbmVudCgncGF5bWVudCcsIGlzU2VydmVyKTtcbiAgLyoqXG4gICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3N0cmlwZS1qcy9yZWFjdCNlbGVtZW50LWNvbXBvbmVudHNcbiAgICovXG5cbiAgdmFyIEV4cHJlc3NDaGVja291dEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdleHByZXNzQ2hlY2tvdXQnLCBpc1NlcnZlcik7XG4gIC8qKlxuICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9zdHJpcGUtanMvcmVhY3QjZWxlbWVudC1jb21wb25lbnRzXG4gICAqL1xuXG4gIHZhciBQYXltZW50UmVxdWVzdEJ1dHRvbkVsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdwYXltZW50UmVxdWVzdEJ1dHRvbicsIGlzU2VydmVyKTtcbiAgLyoqXG4gICAqIEBkb2NzIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL3N0cmlwZS1qcy9yZWFjdCNlbGVtZW50LWNvbXBvbmVudHNcbiAgICovXG5cbiAgdmFyIExpbmtBdXRoZW50aWNhdGlvbkVsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdsaW5rQXV0aGVudGljYXRpb24nLCBpc1NlcnZlcik7XG4gIC8qKlxuICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9zdHJpcGUtanMvcmVhY3QjZWxlbWVudC1jb21wb25lbnRzXG4gICAqL1xuXG4gIHZhciBBZGRyZXNzRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnRDb21wb25lbnQoJ2FkZHJlc3MnLCBpc1NlcnZlcik7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBVc2UgYEFkZHJlc3NFbGVtZW50YCBpbnN0ZWFkLlxuICAgKlxuICAgKiBAZG9jcyBodHRwczovL3N0cmlwZS5jb20vZG9jcy9zdHJpcGUtanMvcmVhY3QjZWxlbWVudC1jb21wb25lbnRzXG4gICAqL1xuXG4gIHZhciBTaGlwcGluZ0FkZHJlc3NFbGVtZW50ID0gY3JlYXRlRWxlbWVudENvbXBvbmVudCgnc2hpcHBpbmdBZGRyZXNzJywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgUGF5bWVudE1ldGhvZE1lc3NhZ2luZ0VsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdwYXltZW50TWV0aG9kTWVzc2FnaW5nJywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgQWZmaXJtTWVzc2FnZUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50Q29tcG9uZW50KCdhZmZpcm1NZXNzYWdlJywgaXNTZXJ2ZXIpO1xuICAvKipcbiAgICogQGRvY3MgaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3Mvc3RyaXBlLWpzL3JlYWN0I2VsZW1lbnQtY29tcG9uZW50c1xuICAgKi9cblxuICB2YXIgQWZ0ZXJwYXlDbGVhcnBheU1lc3NhZ2VFbGVtZW50ID0gY3JlYXRlRWxlbWVudENvbXBvbmVudCgnYWZ0ZXJwYXlDbGVhcnBheU1lc3NhZ2UnLCBpc1NlcnZlcik7XG5cbiAgZXhwb3J0cy5BZGRyZXNzRWxlbWVudCA9IEFkZHJlc3NFbGVtZW50O1xuICBleHBvcnRzLkFmZmlybU1lc3NhZ2VFbGVtZW50ID0gQWZmaXJtTWVzc2FnZUVsZW1lbnQ7XG4gIGV4cG9ydHMuQWZ0ZXJwYXlDbGVhcnBheU1lc3NhZ2VFbGVtZW50ID0gQWZ0ZXJwYXlDbGVhcnBheU1lc3NhZ2VFbGVtZW50O1xuICBleHBvcnRzLkF1QmFua0FjY291bnRFbGVtZW50ID0gQXVCYW5rQWNjb3VudEVsZW1lbnQ7XG4gIGV4cG9ydHMuQ2FyZEN2Y0VsZW1lbnQgPSBDYXJkQ3ZjRWxlbWVudDtcbiAgZXhwb3J0cy5DYXJkRWxlbWVudCA9IENhcmRFbGVtZW50O1xuICBleHBvcnRzLkNhcmRFeHBpcnlFbGVtZW50ID0gQ2FyZEV4cGlyeUVsZW1lbnQ7XG4gIGV4cG9ydHMuQ2FyZE51bWJlckVsZW1lbnQgPSBDYXJkTnVtYmVyRWxlbWVudDtcbiAgZXhwb3J0cy5DdXN0b21DaGVja291dFByb3ZpZGVyID0gQ3VzdG9tQ2hlY2tvdXRQcm92aWRlcjtcbiAgZXhwb3J0cy5FbGVtZW50cyA9IEVsZW1lbnRzO1xuICBleHBvcnRzLkVsZW1lbnRzQ29uc3VtZXIgPSBFbGVtZW50c0NvbnN1bWVyO1xuICBleHBvcnRzLkVtYmVkZGVkQ2hlY2tvdXQgPSBFbWJlZGRlZENoZWNrb3V0O1xuICBleHBvcnRzLkVtYmVkZGVkQ2hlY2tvdXRQcm92aWRlciA9IEVtYmVkZGVkQ2hlY2tvdXRQcm92aWRlcjtcbiAgZXhwb3J0cy5FcHNCYW5rRWxlbWVudCA9IEVwc0JhbmtFbGVtZW50O1xuICBleHBvcnRzLkV4cHJlc3NDaGVja291dEVsZW1lbnQgPSBFeHByZXNzQ2hlY2tvdXRFbGVtZW50O1xuICBleHBvcnRzLkZweEJhbmtFbGVtZW50ID0gRnB4QmFua0VsZW1lbnQ7XG4gIGV4cG9ydHMuSWJhbkVsZW1lbnQgPSBJYmFuRWxlbWVudDtcbiAgZXhwb3J0cy5JZGVhbEJhbmtFbGVtZW50ID0gSWRlYWxCYW5rRWxlbWVudDtcbiAgZXhwb3J0cy5MaW5rQXV0aGVudGljYXRpb25FbGVtZW50ID0gTGlua0F1dGhlbnRpY2F0aW9uRWxlbWVudDtcbiAgZXhwb3J0cy5QMjRCYW5rRWxlbWVudCA9IFAyNEJhbmtFbGVtZW50O1xuICBleHBvcnRzLlBheW1lbnRFbGVtZW50ID0gUGF5bWVudEVsZW1lbnQ7XG4gIGV4cG9ydHMuUGF5bWVudE1ldGhvZE1lc3NhZ2luZ0VsZW1lbnQgPSBQYXltZW50TWV0aG9kTWVzc2FnaW5nRWxlbWVudDtcbiAgZXhwb3J0cy5QYXltZW50UmVxdWVzdEJ1dHRvbkVsZW1lbnQgPSBQYXltZW50UmVxdWVzdEJ1dHRvbkVsZW1lbnQ7XG4gIGV4cG9ydHMuU2hpcHBpbmdBZGRyZXNzRWxlbWVudCA9IFNoaXBwaW5nQWRkcmVzc0VsZW1lbnQ7XG4gIGV4cG9ydHMudXNlQ3VzdG9tQ2hlY2tvdXQgPSB1c2VDdXN0b21DaGVja291dDtcbiAgZXhwb3J0cy51c2VFbGVtZW50cyA9IHVzZUVsZW1lbnRzO1xuICBleHBvcnRzLnVzZVN0cmlwZSA9IHVzZVN0cmlwZTtcblxufSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fmnt%2Fd%2FGit-upload%2Fautomation%2Fpages%2Findex.tsx&page=%2F!":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fmnt%2Fd%2FGit-upload%2Fautomation%2Fpages%2Findex.tsx&page=%2F! ***!
  \**********************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return __webpack_require__(/*! ./pages/index.tsx */ \"./pages/index.tsx\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD0lMkZtbnQlMkZkJTJGR2l0LXVwbG9hZCUyRmF1dG9tYXRpb24lMkZwYWdlcyUyRmluZGV4LnRzeCZwYWdlPSUyRiEiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQU8sQ0FBQyw0Q0FBbUI7QUFDMUM7QUFDQTtBQUNBLE9BQU8sSUFBVTtBQUNqQixNQUFNLFVBQVU7QUFDaEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzc5YmYiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgKHdpbmRvdy5fX05FWFRfUCA9IHdpbmRvdy5fX05FWFRfUCB8fCBbXSkucHVzaChbXG4gICAgICBcIi9cIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVpcmUoXCIuL3BhZ2VzL2luZGV4LnRzeFwiKTtcbiAgICAgIH1cbiAgICBdKTtcbiAgICBpZihtb2R1bGUuaG90KSB7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cuX19ORVhUX1AucHVzaChbXCIvXCJdKVxuICAgICAgfSk7XG4gICAgfVxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fmnt%2Fd%2FGit-upload%2Fautomation%2Fpages%2Findex.tsx&page=%2F!\n"));

/***/ }),

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Jobs; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/script */ \"./node_modules/next/script.js\");\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_script__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _stripe_stripe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stripe/stripe-js */ \"./node_modules/@stripe/stripe-js/lib/index.mjs\");\n/* harmony import */ var _devlink__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/devlink */ \"./devlink/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @auth0/auth0-spa-js */ \"./node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.esm.js\");\n/* harmony import */ var _contexts_user_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../contexts/user.context */ \"./contexts/user.context.jsx\");\n/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @stripe/react-stripe-js */ \"./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js\");\n/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_7__);\n// import Header from \"../devlink/Header\";\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Jobs() {\n    _s();\n    const copyYear = new Date().getFullYear();\n    const [jobsData, setJobsData] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n    const stripePromise = (0,_stripe_stripe_js__WEBPACK_IMPORTED_MODULE_2__.loadStripe)(\"your-publishable-key-here\");\n    const init = async ()=>{\n        const client = await (0,_auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_5__.createAuth0Client)({\n            clientId: \"aolyX1K624Bl2uqJxkrCqItNhVZbC20H\",\n            domain: \"dev-ql2ny8s6avac68p6.us.auth0.com\"\n        });\n        console.log(client);\n    };\n    init();\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        fetch(\"api/jobs/featured\").then((response)=>response.json()).then((data)=>{\n            setJobsData(data.records);\n        }).catch((e)=>{\n            setError(e);\n            console.error(\"An error occurred: \".concat(error));\n        }).finally(()=>{\n            setLoading(false);\n        });\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_7__.Elements, {\n            stripe: stripePromise,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_user_context__WEBPACK_IMPORTED_MODULE_6__.UserProvider, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_script__WEBPACK_IMPORTED_MODULE_1___default()), {\n                        id: \"webflow-script\",\n                        strategy: \"afterInteractive\",\n                        dangerouslySetInnerHTML: {\n                            __html: \"\\n            if (window.Webflow) {\\n              window.Webflow.destroy();\\n              window.Webflow.ready();\\n              window.Webflow.require('ix2').init();\\n              document.dispatchEvent(new Event('readystatechange'));\\n            }\\n          \"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n                        lineNumber: 50,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_devlink__WEBPACK_IMPORTED_MODULE_3__.Section1, {}, void 0, false, {\n                        fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n                        lineNumber: 64,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_devlink__WEBPACK_IMPORTED_MODULE_3__.Section2, {}, void 0, false, {\n                        fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n                        lineNumber: 65,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_devlink__WEBPACK_IMPORTED_MODULE_3__.Section3, {}, void 0, false, {\n                        fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n                        lineNumber: 66,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_devlink__WEBPACK_IMPORTED_MODULE_3__.Section4, {}, void 0, false, {\n                        fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n                        lineNumber: 67,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_devlink__WEBPACK_IMPORTED_MODULE_3__.Section5, {}, void 0, false, {\n                        fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n                        lineNumber: 68,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_devlink__WEBPACK_IMPORTED_MODULE_3__.Section6, {}, void 0, false, {\n                        fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n                        lineNumber: 69,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_devlink__WEBPACK_IMPORTED_MODULE_3__.Footer, {}, void 0, false, {\n                        fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n                        lineNumber: 70,\n                        columnNumber: 7\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n                lineNumber: 49,\n                columnNumber: 5\n            }, this)\n        }, void 0, false, {\n            fileName: \"/mnt/d/Git-upload/automation/pages/index.tsx\",\n            lineNumber: 48,\n            columnNumber: 5\n        }, this)\n    }, void 0, false);\n}\n_s(Jobs, \"yPEBjXAg7fZKsBxoltLacWt5IqY=\");\n_c = Jobs;\nvar _c;\n$RefreshReg$(_c, \"Jobs\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDBDQUEwQzs7O0FBQ1Q7QUFDYztBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNGO0FBRVc7QUFDWTtBQUNBO0FBQ0w7QUFFcEMsU0FBU2M7O0lBQ3RCLE1BQU1DLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztJQUN2QyxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR1YsK0NBQVFBLENBQVEsRUFBRTtJQUNsRCxNQUFNLENBQUNXLFNBQVNDLFdBQVcsR0FBR1osK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDYSxPQUFPQyxTQUFTLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU1lLGdCQUFnQnZCLDZEQUFVQSxDQUFDO0lBQ2pDLE1BQU13QixPQUFPO1FBQ1gsTUFBTUMsU0FBUyxNQUFNZixzRUFBaUJBLENBQUM7WUFDckNnQixVQUFVO1lBQ1ZDLFFBQVE7UUFDVjtRQUNBQyxRQUFRQyxHQUFHLENBQUNKO0lBQ2Q7SUFDQUQ7SUFFQWYsZ0RBQVNBLENBQUM7UUFDUnFCLE1BQU0scUJBQ0hDLElBQUksQ0FBQyxDQUFDQyxXQUFhQSxTQUFTQyxJQUFJLElBQ2hDRixJQUFJLENBQUMsQ0FBQ0c7WUFDTGhCLFlBQVlnQixLQUFLQyxPQUFPO1FBQzFCLEdBQ0NDLEtBQUssQ0FBQyxDQUFDQztZQUNOZixTQUFTZTtZQUNUVCxRQUFRUCxLQUFLLENBQUMsc0JBQTRCLE9BQU5BO1FBQ3RDLEdBQ0NpQixPQUFPLENBQUM7WUFDUGxCLFdBQVc7UUFDYjtJQUNKLEdBQUcsRUFBRTtJQUNMLHFCQUNFO2tCQUNBLDRFQUFDUiw2REFBUUE7WUFBQzJCLFFBQVFoQjtzQkFDbEIsNEVBQUNaLGdFQUFZQTs7a0NBQ1gsOERBQUNaLG9EQUFNQTt3QkFDTHlDLElBQUc7d0JBQ0hDLFVBQVM7d0JBQ1RDLHlCQUF5Qjs0QkFDdkJDLFFBQVM7d0JBUVg7Ozs7OztrQ0FFRiw4REFBQzFDLDhDQUFRQTs7Ozs7a0NBQ1QsOERBQUNDLDhDQUFRQTs7Ozs7a0NBQ1QsOERBQUNDLDhDQUFRQTs7Ozs7a0NBQ1QsOERBQUNDLDhDQUFRQTs7Ozs7a0NBQ1QsOERBQUNDLDhDQUFRQTs7Ozs7a0NBQ1QsOERBQUNDLDhDQUFRQTs7Ozs7a0NBQ1QsOERBQUNDLDRDQUFNQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNYjtHQTNEd0JNO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL2luZGV4LnRzeD8wN2ZmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCBIZWFkZXIgZnJvbSBcIi4uL2RldmxpbmsvSGVhZGVyXCI7XG5pbXBvcnQgU2NyaXB0IGZyb20gJ25leHQvc2NyaXB0JztcbmltcG9ydCB7IGxvYWRTdHJpcGUgfSBmcm9tICdAc3RyaXBlL3N0cmlwZS1qcyc7XG5pbXBvcnQge1NlY3Rpb24xfSBmcm9tIFwiQC9kZXZsaW5rXCI7XG5pbXBvcnQge1NlY3Rpb24yfSBmcm9tIFwiQC9kZXZsaW5rXCI7XG5pbXBvcnQge1NlY3Rpb24zfSBmcm9tIFwiQC9kZXZsaW5rXCI7XG5pbXBvcnQge1NlY3Rpb240fSBmcm9tIFwiQC9kZXZsaW5rXCI7XG5pbXBvcnQge1NlY3Rpb241fSBmcm9tIFwiQC9kZXZsaW5rXCI7XG5pbXBvcnQge1NlY3Rpb242fSBmcm9tIFwiQC9kZXZsaW5rXCI7XG5pbXBvcnQge0Zvb3Rlcn0gZnJvbSBcIkAvZGV2bGlua1wiO1xuaW1wb3J0IHsgQ2hhcnQgfSBmcm9tIFwiQC9jb21wb25lbnRzXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVBdXRoMENsaWVudCB9IGZyb20gJ0BhdXRoMC9hdXRoMC1zcGEtanMnO1xuaW1wb3J0IHsgVXNlclByb3ZpZGVyIH0gZnJvbSBcIi4uL2NvbnRleHRzL3VzZXIuY29udGV4dFwiO1xuaW1wb3J0IHsgRWxlbWVudHMgfSBmcm9tICdAc3RyaXBlL3JlYWN0LXN0cmlwZS1qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEpvYnMoKSB7XG4gIGNvbnN0IGNvcHlZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBbam9ic0RhdGEsIHNldEpvYnNEYXRhXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBzdHJpcGVQcm9taXNlID0gbG9hZFN0cmlwZSgneW91ci1wdWJsaXNoYWJsZS1rZXktaGVyZScpO1xuICBjb25zdCBpbml0ID0gYXN5bmMoKT0+e1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUF1dGgwQ2xpZW50KHtcbiAgICAgIGNsaWVudElkOiAnYW9seVgxSzYyNEJsMnVxSnhrckNxSXROaFZaYkMyMEgnLFxuICAgICAgZG9tYWluOiAnZGV2LXFsMm55OHM2YXZhYzY4cDYudXMuYXV0aDAuY29tJ1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGNsaWVudCk7XG4gIH07XG4gIGluaXQoKTtcbiAgXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goXCJhcGkvam9icy9mZWF0dXJlZFwiKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBzZXRKb2JzRGF0YShkYXRhLnJlY29yZHMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBzZXRFcnJvcihlKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3J9YCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9LCBbXSk7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICA8RWxlbWVudHMgc3RyaXBlPXtzdHJpcGVQcm9taXNlfT5cbiAgICA8VXNlclByb3ZpZGVyPlxuICAgICAgPFNjcmlwdFxuICAgICAgICBpZD1cIndlYmZsb3ctc2NyaXB0XCJcbiAgICAgICAgc3RyYXRlZ3k9XCJhZnRlckludGVyYWN0aXZlXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAgICAgIGlmICh3aW5kb3cuV2ViZmxvdykge1xuICAgICAgICAgICAgICB3aW5kb3cuV2ViZmxvdy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgIHdpbmRvdy5XZWJmbG93LnJlYWR5KCk7XG4gICAgICAgICAgICAgIHdpbmRvdy5XZWJmbG93LnJlcXVpcmUoJ2l4MicpLmluaXQoKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3JlYWR5c3RhdGVjaGFuZ2UnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYCxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICA8U2VjdGlvbjEvPlxuICAgICAgPFNlY3Rpb24yLz5cbiAgICAgIDxTZWN0aW9uMy8+XG4gICAgICA8U2VjdGlvbjQvPlxuICAgICAgPFNlY3Rpb241Lz5cbiAgICAgIDxTZWN0aW9uNi8+XG4gICAgICA8Rm9vdGVyLz5cbiAgICAgIDwvVXNlclByb3ZpZGVyPlxuICAgICAgPC9FbGVtZW50cz5cblxuICAgIDwvPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlNjcmlwdCIsImxvYWRTdHJpcGUiLCJTZWN0aW9uMSIsIlNlY3Rpb24yIiwiU2VjdGlvbjMiLCJTZWN0aW9uNCIsIlNlY3Rpb241IiwiU2VjdGlvbjYiLCJGb290ZXIiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImNyZWF0ZUF1dGgwQ2xpZW50IiwiVXNlclByb3ZpZGVyIiwiRWxlbWVudHMiLCJKb2JzIiwiY29weVllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJqb2JzRGF0YSIsInNldEpvYnNEYXRhIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwic3RyaXBlUHJvbWlzZSIsImluaXQiLCJjbGllbnQiLCJjbGllbnRJZCIsImRvbWFpbiIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJkYXRhIiwicmVjb3JkcyIsImNhdGNoIiwiZSIsImZpbmFsbHkiLCJzdHJpcGUiLCJpZCIsInN0cmF0ZWd5IiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.tsx\n"));

/***/ }),

/***/ "./node_modules/next/script.js":
/*!*************************************!*\
  !*** ./node_modules/next/script.js ***!
  \*************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("module.exports = __webpack_require__(/*! ./dist/client/script */ \"./node_modules/next/dist/client/script.js\")\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9zY3JpcHQuanMiLCJtYXBwaW5ncyI6IkFBQUEsNkdBQWdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L3NjcmlwdC5qcz9lNGJhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0L2NsaWVudC9zY3JpcHQnKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/script.js\n"));

/***/ }),

/***/ "./node_modules/@stripe/stripe-js/dist/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@stripe/stripe-js/dist/index.mjs ***!
  \*******************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadStripe: function() { return /* binding */ loadStripe; }\n/* harmony export */ });\nvar V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"4.0.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function () {\n    reject(new Error('Failed to load Stripe.js'));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise[\"catch\"](function (error) {\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise$1;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise$1) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n  return stripePromise$1;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN0cmlwZS9zdHJpcGUtanMvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQSx3SUFBd0k7QUFDeEk7QUFDQTs7QUFFQSxrQkFBa0Isb0JBQW9CO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUc7O0FBRU47QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLHNFQUFzRSxhQUFhO0FBQ25GO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Ac3RyaXBlL3N0cmlwZS1qcy9kaXN0L2luZGV4Lm1qcz80YmVhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBWM19VUkwgPSAnaHR0cHM6Ly9qcy5zdHJpcGUuY29tL3YzJztcbnZhciBWM19VUkxfUkVHRVggPSAvXmh0dHBzOlxcL1xcL2pzXFwuc3RyaXBlXFwuY29tXFwvdjNcXC8/KFxcPy4qKT8kLztcbnZhciBFWElTVElOR19TQ1JJUFRfTUVTU0FHRSA9ICdsb2FkU3RyaXBlLnNldExvYWRQYXJhbWV0ZXJzIHdhcyBjYWxsZWQgYnV0IGFuIGV4aXN0aW5nIFN0cmlwZS5qcyBzY3JpcHQgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGRvY3VtZW50OyBleGlzdGluZyBzY3JpcHQgcGFyYW1ldGVycyB3aWxsIGJlIHVzZWQnO1xudmFyIGZpbmRTY3JpcHQgPSBmdW5jdGlvbiBmaW5kU2NyaXB0KCkge1xuICB2YXIgc2NyaXB0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRbc3JjXj1cXFwiXCIuY29uY2F0KFYzX1VSTCwgXCJcXFwiXVwiKSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNjcmlwdCA9IHNjcmlwdHNbaV07XG5cbiAgICBpZiAoIVYzX1VSTF9SRUdFWC50ZXN0KHNjcmlwdC5zcmMpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2NyaXB0O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgaW5qZWN0U2NyaXB0ID0gZnVuY3Rpb24gaW5qZWN0U2NyaXB0KHBhcmFtcykge1xuICB2YXIgcXVlcnlTdHJpbmcgPSBwYXJhbXMgJiYgIXBhcmFtcy5hZHZhbmNlZEZyYXVkU2lnbmFscyA/ICc/YWR2YW5jZWRGcmF1ZFNpZ25hbHM9ZmFsc2UnIDogJyc7XG4gIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgc2NyaXB0LnNyYyA9IFwiXCIuY29uY2F0KFYzX1VSTCkuY29uY2F0KHF1ZXJ5U3RyaW5nKTtcbiAgdmFyIGhlYWRPckJvZHkgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHk7XG5cbiAgaWYgKCFoZWFkT3JCb2R5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBkb2N1bWVudC5ib2R5IG5vdCB0byBiZSBudWxsLiBTdHJpcGUuanMgcmVxdWlyZXMgYSA8Ym9keT4gZWxlbWVudC4nKTtcbiAgfVxuXG4gIGhlYWRPckJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgcmV0dXJuIHNjcmlwdDtcbn07XG5cbnZhciByZWdpc3RlcldyYXBwZXIgPSBmdW5jdGlvbiByZWdpc3RlcldyYXBwZXIoc3RyaXBlLCBzdGFydFRpbWUpIHtcbiAgaWYgKCFzdHJpcGUgfHwgIXN0cmlwZS5fcmVnaXN0ZXJXcmFwcGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3RyaXBlLl9yZWdpc3RlcldyYXBwZXIoe1xuICAgIG5hbWU6ICdzdHJpcGUtanMnLFxuICAgIHZlcnNpb246IFwiNC4wLjBcIixcbiAgICBzdGFydFRpbWU6IHN0YXJ0VGltZVxuICB9KTtcbn07XG5cbnZhciBzdHJpcGVQcm9taXNlID0gbnVsbDtcbnZhciBvbkVycm9yTGlzdGVuZXIgPSBudWxsO1xudmFyIG9uTG9hZExpc3RlbmVyID0gbnVsbDtcblxudmFyIG9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKHJlamVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFN0cmlwZS5qcycpKTtcbiAgfTtcbn07XG5cbnZhciBvbkxvYWQgPSBmdW5jdGlvbiBvbkxvYWQocmVzb2x2ZSwgcmVqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdpbmRvdy5TdHJpcGUpIHtcbiAgICAgIHJlc29sdmUod2luZG93LlN0cmlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1N0cmlwZS5qcyBub3QgYXZhaWxhYmxlJykpO1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBsb2FkU2NyaXB0ID0gZnVuY3Rpb24gbG9hZFNjcmlwdChwYXJhbXMpIHtcbiAgLy8gRW5zdXJlIHRoYXQgd2Ugb25seSBhdHRlbXB0IHRvIGxvYWQgU3RyaXBlLmpzIGF0IG1vc3Qgb25jZVxuICBpZiAoc3RyaXBlUHJvbWlzZSAhPT0gbnVsbCkge1xuICAgIHJldHVybiBzdHJpcGVQcm9taXNlO1xuICB9XG5cbiAgc3RyaXBlUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmVzb2x2ZSB0byBudWxsIHdoZW4gaW1wb3J0ZWQgc2VydmVyIHNpZGUuIFRoaXMgbWFrZXMgdGhlIG1vZHVsZVxuICAgICAgLy8gc2FmZSB0byBpbXBvcnQgaW4gYW4gaXNvbW9ycGhpYyBjb2RlIGJhc2UuXG4gICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuU3RyaXBlICYmIHBhcmFtcykge1xuICAgICAgY29uc29sZS53YXJuKEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LlN0cmlwZSkge1xuICAgICAgcmVzb2x2ZSh3aW5kb3cuU3RyaXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHNjcmlwdCA9IGZpbmRTY3JpcHQoKTtcblxuICAgICAgaWYgKHNjcmlwdCAmJiBwYXJhbXMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFKTtcbiAgICAgIH0gZWxzZSBpZiAoIXNjcmlwdCkge1xuICAgICAgICBzY3JpcHQgPSBpbmplY3RTY3JpcHQocGFyYW1zKTtcbiAgICAgIH0gZWxzZSBpZiAoc2NyaXB0ICYmIG9uTG9hZExpc3RlbmVyICE9PSBudWxsICYmIG9uRXJyb3JMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgX3NjcmlwdCRwYXJlbnROb2RlO1xuXG4gICAgICAgIC8vIHJlbW92ZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgc2NyaXB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWRMaXN0ZW5lcik7XG4gICAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3JMaXN0ZW5lcik7IC8vIGlmIHNjcmlwdCBleGlzdHMsIGJ1dCB3ZSBhcmUgcmVsb2FkaW5nIGR1ZSB0byBhbiBlcnJvcixcbiAgICAgICAgLy8gcmVsb2FkIHNjcmlwdCB0byB0cmlnZ2VyICdsb2FkJyBldmVudFxuXG4gICAgICAgIChfc2NyaXB0JHBhcmVudE5vZGUgPSBzY3JpcHQucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX3NjcmlwdCRwYXJlbnROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2NyaXB0JHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgc2NyaXB0ID0gaW5qZWN0U2NyaXB0KHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIG9uTG9hZExpc3RlbmVyID0gb25Mb2FkKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICBvbkVycm9yTGlzdGVuZXIgPSBvbkVycm9yKHJlamVjdCk7XG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZExpc3RlbmVyKTtcbiAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3JMaXN0ZW5lcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTsgLy8gUmVzZXRzIHN0cmlwZVByb21pc2Ugb24gZXJyb3JcblxuICByZXR1cm4gc3RyaXBlUHJvbWlzZVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHN0cmlwZVByb21pc2UgPSBudWxsO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH0pO1xufTtcbnZhciBpbml0U3RyaXBlID0gZnVuY3Rpb24gaW5pdFN0cmlwZShtYXliZVN0cmlwZSwgYXJncywgc3RhcnRUaW1lKSB7XG4gIGlmIChtYXliZVN0cmlwZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHN0cmlwZSA9IG1heWJlU3RyaXBlLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gIHJlZ2lzdGVyV3JhcHBlcihzdHJpcGUsIHN0YXJ0VGltZSk7XG4gIHJldHVybiBzdHJpcGU7XG59OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuXG52YXIgc3RyaXBlUHJvbWlzZSQxO1xudmFyIGxvYWRDYWxsZWQgPSBmYWxzZTtcblxudmFyIGdldFN0cmlwZVByb21pc2UgPSBmdW5jdGlvbiBnZXRTdHJpcGVQcm9taXNlKCkge1xuICBpZiAoc3RyaXBlUHJvbWlzZSQxKSB7XG4gICAgcmV0dXJuIHN0cmlwZVByb21pc2UkMTtcbiAgfVxuXG4gIHN0cmlwZVByb21pc2UkMSA9IGxvYWRTY3JpcHQobnVsbClbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAvLyBjbGVhciBjYWNoZSBvbiBlcnJvclxuICAgIHN0cmlwZVByb21pc2UkMSA9IG51bGw7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfSk7XG4gIHJldHVybiBzdHJpcGVQcm9taXNlJDE7XG59OyAvLyBFeGVjdXRlIG91ciBvd24gc2NyaXB0IGluamVjdGlvbiBhZnRlciBhIHRpY2sgdG8gZ2l2ZSB1c2VycyB0aW1lIHRvIGRvIHRoZWlyXG4vLyBvd24gc2NyaXB0IGluamVjdGlvbi5cblxuXG5Qcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGdldFN0cmlwZVByb21pc2UoKTtcbn0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gIGlmICghbG9hZENhbGxlZCkge1xuICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gIH1cbn0pO1xudmFyIGxvYWRTdHJpcGUgPSBmdW5jdGlvbiBsb2FkU3RyaXBlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgbG9hZENhbGxlZCA9IHRydWU7XG4gIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpOyAvLyBpZiBwcmV2aW91cyBhdHRlbXB0cyBhcmUgdW5zdWNjZXNzZnVsLCB3aWxsIHJlLWxvYWQgc2NyaXB0XG5cbiAgcmV0dXJuIGdldFN0cmlwZVByb21pc2UoKS50aGVuKGZ1bmN0aW9uIChtYXliZVN0cmlwZSkge1xuICAgIHJldHVybiBpbml0U3RyaXBlKG1heWJlU3RyaXBlLCBhcmdzLCBzdGFydFRpbWUpO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IGxvYWRTdHJpcGUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@stripe/stripe-js/dist/index.mjs\n"));

/***/ }),

/***/ "./node_modules/@stripe/stripe-js/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@stripe/stripe-js/lib/index.mjs ***!
  \******************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dist_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dist/index.mjs */ \"./node_modules/@stripe/stripe-js/dist/index.mjs\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _dist_index_mjs__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _dist_index_mjs__WEBPACK_IMPORTED_MODULE_0__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN0cmlwZS9zdHJpcGUtanMvbGliL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHN0cmlwZS9zdHJpcGUtanMvbGliL2luZGV4Lm1qcz9jMzExIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4uL2Rpc3QvaW5kZXgubWpzJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@stripe/stripe-js/lib/index.mjs\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fmnt%2Fd%2FGit-upload%2Fautomation%2Fpages%2Findex.tsx&page=%2F!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);